/*! For license information please see main.29a06d27.js.LICENSE.txt */
!function(){var e={7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3646:function(e,t,n){var r=n(7228);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},9842:function(e,t,n){var r=n(9754),i=n(7067),o=n(8585);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},9754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2205:function(e,t,n){var r=n(9489);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},862:function(e,t,n){var r=n(8).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}return o.default=e,n&&n.set(e,o),o},e.exports.__esModule=!0,e.exports.default=e.exports},7067:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},6860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8585:function(e,t,n){var r=n(8).default,i=n(1506);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9489:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3038:function(e,t,n){var r=n(2858),i=n(3884),o=n(379),a=n(521);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},8551:function(e,t,n){var r=n(2858),i=n(6860),o=n(379),a=n(521);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,n){var r=n(3646),i=n(6860),o=n(379),a=n(8206);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,n){var r=n(7228);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(9727)},5589:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(3433),i=n(1413),o=n(5671),a=n(3144),s=n(6274),l=n(9359),u=(0,l.Z)("mapSlots_slots"),c=(0,l.Z)("applyBoard"),d=(0,l.Z)("applyBoard_createStaticBoard"),f=(0,l.Z)("applyBoard_createPassiveBoard"),h=(0,l.Z)("applyBoard_slots"),p=(0,l.Z)("applyBoard_type"),v=(0,l.Z)("applyBoard_attribute"),m=(0,l.Z)("applyBoard_mod"),g=(0,l.Z)("applyBoard_sortMods"),y=(0,l.Z)("applyBoard_modIsModApplicable"),b=(0,l.Z)("applyBoard_modIsTypeApplicable"),_=(0,l.Z)("applyBoard_modIsStateApplicable"),x=(0,l.Z)("giveDomainID"),w=(0,l.Z)("giveDomainID_slots"),S=(0,l.Z)("giveDomainID_skills"),k=(0,l.Z)("createBoard"),C=(0,l.Z)("createBoard_slots"),E=(0,l.Z)("createBoard_skills"),T=(0,l.Z)("createBoard_singleType"),P=(0,l.Z)("createBoard_setState"),I=(0,l.Z)("common_findAttributeByID"),R=(0,l.Z)("common_operation"),O=(0,l.Z)("oepration_mul"),L=(0,l.Z)("oepration_per"),D=(0,l.Z)("operation_add"),N=(0,l.Z)("operation_sub"),A=(0,l.Z)("operation_div"),M=(0,l.Z)("common_penaltyMul"),Z=(0,l.Z)("common_penalizedModifyingValue"),j=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,null,[{key:"extractSkillsStaticPlaneBoard",value:function(t){if(t.constructor!==Object)return[];var n=(0,s.Z)(e,E)[E](t),r=(0,s.Z)(e,d)[d](n);return Object.values(r).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{debug:void 0,falseDebug:void 0})}))}}]),e}();j.validateChargeSlot=function(e){var t;if(!e||!e.item||!e.charge)return!1;var n=e.item,r=e.charge,i=(0,s.Z)(j,I)[I](n,128),o=(0,s.Z)(j,I)[I](r,128);if(i&&o&&i.value!==o.value)return!1;var a=[604,605,606,609,610].map((function(e){var t=(0,s.Z)(j,I)[I](n,e);return t?t.value:void 0})).filter((function(e){return e}));if(0===a.length)return!1;if(!a.includes(r.groupID))return!1;var l=n.capacity,u=r.volume,c=null===(t=(0,s.Z)(j,I)[I](n,56))||void 0===t?void 0:t.value,d=c?u*c:0;return!(Math.floor(l/d)<=0)},j.mapSlots_CONFIG={isIterate:{ship:!1,miscSlots:!1,highSlots:!1,midSlots:!1,lowSlots:!1,rigSlots:!1,droneSlots:!1,implantSlots:!1,drugSlots:!1,exSlots:!1}},j.mapSlots=function(e,t,n){var r=(0,i.Z)((0,i.Z)({},j.mapSlots_CONFIG.isIterate),n.isIterate);return["ship","miscSlots","highSlots","midSlots","lowSlots","rigSlots","droneSlots","implantSlots","drugSlots","exSlots"].reduce((function(n,i){return!0===r[i]?n.concat((0,s.Z)(j,u)[u](e[i],t)):n}),[])},Object.defineProperty(j,u,{writable:!0,value:function(e,t){return e?e.map((function(e){return t(e)})):[]}}),j.apply=function(e){var t=(0,s.Z)(j,x)[x](e),n=(0,s.Z)(j,k)[k](t),r=(0,s.Z)(j,d)[d](n);return(0,s.Z)(j,c)[c](t,r)},Object.defineProperty(j,c,{writable:!0,value:function(e,t){var n=(0,s.Z)(j,p)[p](e.ship,t),r=(0,s.Z)(j,h)[h](e.miscSlots,t),i=(0,s.Z)(j,h)[h](e.highSlots,t),o=(0,s.Z)(j,h)[h](e.midSlots,t);return{ship:n,miscSlots:r,lowSlots:(0,s.Z)(j,h)[h](e.lowSlots,t),midSlots:o,highSlots:i,rigSlots:(0,s.Z)(j,h)[h](e.rigSlots,t),droneSlots:(0,s.Z)(j,h)[h](e.droneSlots,t),implantSlots:(0,s.Z)(j,h)[h](e.implantSlots,t),drugSlots:(0,s.Z)(j,h)[h](e.drugSlots,t)}}}),Object.defineProperty(j,d,{writable:!0,value:function(e){var t={},n=(0,s.Z)(j,f)[f](e);return e.forEach((function(e){if(t[e.modifiedAttributeID]||(t[e.modifiedAttributeID]=[]),!0===e.isStatic)t[e.modifiedAttributeID].push(e);else{var r=(0,s.Z)(j,m)[m](e,n);r.isStatic=!0,t[e.modifiedAttributeID].push(r)}})),t}}),Object.defineProperty(j,f,{writable:!0,value:function(e){var t={};return e.forEach((function(e){t[e.modifiedAttributeID]||(t[e.modifiedAttributeID]=[]),t[e.modifiedAttributeID].push(e)})),t}}),Object.defineProperty(j,h,{writable:!0,value:function(e,t){return e.map((function(e){var n=e.item,r=e.charge;return(0,i.Z)((0,i.Z)({},e),{},{item:(0,s.Z)(j,p)[p](n,t),charge:(0,s.Z)(j,p)[p](r,t)})}))}}),Object.defineProperty(j,p,{writable:!0,value:function(e,t){if(!e||!e.typeAttributesStats)return e;var n=e.typeAttributesStats.map((function(n){return(0,s.Z)(j,v)[v](e,n,t)}));return(0,i.Z)((0,i.Z)({},e),{},{typeAttributesStats:n})}}),Object.defineProperty(j,v,{writable:!0,value:function(e,t,n){var r=n[t.attributeID];if(!r||0===r.length)return t;var o=t.value,a=0;(t.debug||t.falseDebug)&&console.log("ERROR","debugCorrupt");var l=[],u=[];return(0,s.Z)(j,g)[g](r.map((function(e){return(0,s.Z)(j,m)[m](e,n)}))).forEach((function(t){if((0,s.Z)(j,b)[b](e,t)){var n=o;o=(0,s.Z)(j,R)[R](o,t.modifyingAttributeValue,t.operation,a),l.push((0,i.Z)((0,i.Z)({},t),{},{penCount:a,values:{baseValue:n,appliedValue:o,penalizedModifyingAttributeValue:(0,s.Z)(j,Z)[Z](t.modifyingAttributeValue,t.operation,a)}})),!0===t.isPenalized&&a++}else u.push(t)})),(0,i.Z)((0,i.Z)({},t),{},{value:o,debug:l,falseDebug:u})}}),Object.defineProperty(j,m,{writable:!0,value:function(e,t){if(e.modifyingAttributeID===e.modifiedAttributeID||!0===e.isStatic)return e;var n=t[e.modifyingAttributeID];if(!n||0===n.length)return e;var r=e.modifyingAttributeValue,o=0;(e.debug||e.falseDebug)&&console.log("ERROR","debugCorrupt");var a=[],l=[];return(0,s.Z)(j,g)[g](n.map((function(e){return(0,s.Z)(j,m)[m](e,t)}))).forEach((function(t){if((0,s.Z)(j,y)[y](e,t)){var n=r;r=(0,s.Z)(j,R)[R](r,t.modifyingAttributeValue,t.operation,o),a.push((0,i.Z)((0,i.Z)({},t),{},{penCount:o,values:{baseValue:n,appliedValue:r,penalizedModifyingAttributeValue:(0,s.Z)(j,Z)[Z](t.modifyingAttributeValue,t.operation,o)}})),!0===t.isPenalized&&o++}else l.push(t)})),(0,i.Z)((0,i.Z)({},e),{},{modifyingAttributeValue:r,debug:a,falseDebug:l})}}),Object.defineProperty(j,g,{writable:!0,value:function(e){var t=e[0],n=function(){return!0},r=t.modifiedAttributeHighIsGood;!0===r?n=function(e,t){return e.operation===t.operation?t.modifyingAttributeValue-e.modifyingAttributeValue:"prePercent"===e.operation||"postPercent"===e.operation?t.modifyingAttributeValue-e.modifyingAttributeValue-1:"prePercent"===t.operation||"postPercent"===t.operation?1+t.modifyingAttributeValue-e.modifyingAttributeValue:void 0}:!1===r&&(n=function(e,t){return e.operation===t.operation?e.modifyingAttributeValue-t.modifyingAttributeValue:"prePercent"===e.operation||"postPercent"===e.operation?1+e.modifyingAttributeValue-t.modifyingAttributeValue:"prePercent"===t.operation||"postPercent"===t.operation?e.modifyingAttributeValue-t.modifyingAttributeValue-1:void 0});var o=[],a=[];return e.forEach((function(e){"modAdd"===e.operation||"modSub"===e.operation?o.unshift(e):"postDiv"===e.operation||!0===e.isStackException?o.push(e):a.push(e)})),!1===t.modifiedAttributeStackable&&(a.sort(n),a.forEach((function(e,t,n){n[t]=(0,i.Z)((0,i.Z)({},e),{},{isPenalized:!0})}))),o.concat(a)}}),Object.defineProperty(j,y,{writable:!0,value:function(e,t){var n,r;if(!(0,s.Z)(j,_)[_](t))return!1;switch(t.domain){case"itemID":if("ItemModifier"===t.func)return e.domainID===t.domainID;case"shipID":switch(t.func){case"ItemModifier":return"ship"===e.domainID;case"LocationGroupModifier":return e.typeGroupID===t.groupID;case"LocationRequiredSkillModifier":return null===(n=e.typeSkills)||void 0===n?void 0:n.includes(t.skillTypeID)}case"charID":switch(t.func){case"OwnerRequiredSkillModifier":return null===(r=e.typeSkills)||void 0===r?void 0:r.includes(t.skillTypeID);case"ItemModifier":return!0}case"target":return!1;default:return"shadowBarrageFalloffWithFalloffPostPercentBarrageFalloffMutator"===e.effectName||console.error("MOD_APPLICABLE_UNKNOWN",e,"<-",t),!1}}}),Object.defineProperty(j,b,{writable:!0,value:function(e,t){var n,r;if(!(0,s.Z)(j,_)[_](t))return!1;switch(void 0===e.domainID&&console.log("domainID missing",e),t.domain){case"itemID":if("ItemModifier"===t.func)return e.domainID===t.domainID;case"target":if(t.rootID===e.rootID)return!1;case"shipID":switch(t.func){case"ItemModifier":return"ship"===e.domainID;case"LocationGroupModifier":return e.groupID===t.groupID;case"LocationRequiredSkillModifier":return null===(n=e.typeSkills)||void 0===n?void 0:n.includes(t.skillTypeID)}case"charID":switch(t.func){case"OwnerRequiredSkillModifier":return null===(r=e.typeSkills)||void 0===r?void 0:r.includes(t.skillTypeID);case"ItemModifier":return!0}case"otherID":if("ItemModifier"===t.func)return e.domainID.split(".")[0]===t.domainID.split(".")[0]&&e.domainID.split(".")[1]===t.domainID.split(".")[1];case"structureID":return!1;default:return console.error("TYPE_APPLICABLE_UNKNOWN",e,"<-",t),!1}}}),Object.defineProperty(j,_,{writable:!0,value:function(e){switch(e.typeState){case"overload":return!0;case"activation":return"overload"!==e.effectCategory;case"passive":switch(e.effectCategory){case"overload":case"target":case"activation":return!1;default:return!0}case"offline":return e.effectCategory,!1;default:return!1}}}),Object.defineProperty(j,x,{writable:!0,value:function(e){return{skills:(0,s.Z)(j,S)[S](e.skills),ship:(0,i.Z)((0,i.Z)({},e.ship),{},{domainID:"ship"}),miscSlots:(0,s.Z)(j,w)[w](e.miscSlots,"miscSlots"),lowSlots:(0,s.Z)(j,w)[w](e.lowSlots,"lowSlots"),midSlots:(0,s.Z)(j,w)[w](e.midSlots,"midSlots"),highSlots:(0,s.Z)(j,w)[w](e.highSlots,"highSlots"),rigSlots:(0,s.Z)(j,w)[w](e.rigSlots,"rigSlots"),droneSlots:(0,s.Z)(j,w)[w](e.droneSlots,"droneSlots"),implantSlots:(0,s.Z)(j,w)[w](e.implantSlots,"implantSlots"),drugSlots:(0,s.Z)(j,w)[w](e.drugSlots,"drugSlots"),exSlots:(0,s.Z)(j,w)[w](e.exSlots,"exSlots")}}}),Object.defineProperty(j,w,{writable:!0,value:function(e,t){if(e&&e.constructor===Array)return e.map((function(e,n){return{item:!!e.item.typeID&&(0,i.Z)((0,i.Z)({},e.item),{},{domainID:"".concat(t,".").concat(n,".item")}),charge:!!e.charge.typeID&&(0,i.Z)((0,i.Z)({},e.charge),{},{domainID:"".concat(t,".").concat(n,".charge")})}}))}}),Object.defineProperty(j,S,{writable:!0,value:function(e){return e&&e.constructor===Array?void 0!==e[0].domainID?e:e.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{domainID:"skill:".concat(e.typeName)})})):e}}),Object.defineProperty(j,k,{writable:!0,value:function(e){var t=(0,s.Z)(j,E)[E](e.skills),n=(0,s.Z)(j,T)[T](e.ship,!0),i=(0,s.Z)(j,C)[C](e.miscSlots,!0),o=(0,s.Z)(j,C)[C](e.lowSlots),a=(0,s.Z)(j,C)[C](e.midSlots),l=(0,s.Z)(j,C)[C](e.highSlots),u=(0,s.Z)(j,C)[C](e.rigSlots),c=(0,s.Z)(j,C)[C](e.droneSlots),d=(0,s.Z)(j,C)[C](e.implantSlots),f=(0,s.Z)(j,C)[C](e.drugSlots),h=(0,s.Z)(j,C)[C](e.exSlots).filter((function(e){return"target"===e.domain}));return[].concat((0,r.Z)(t),(0,r.Z)(n),(0,r.Z)(i),(0,r.Z)(o),(0,r.Z)(a),(0,r.Z)(l),(0,r.Z)(u),(0,r.Z)(c),(0,r.Z)(d),(0,r.Z)(f),(0,r.Z)(h))}}),Object.defineProperty(j,C,{writable:!0,value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||e.constructor!==Array)return[];var n=[];return e.forEach((function(e){var r=(0,s.Z)(j,T)[T](e.item,t),i=(0,s.Z)(j,T)[T](e.charge,!0);r&&r.forEach((function(e){return n.push(e)})),i&&i.forEach((function(e){return n.push(e)}))})),n}}),Object.defineProperty(j,E,{writable:!0,value:function(e){return e.constructor===Array?e:Object.values(e).reduce((function(e,t){var n=(0,s.Z)(j,T)[T](t,!0).map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{domainID:"skill:".concat(e.typeName)})}));return e.concat(n)}),[])}}),Object.defineProperty(j,T,{writable:!0,value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return[];var n=[132],r=e.typeEffectsStats?e.typeEffectsStats.filter((function(e){return void 0!==e.modifierInfo&&!n.includes(e.effectID)})):[],o=[];return r.forEach((function(n){n.modifierInfo.forEach((function(r){var a=(0,s.Z)(j,I)[I](e,r.modifyingAttributeID),l=r.modifyingAttributeValue?r.modifyingAttributeValue:null===a||void 0===a?void 0:a.value;o.push((0,i.Z)((0,i.Z)({domainID:e.domainID,typeName:e.typeName},r),{},{effectName:n.effectName,effectCategory:n.effectCategory,modifyingAttributeValue:l,rootID:e.rootID,typeID:e.typeID,typeState:33!==e.iconID?e.typeState:"passive",typeGroupID:e.groupID,typeSkills:e.typeSkills,isStackException:void 0!==r.isStackException?r.isStackException:t}))}))})),o}}),j.getCurrentState=function(e){return(0,s.Z)(j,P)[P](e)},j.getInitialState=function(e){if(e&&e.typeEffectsStats)return 33===e.iconID?"passive":e.typeEffectsStats.reduce((function(e,t){return"activation"===t.effectCategory&&16!==t.effectID||"target"===t.effectCategory?"activation":e}),"passive")},Object.defineProperty(j,P,{writable:!0,value:function(e){if(e||0===e){if(!e.typeEffectsStats||33===e.iconID)return"passive";var t=e.typeEffectsStats.reduce((function(e,t){return"activation"===t.effectCategory&&16!==t.effectID||"target"===t.effectCategory?"activation":e}),"passive"),n=e.typeState;return void 0===n?t:"passive"===t&&"activation"===n?"passive":n}}}),Object.defineProperty(j,I,{writable:!0,value:function(e,t){if(e&&e.typeAttributesStats&&e.typeAttributesStats.constructor===Array)return e.typeAttributesStats.find((function(e){return e.attributeID===t}))}}),Object.defineProperty(j,R,{writable:!0,value:function(e,t,n,r){if(void 0===t)return e;var i=e;switch(n){case"preMul":case"postMul":i=(0,s.Z)(j,O)[O](e,t,r);break;case"prePercent":case"postPercent":i=(0,s.Z)(j,L)[L](e,t,r);break;case"modAdd":i=(0,s.Z)(j,D)[D](e,t);break;case"modSub":i=(0,s.Z)(j,N)[N](e,t);break;case"postDiv":i=(0,s.Z)(j,A)[A](e,t);break;case"postAssignment":return t}return i}}),Object.defineProperty(j,O,{writable:!0,value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e*((t-1)*(0,s.Z)(j,M)[M](n)+1)}}),Object.defineProperty(j,L,{writable:!0,value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e*(t/100*(0,s.Z)(j,M)[M](n)+1)}}),Object.defineProperty(j,D,{writable:!0,value:function(e,t){return e+t}}),Object.defineProperty(j,N,{writable:!0,value:function(e,t){return e-t}}),Object.defineProperty(j,A,{writable:!0,value:function(e,t){return e/t}}),Object.defineProperty(j,M,{writable:!0,value:function(e){return Math.pow(Math.E,-.140274*e*e)}}),Object.defineProperty(j,Z,{writable:!0,value:function(e,t,n){switch(t){case"preMul":case"postMul":return 1+(0,s.Z)(j,M)[M](n)*(e-1);case"prePercent":case"postPercent":return(0,s.Z)(j,M)[M](n)*e;case"modAdd":case"modSub":default:return e;case"postDiv":return e/(0,s.Z)(j,M)[M](n)}}})},5396:function(e){e.exports={apiKey:"AIzaSyD9JKzskuYHt0_QQzfVTf1best1LIV_aEc",authDomain:"evefittingjs.firebaseapp.com",databaseURL:"https://evefittingjs.firebaseio.com",projectId:"evefittingjs",storageBucket:"evefittingjs.appspot.com",messagingSenderId:"50378609544",appId:"1:50378609544:web:a183550dc926c774d4a03d",measurementId:"G-9WGWL8V4F4"}},5637:function(e,t,n){"use strict";var r,i,o=n(9388),a=n(9971),s=n(826),l=n(9386),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new a.LL("app","Firebase",u),d="@firebase/app",f="[DEFAULT]",h=((i={})[d]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new l.Yd("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(e),this.container=new s.H0(t.name),this._addComponent(new s.wA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=f),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var m=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!==typeof s||!s)throw c.create("bad-app-name",{appName:String(s)});if((0,a.r3)(t,s))throw c.create("duplicate-app",{appName:s});var l=new e(n,o,r);return t[s]=l,l},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&l&&u.push("and"),l&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}o(new s.wA(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:l.Ub,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw c.create("invalid-log-argument");(0,l.Am)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||f,!(0,a.r3)(t,e))throw c.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var l=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw c.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.ZB)(l,o.serviceProps),r[s]=l,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var u=0,d=Object.keys(t);u<d.length;u++){var f=d[u];t[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=(0,o.pi)((0,o.pi)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.ZB)(t,e)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),t}(),g=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var _=m;!function(e,t){e.INTERNAL.registerComponent(new s.wA("platform-logger",(function(e){return new g(e)}),"PRIVATE")),e.registerVersion(d,"0.6.30",t),e.registerVersion("fire-js","")}(_),t.Z=_},826:function(e,t,n){"use strict";n.d(t,{wA:function(){return o},H0:function(){return l},zt:function(){return s}});var r=n(9388),i=n(9971),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(f){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.CR)(o.value,2),l=s[0],u=s[1],c=this.normalizeInstanceIdentifier(l);try{var d=this.getOrInitializeService({instanceIdentifier:c});u.resolve(d)}catch(f){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.CR)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=a),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var l=(0,r.XA)(this.instancesDeferred.entries()),u=l.next();!u.done;u=l.next()){var c=(0,r.CR)(u.value,2),d=c[0],f=c[1];a===this.normalizeInstanceIdentifier(d)&&f.resolve(s)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=(0,r.XA)(o),s=a.next();!s.done;s=a.next()){var l=s.value;try{l(e,t)}catch(u){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var l=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},6895:function(e,t,n){"use strict";var r=n(5637),i=n(826),o=n(9971),a=n(9388),s=n(9386);e=n.hmd(e);var l="";function u(e){l=e}var c=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.Pz)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.cI)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),d=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.r3)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),f=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new c(t)}}catch(n){}return new d},h=f("localStorage"),p=f("sessionStorage"),v=new s.Yd("@firebase/database"),m=function(){var e=1;return function(){return e++}}(),g=function(e){var t=(0,o.dS)(e),n=new o.gQ;n.update(t);var r=n.digest();return o.US.encodeByteArray(r)},y=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?(0,o.Pz)(a):a,r+=" "}return r},b=null,_=!0,x=function(e,t){(0,o.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=s.in.VERBOSE,b=v.log.bind(v),t&&p.set("logging_enabled",!0)):"function"===typeof e?b=e:(b=null,p.remove("logging_enabled"))},w=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===_&&(_=!1,null===b&&!0===p.get("logging_enabled")&&x(!0)),b){var n=y.apply(null,e);b(n)}},S=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];w.apply(void 0,(0,a.ev)([e],(0,a.CR)(t)))}},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));v.error(n)},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));throw v.error(n),new Error(n)},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));v.warn(n)},T=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},P="[MIN_NAME]",I="[MAX_NAME]",R=function(e,t){if(e===t)return 0;if(e===P||t===I)return-1;if(t===P||e===I)return 1;var n=z(e),r=z(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},O=function(e,t){return e===t?0:e<t?-1:1},L=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.Pz)(t))},D=function e(t){if("object"!==typeof t||null===t)return(0,o.Pz)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,o.Pz)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},N=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function A(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var M=function(e){(0,o.hu)(!T(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var l=[];for(a=52;a;a-=1)l.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)l.push(n%2?1:0),n=Math.floor(n/2);l.push(t?1:0),l.reverse();var u=l.join(""),c="";for(a=0;a<64;a+=8){var d=parseInt(u.substr(a,8),2).toString(16);1===d.length&&(d="0"+d),c+=d}return c.toLowerCase()};var Z=new RegExp("^-?(0*)\\d{1,10}$"),j=-2147483648,F=2147483647,z=function(e){if(Z.test(e)){var t=Number(e);if(t>=j&&t<=F)return t}return null},B=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw E("Exception was thrown by user callback.",e),t}),Math.floor(0))}},H=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},W=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){E('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),U=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(w("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',E(e)},e}(),G=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),q="5",V=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Y="websocket",K="long_polling",X=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=h.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&h.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function Q(e,t,n){var r;if((0,o.hu)("string"===typeof t,"typeof type must == string"),(0,o.hu)("object"===typeof n,"typeof params must == object"),t===Y)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==K)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return A(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var $=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.p$)(this.counters_)},e}(),J={},ee={};function te(e){var t=e.toString();return J[t]||(J[t]=new $),J[t]}var ne=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&B((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),re="start",ie="close",oe=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(e),this.stats_=te(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),Q(t,K,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.Yr)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ae((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.CR)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===re)n.id=o,n.password=s;else{if(i!==ie)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.CR)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=q,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&V.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,o.Yr)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.h$)(t),r=N(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ae=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(l){w("frame writing exception"),l.stack&&w(l.stack),w(l)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||w("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.Yr)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){w("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),se=null;"undefined"!==typeof MozWebSocket?se=MozWebSocket:"undefined"!==typeof WebSocket&&(se=WebSocket);var le=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=te(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i.v=q,!(0,o.Yr)()&&"undefined"!==typeof location&&location.hostname&&V.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),Q(e,Y,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if((0,o.Yr)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+l+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new se(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new se(this.connURL,[],i)}}catch(c){this.log_("Error instantiating WebSocket.");var u=c.message||c.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==se&&!e.forceDisallow_},e.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.cI)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=N(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ue=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[oe,le]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=le&&le.isAvailable(),o=i&&!le.previouslyFailed();if(t.webSocketOnly&&(i||E("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[le];else{var s=this.transports_=[];try{for(var l=(0,a.XA)(e.ALL_TRANSPORTS),u=l.next();!u.done;u=l.next()){var c=u.value;c&&c.isAvailable()&&s.push(c)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),ce=function(){function e(e,t,n,r,i,o,a,s,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new ue(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=H((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=L("t",e),n=L("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=L("t",e),n=L("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=L("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?k("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),q!==n&&E("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),H((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):H((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),de=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),fe=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.ev)([],(0,a.CR)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.hu)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),he=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.uI)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(fe),pe=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function ve(){return new pe("")}function me(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ge(e){return e.pieces_.length-e.pieceNum_}function ye(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new pe(e.pieces_,t)}function be(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function _e(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function xe(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new pe(t,0)}function we(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof pe)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new pe(n,0)}function Se(e){return e.pieceNum_>=e.pieces_.length}function ke(e,t){var n=me(e),r=me(t);if(null===n)return t;if(n===r)return ke(ye(e),ye(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ce(e,t){for(var n=_e(e,0),r=_e(t,0),i=0;i<n.length&&i<r.length;i++){var o=R(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ee(e,t){if(ge(e)!==ge(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Te(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ge(e)>ge(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Pe=function(e,t){this.errorPrefix_=t,this.parts_=_e(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);Ie(this)};function Ie(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Re(e))}function Re(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Oe,Le,De=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(fe),Ne=1e3,Ae=function(e){function t(n,r,i,a,s,l,u,c){var d=e.call(this)||this;if(d.repoInfo_=n,d.applicationId_=r,d.onDataUpdate_=i,d.onConnectStatus_=a,d.onServerInfoUpdate_=s,d.authTokenProvider_=l,d.appCheckTokenProvider_=u,d.authOverride_=c,d.id=t.nextPersistentConnectionId_++,d.log_=S("p:"+d.id+":"),d.interruptReasons_={},d.listens=new Map,d.outstandingPuts_=[],d.outstandingGets_=[],d.outstandingPutCount_=0,d.outstandingGetCount_=0,d.onDisconnectRequestQueue_=[],d.connected_=!1,d.reconnectDelay_=Ne,d.maxReconnectDelay_=3e5,d.securityDebugCallback_=null,d.lastSessionId=null,d.establishConnectionTimer_=null,d.visible_=!1,d.requestCBHash_={},d.requestNumber_=0,d.realtime_=null,d.authToken_=null,d.appCheckToken_=null,d.forceTokenRefresh_=!1,d.invalidAuthTokenCount_=0,d.invalidAppCheckTokenCount_=0,d.firstConnection_=!0,d.lastConnectionAttemptTime_=null,d.lastConnectionEstablishedTime_=null,c&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return De.getInstance().on("visible",d.onVisible_,d),-1===n.host.indexOf("fblocal")&&he.getInstance().on("online",d.onOnline_,d),d}return(0,a.ZT)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.Pz)(i)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.BH,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,l=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==l&&n.removeListen_(i,o),e.onComplete&&e.onComplete(l,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&(0,o.r3)(e,"w")){var n=(0,o.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();E("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.Pz)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):k("Unrecognized action received from server: "+(0,o.Pz)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ne,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ne,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ne),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,n,r,i,s,l,u,c,d,f,h,p,v,m,g=this;return(0,a.Jh)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,l=!1,u=null,c=function(){u?u.close():(l=!0,r())},d=function(e){(0,o.hu)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:d},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return h=a.CR.apply(void 0,[y.sent(),2]),p=h[0],v=h[1],l?w("getToken() completed but was canceled"):(w("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,u=new ce(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){E(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),s)),[3,4];case 3:return m=y.sent(),this.log_("Failed to get token: "+m),l||(this.repoInfo_.nodeAdmin&&E(m),c()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){w("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){w("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ne,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return D(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new pe(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){w("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){w("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.XA)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var l=(n=void 0,(0,a.XA)(s.values())),u=l.next();!u.done;u=l.next()){var c=u.value;this.sendListen_(c)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var d=0;d<this.outstandingPuts_.length;d++)this.outstandingPuts_[d]&&this.sendPut_(d);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(d=0;d<this.outstandingGets_.length;d++)this.outstandingGets_[d]&&this.sendGet_(d)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+l.replace(/\./g,"-")]=1,(0,o.uI)()?e["framework.cordova"]=1:(0,o.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=he.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(de),Me=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Ze=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Me(P,e),r=new Me(P,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Me.MIN},e}(),je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Oe},set:function(e){Oe=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return R(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return new Me(I,Oe)},t.prototype.makePost=function(e,t){return(0,o.hu)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Me(e,Oe)},t.prototype.toString=function(){return".key"},t}(Ze),Fe=new je,ze=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Be=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:We.EMPTY_NODE,this.right=null!=o?o:We.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return We.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return We.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),He=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Be(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),We=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Be.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Be.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new ze(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new ze(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new ze(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new ze(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new He,e}();function Ue(e,t){return R(e.name,t.name)}function Ge(e,t){return R(e,t)}var qe,Ve,Ye,Ke=function(e){return"number"===typeof e?"number:"+M(e):"string:"+e},Xe=function(e){if(e.isLeafNode()){var t=e.val();(0,o.hu)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.r3)(t,".sv"),"Priority must be a string or number.")}else(0,o.hu)(e===Le||e.isEmpty(),"priority of unexpected type.");(0,o.hu)(e===Le||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Qe=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Xe(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return qe},set:function(e){qe=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Se(t)?this:".priority"===me(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=me(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.hu)(".priority"!==r||1===ge(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ke(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?M(this.value_):this.value_,this.lazyHash_=g(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.hu)(i>=0,"Unknown leaf type: "+n),(0,o.hu)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var $e,Je,et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?R(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return new Me(I,new Qe("[PRIORITY-POST]",Ye))},t.prototype.makePost=function(e,t){var n=Ve(e);return new Me(t,new Qe("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Ze),tt=new et,nt=Math.log(2),rt=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/nt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),it=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new Be(a,o.node,Be.BLACK,null,null);var l=parseInt(s/2,10)+r,u=t(r,l),c=t(l+1,i);return o=e[l],a=n?n(o):o,new Be(a,o.node,Be.BLACK,u,c)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var u=i(o+1,s),c=e[o],d=n?n(c):c;l(new Be(d,c.node,r,null,u))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)},u=0;u<t.count;++u){var c=t.nextBitIsOne(),d=Math.pow(2,t.count-(u+1));c?s(d,Be.BLACK):(s(d,Be.BLACK),s(d,Be.RED))}return o}(new rt(e.length));return new We(r||t,o)},ot={},at=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.hu)(ot&&tt,"ChildrenNode.ts has not been loaded"),$e=$e||new e({".priority":ot},{".priority":tt})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof We?t:null},e.prototype.hasIndex=function(e){return(0,o.r3)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.hu)(t!==Fe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,l=n.getIterator(Me.Wrap),u=l.getNext();u;)s=s||t.isDefinedOn(u.node),i.push(u),u=l.getNext();r=s?it(i,t.getCompare()):ot;var c=t.toString(),d=(0,a.pi)({},this.indexSet_);d[c]=t;var f=(0,a.pi)({},this.indexes_);return f[c]=r,new e(f,d)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.UI)(this.indexes_,(function(e,i){var a=(0,o.DV)(r.indexSet_,i);if((0,o.hu)(a,"Missing index implementation for "+i),e===ot){if(a.isDefinedOn(t.node)){for(var s=[],l=n.getIterator(Me.Wrap),u=l.getNext();u;)u.name!==t.name&&s.push(u),u=l.getNext();return s.push(t),it(s,a.getCompare())}return ot}var c=n.get(t.name),d=e;return c&&(d=d.remove(new Me(t.name,c))),d.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.UI)(this.indexes_,(function(e){if(e===ot)return e;var r=n.get(t.name);return r?e.remove(new Me(t.name,r)):e})),this.indexSet_)},e}(),st=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Xe(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Je||(Je=new e(new We(Ge),null,at.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Je},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Je:t},e.prototype.getChild=function(e){var t=me(e);return null===t?this:this.getImmediateChild(t).getChild(ye(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Me(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Je:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=me(e);if(null===n)return t;(0,o.hu)(".priority"!==me(e)||1===ge(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ye(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(tt,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ke(this.getPriority().val())+":"),this.forEachChild(tt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":g(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Me(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Me(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Me(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Me.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Me.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===lt?-1:0},e.prototype.withIndex=function(t){if(t===Fe||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Fe||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(tt),r=t.getIterator(tt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Fe?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),lt=new(function(e){function t(){return e.call(this,new We(Ge),st.EMPTY_NODE,at.Default)||this}return(0,a.ZT)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return st.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(st));Object.defineProperties(Me,{MIN:{value:new Me(P,st.EMPTY_NODE)},MAX:{value:new Me(I,lt)}}),je.__EMPTY_NODE=st.EMPTY_NODE,Qe.__childrenNodeConstructor=st,Le=lt,function(e){Ye=e}(lt);function ut(e,t){if(void 0===t&&(t=null),null===e)return st.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.hu)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Qe(e,ut(t));if(e instanceof Array){var n=st.EMPTY_NODE;return A(e,(function(t,r){if((0,o.r3)(e,t)&&"."!==t.substring(0,1)){var i=ut(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(ut(t))}var r=[],i=!1;if(A(e,(function(e,t){if("."!==e.substring(0,1)){var n=ut(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Me(e,n)))}})),0===r.length)return st.EMPTY_NODE;var a=it(r,Ue,(function(e){return e.name}),Ge);if(i){var s=it(r,tt.getCompare());return new st(a,ut(t),new at({".priority":s},{".priority":tt}))}return new st(a,ut(t),at.Default)}!function(e){Ve=e}(ut);var ct=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.hu)(!Se(t)&&".priority"!==me(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.ZT)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?R(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=ut(e),r=st.EMPTY_NODE.updateChild(this.indexPath_,n);return new Me(t,r)},t.prototype.maxPost=function(){var e=st.EMPTY_NODE.updateChild(this.indexPath_,lt);return new Me(I,e)},t.prototype.toString=function(){return _e(this.indexPath_,0).join("/")},t}(Ze),dt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?R(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return Me.MAX},t.prototype.makePost=function(e,t){var n=ut(e);return new Me(t,n)},t.prototype.toString=function(){return".value"},t}(Ze),ft=new dt,ht="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=ht.charAt(n%64),n=Math.floor(n/64);(0,o.hu)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=ht.charAt(t[r]);return(0,o.hu)(20===s.length,"nextPushId: Length should be 20."),s}}(),vt=function(e){if("2147483647"===e)return"-";var t=z(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return I;var o=n[i],a=ht.charAt(ht.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},mt=function(e){if("-2147483648"===e)return P;var t=z(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ht.charAt(ht.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function gt(e){return{type:"value",snapshotNode:e}}function yt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function bt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function _t(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var xt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(bt(t,s)):(0,o.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(yt(t,n)):a.trackChildChange(_t(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(tt,(function(e,r){t.hasChild(e)||n.trackChildChange(bt(e,r))})),t.isLeafNode()||t.forEachChild(tt,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(_t(t,r,i))}else n.trackChildChange(yt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?st.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),wt=function(){function e(t){this.indexedFilter_=new xt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Me(t,n))||(n=st.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=st.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(st.EMPTY_NODE);var i=this;return t.forEachChild(tt,(function(e,t){i.matches(new Me(e,t))||(r=r.updateImmediateChild(e,st.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),St=function(){function e(e){this.rangedFilter_=new wt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Me(t,n))||(n=st.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=st.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=st.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(st.EMPTY_NODE);var s=void 0,l=void 0,u=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();u=function(e,t){return c(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var d=!1;i.hasNext();){a=i.getNext();!d&&u(s,a)<=0&&(d=!0),d&&o<this.limit_&&u(a,l)<=0?o++:r=r.updateImmediateChild(a.name,st.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var l=e;(0,o.hu)(l.numChildren()===this.limit_,"");var u=new Me(t,n),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(u);if(l.hasChild(t)){for(var f=l.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||l.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var p=null==h?1:a(h,u);if(d&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(_t(t,n,f)),l.updateImmediateChild(t,n);null!=i&&i.trackChildChange(bt(t,f));var v=l.updateImmediateChild(t,st.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(yt(h.name,h.node)),v.updateImmediateChild(h.name,h.node)):v}return n.isEmpty()?e:d&&a(c,u)>=0?(null!=i&&(i.trackChildChange(bt(c.name,c.node)),i.trackChildChange(yt(t,n))),l.updateImmediateChild(t,n).updateImmediateChild(c.name,st.EMPTY_NODE)):e},e}(),kt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:P},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:I},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===tt},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function Ct(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Et(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Tt(e,t){var n=e.copy();return n.index_=t,n}function Pt(e){var t,n={};return e.isDefault()||(e.index_===tt?t="$priority":e.index_===ft?t="$value":e.index_===Fe?t="$key":((0,o.hu)(e.index_ instanceof ct,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.Pz)(t),e.startSet_&&(n.startAt=(0,o.Pz)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.Pz)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.Pz)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function It(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==tt&&(t.i=e.index_.toString()),t}var Rt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=S("p:rest:"),o.listens_={},o}return(0,a.ZT)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var l=t.getListenId_(e,r),u={};this.listens_[l]=u;var c=Pt(e._queryParams);this.restRequest_(s+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.DV)(a.listens_,l)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Pt(e._queryParams),r=e._path.toString(),i=new o.BH;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=(0,a.CR)(i,2),l=s[0],u=s[1];l&&l.accessToken&&(t.auth=l.accessToken),u&&u.token&&(t.ac=u.token);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.xO)(t);r.log_("Sending REST request for "+c);var d=new XMLHttpRequest;d.onreadystatechange=function(){if(n&&4===d.readyState){r.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);var e=null;if(d.status>=200&&d.status<300){try{e=(0,o.cI)(d.responseText)}catch(t){E("Failed to parse JSON response for "+c+": "+d.responseText)}n(null,e)}else 401!==d.status&&404!==d.status&&E("Got unsuccessful REST response for "+c+" Status: "+d.status),n(d.status);n=null}},d.open("GET",c,!0),d.send()}))},t}(de),Ot=function(){function e(){this.rootNode_=st.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Lt(){return{value:null,children:new Map}}function Dt(e,t,n){if(Se(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=me(t);e.children.has(r)||e.children.set(r,Lt()),Dt(e.children.get(r),t=ye(t),n)}}function Nt(e,t){if(Se(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(tt,(function(t,n){Dt(e,new pe(t),n)})),Nt(e,t)}if(e.children.size>0){var r=me(t);if(t=ye(t),e.children.has(r))Nt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function At(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){At(r,new pe(t.toString()+"/"+e),n)}))}var Mt,Zt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.pi)({},e);return this.last_&&A(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),jt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Zt(e);var n=1e4+2e4*Math.random();H(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;A(t,(function(t,i){i>0&&(0,o.r3)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),H(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Ft(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Mt||(Mt={}));var zt,Bt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Mt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Se(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new pe(t));return new e(ve(),n,this.revert)}return(0,o.hu)(me(this.path)===t,"operationForChild called for unrelated child."),new e(ye(this.path),this.affectedTree,this.revert)},e}(),Ht=function(){function e(e,t){this.source=e,this.path=t,this.type=Mt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Se(this.path)?new e(this.source,ve()):new e(this.source,ye(this.path))},e}(),Wt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Mt.OVERWRITE}return e.prototype.operationForChild=function(t){return Se(this.path)?new e(this.source,ve(),this.snap.getImmediateChild(t)):new e(this.source,ye(this.path),this.snap)},e}(),Ut=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Mt.MERGE}return e.prototype.operationForChild=function(t){if(Se(this.path)){var n=this.children.subtree(new pe(t));return n.isEmpty()?null:n.value?new Wt(this.source,ve(),n.value):new e(this.source,ve(),n)}return(0,o.hu)(me(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ye(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Gt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;var t=me(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),qt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Vt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");var r=new Me(t.childName,t.snapshotNode),i=new Me(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Yt(e,t){return{eventCache:e,serverCache:t}}function Kt(e,t,n,r){return Yt(new Gt(t,n,r),e.serverCache)}function Xt(e,t,n,r){return Yt(e.eventCache,new Gt(t,n,r))}function Qt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function $t(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Jt=function(){function e(e,t){void 0===t&&(zt||(zt=new We(O)),t=zt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return A(t,(function(e,t){n=n.set(new pe(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ve(),value:this.value};if(Se(e))return null;var n=me(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ye(e),t);return null!=i?{path:we(new pe(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Se(t))return this;var n=me(t),r=this.children.get(n);return null!==r?r.subtree(ye(t)):new e(null)},e.prototype.set=function(t,n){if(Se(t))return new e(n,this.children);var r=me(t),i=(this.children.get(r)||new e(null)).set(ye(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Se(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=me(t),r=this.children.get(n);if(r){var i=r.remove(ye(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Se(e))return this.value;var t=me(e),n=this.children.get(t);return n?n.get(ye(e)):null},e.prototype.setTree=function(t,n){if(Se(t))return n;var r=me(t),i=(this.children.get(r)||new e(null)).setTree(ye(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(ve(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(we(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ve(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Se(e))return null;var i=me(e),o=this.children.get(i);return o?o.findOnPath_(ye(e),we(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ve(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Se(t))return this;this.value&&r(n,this.value);var i=me(t),o=this.children.get(i);return o?o.foreachOnPath_(ye(t),we(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ve(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(we(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),en=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Jt(null))},e}();function tn(e,t,n){if(Se(t))return new en(new Jt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=ke(i,t);return o=o.updateChild(a,n),new en(e.writeTree_.set(i,o))}var s=new Jt(n),l=e.writeTree_.setTree(t,s);return new en(l)}function nn(e,t,n){var r=e;return A(n,(function(e,n){r=tn(r,we(t,e),n)})),r}function rn(e,t){if(Se(t))return en.empty();var n=e.writeTree_.setTree(t,new Jt(null));return new en(n)}function on(e,t){return null!=an(e,t)}function an(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ke(n.path,t)):null}function sn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(tt,(function(e,n){t.push(new Me(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Me(e,n.value))})),t}function ln(e,t){if(Se(t))return e;var n=an(e,t);return new en(null!=n?new Jt(n):e.writeTree_.subtree(t))}function un(e){return e.writeTree_.isEmpty()}function cn(e,t){return dn(ve(),e.writeTree_,t)}function dn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=dn(we(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(we(e,".priority"),r)),n}function fn(e,t){return Cn(t,e)}function hn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var l=e.allWrites[s];l.visible&&(s>=n&&pn(l,r.path)?i=!1:Te(r.path,l.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=mn(e.allWrites,vn,ve()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=rn(e.visibleWrites,r.path):A(r.children,(function(t){e.visibleWrites=rn(e.visibleWrites,we(r.path,t))}));return!0}return!1}function pn(e,t){if(e.snap)return Te(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Te(we(e.path,n),t))return!0;return!1}function vn(e){return e.visible}function mn(e,t,n){for(var r=en.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,l=void 0;if(a.snap)Te(n,s)?r=tn(r,l=ke(n,s),a.snap):Te(s,n)&&(l=ke(s,n),r=tn(r,ve(),a.snap.getChild(l)));else{if(!a.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(Te(n,s))r=nn(r,l=ke(n,s),a.children);else if(Te(s,n))if(Se(l=ke(s,n)))r=nn(r,ve(),a.children);else{var u=(0,o.DV)(a.children,me(l));if(u){var c=u.getChild(ye(l));r=tn(r,ve(),c)}}}}}return r}function gn(e,t,n,r,i){if(r||i){var o=ln(e.visibleWrites,t);if(!i&&un(o))return n;if(i||null!=n||on(o,ve())){return cn(mn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Te(e.path,t)||Te(t,e.path))}),t),n||st.EMPTY_NODE)}return null}var a=an(e.visibleWrites,t);if(null!=a)return a;var s=ln(e.visibleWrites,t);return un(s)?n:null!=n||on(s,ve())?cn(s,n||st.EMPTY_NODE):null}function yn(e,t,n,r){return gn(e.writeTree,e.treePath,t,n,r)}function bn(e,t){return function(e,t,n){var r=st.EMPTY_NODE,i=an(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(tt,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=ln(e.visibleWrites,t);return n.forEachChild(tt,(function(e,t){var n=cn(ln(o,new pe(e)),t);r=r.updateImmediateChild(e,n)})),sn(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return sn(ln(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function _n(e,t,n,r){return function(e,t,n,r,i){(0,o.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=we(t,n);if(on(e.visibleWrites,a))return null;var s=ln(e.visibleWrites,a);return un(s)?i.getChild(n):cn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function xn(e,t){return function(e,t){return an(e.visibleWrites,t)}(e.writeTree,we(e.treePath,t))}function wn(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,l=ln(e.visibleWrites,t),u=an(l,ve());if(null!=u)s=u;else{if(null==n)return[];s=cn(l,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var c=[],d=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),h=f.getNext();h&&c.length<i;)0!==d(h,r)&&c.push(h),h=f.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,o)}function Sn(e,t,n){return function(e,t,n,r){var i=we(t,n),o=an(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?cn(ln(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function kn(e,t){return Cn(we(e.treePath,t),e.writeTree)}function Cn(e,t){return{treePath:e,writeTree:t}}var En=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,_t(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,bt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,yt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,_t(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Tn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Pn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Gt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:$t(this.viewCache_),i=wn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function In(e,t,n,r,i){var a,s,l=new En;if(n.type===Mt.OVERWRITE){var u=n;u.source.fromUser?a=Ln(e,t,u.path,u.snap,r,i,l):((0,o.hu)(u.source.fromServer,"Unknown source."),s=u.source.tagged||t.serverCache.isFiltered()&&!Se(u.path),a=On(e,t,u.path,u.snap,r,i,s,l))}else if(n.type===Mt.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,l){var u=we(n,r);Dn(t,me(u))&&(s=Ln(e,s,u,l,i,o,a))})),r.foreach((function(r,l){var u=we(n,r);Dn(t,me(u))||(s=Ln(e,s,u,l,i,o,a))})),s}(e,t,c.path,c.children,r,i,l):((0,o.hu)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered(),a=An(e,t,c.path,c.children,r,i,s,l))}else if(n.type===Mt.ACK_USER_WRITE){var d=n;a=d.revert?function(e,t,n,r,i,a){var s;if(null!=xn(r,n))return t;var l=new Pn(r,t,i),u=t.eventCache.getNode(),c=void 0;if(Se(n)||".priority"===me(n)){var d=void 0;if(t.serverCache.isFullyInitialized())d=yn(r,$t(t));else{var f=t.serverCache.getNode();(0,o.hu)(f instanceof st,"serverChildren would be complete if leaf node"),d=bn(r,f)}d=d,c=e.filter.updateFullNode(u,d,a)}else{var h=me(n),p=Sn(r,h,t.serverCache);null==p&&t.serverCache.isCompleteForChild(h)&&(p=u.getImmediateChild(h)),(c=null!=p?e.filter.updateChild(u,h,p,ye(n),l,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(u,h,st.EMPTY_NODE,ye(n),l,a):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=yn(r,$t(t))).isLeafNode()&&(c=e.filter.updateFullNode(c,s,a))}return s=t.serverCache.isFullyInitialized()||null!=xn(r,ve()),Kt(t,c,s,e.filter.filtersNodes())}(e,t,d.path,r,i,l):function(e,t,n,r,i,o,a){if(null!=xn(i,n))return t;var s=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Se(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return On(e,t,n,l.getNode().getChild(n),i,o,s,a);if(Se(n)){var u=new Jt(null);return l.getNode().forEachChild(Fe,(function(e,t){u=u.set(new pe(e),t)})),An(e,t,n,u,i,o,s,a)}return t}var c=new Jt(null);return r.foreach((function(e,t){var r=we(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),An(e,t,n,c,i,o,s,a)}(e,t,d.path,d.affectedTree,r,i,l)}else{if(n.type!==Mt.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=Xt(t,o.getNode(),o.isFullyInitialized()||Se(n),o.isFiltered());return Rn(e,a,n,r,Tn,i)}(e,t,n.path,r,l)}var f=l.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Qt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(gt(Qt(t)))}}(t,a,f),{viewCache:a,changes:f}}function Rn(e,t,n,r,i,a){var s=t.eventCache;if(null!=xn(r,n))return t;var l=void 0,u=void 0;if(Se(n))if((0,o.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=$t(t),d=bn(r,c instanceof st?c:st.EMPTY_NODE);l=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{var f=yn(r,$t(t));l=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=me(n);if(".priority"===h){(0,o.hu)(1===ge(n),"Can't have a priority with additional path components");var p=s.getNode(),v=_n(r,n,p,u=t.serverCache.getNode());l=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var m=ye(n),g=void 0;if(s.isCompleteForChild(h)){u=t.serverCache.getNode();var y=_n(r,n,s.getNode(),u);g=null!=y?s.getNode().getImmediateChild(h).updateChild(m,y):s.getNode().getImmediateChild(h)}else g=Sn(r,h,t.serverCache);l=null!=g?e.filter.updateChild(s.getNode(),h,g,m,i,a):s.getNode()}}return Kt(t,l,s.isFullyInitialized()||Se(n),e.filter.filtersNodes())}function On(e,t,n,r,i,o,a,s){var l,u=t.serverCache,c=a?e.filter:e.filter.getIndexedFilter();if(Se(n))l=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){var d=u.getNode().updateChild(n,r);l=c.updateFullNode(u.getNode(),d,null)}else{var f=me(n);if(!u.isCompleteForPath(n)&&ge(n)>1)return t;var h=ye(n),p=u.getNode().getImmediateChild(f).updateChild(h,r);l=".priority"===f?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),f,p,h,Tn,null)}var v=Xt(t,l,u.isFullyInitialized()||Se(n),c.filtersNodes());return Rn(e,v,n,i,new Pn(i,v,o),s)}function Ln(e,t,n,r,i,o,a){var s,l,u=t.eventCache,c=new Pn(i,t,o);if(Se(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Kt(t,l,!0,e.filter.filtersNodes());else{var d=me(n);if(".priority"===d)l=e.filter.updatePriority(t.eventCache.getNode(),r),s=Kt(t,l,u.isFullyInitialized(),u.isFiltered());else{var f=ye(n),h=u.getNode().getImmediateChild(d),p=void 0;if(Se(f))p=r;else{var v=c.getCompleteChild(d);p=null!=v?".priority"===be(f)&&v.getChild(xe(f)).isEmpty()?v:v.updateChild(f,r):st.EMPTY_NODE}if(h.equals(p))s=t;else s=Kt(t,e.filter.updateChild(u.getNode(),d,p,f,c,a),u.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Dn(e,t){return e.eventCache.isCompleteForChild(t)}function Nn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function An(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var l,u=t;l=Se(n)?r:new Jt(null).setTree(n,r);var c=t.serverCache.getNode();return l.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var l=Nn(0,t.serverCache.getNode().getImmediateChild(n),r);u=On(e,u,new pe(n),l,i,o,a,s)}})),l.children.inorderTraversal((function(n,r){var l=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!l){var d=Nn(0,t.serverCache.getNode().getImmediateChild(n),r);u=On(e,u,new pe(n),d,i,o,a,s)}})),u}var Mn,Zn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new xt(r.getIndex()),o=(n=r).loadsAllData()?new xt(n.getIndex()):n.hasLimit()?new St(n):new wt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,l=i.updateFullNode(st.EMPTY_NODE,a.getNode(),null),u=o.updateFullNode(st.EMPTY_NODE,s.getNode(),null),c=new Gt(l,a.isFullyInitialized(),i.filtersNodes()),d=new Gt(u,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Yt(d,c),this.eventGenerator_=new qt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function jn(e,t){var n=$t(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Se(t)&&!n.getImmediateChild(me(t)).isEmpty())?n.getChild(t):null}function Fn(e){return 0===e.eventRegistrations_.length}function zn(e,t,n){var r=[];if(n){(0,o.hu)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var l=e.eventRegistrations_[s];if(l.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(l)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Bn(e,t,n,r){t.type===Mt.MERGE&&null!==t.source.queryId&&((0,o.hu)($t(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(Qt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,l=In(e.processor_,s,t,n,r);return i=e.processor_,a=l.viewCache,(0,o.hu)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.hu)(l.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=l.viewCache,Hn(e,l.changes,l.viewCache.eventCache.getNode(),null)}function Hn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Vt(e,i,"child_removed",t,r,n),Vt(e,i,"child_added",t,r,n),Vt(e,i,"child_moved",o,r,n),Vt(e,i,"child_changed",t,r,n),Vt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Wn,Un=function(){this.views=new Map};function Gn(e,t,n,r){var i,s,l=t.source.queryId;if(null!==l){var u=e.views.get(l);return(0,o.hu)(null!=u,"SyncTree gave us an op for an invalid query."),Bn(u,t,n,r)}var c=[];try{for(var d=(0,a.XA)(e.views.values()),f=d.next();!f.done;f=d.next()){u=f.value;c=c.concat(Bn(u,t,n,r))}}catch(h){i={error:h}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}return c}function qn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=yn(n,i?r:null),l=!1;s?l=!0:r instanceof st?(s=bn(n,r),l=!1):(s=st.EMPTY_NODE,l=!1);var u=Yt(new Gt(s,l,!1),new Gt(r,i,!1));return new Zn(t,u)}return a}function Vn(e,t,n,r,i,o){var a=qn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(tt,(function(e,t){r.push(yt(e,t))})),n.isFullyInitialized()&&r.push(gt(n.getNode())),Hn(e,r,n.getNode(),t)}(a,n)}function Yn(e,t,n,r){var i,s,l=t._queryIdentifier,u=[],c=[],d=Jn(e);if("default"===l)try{for(var f=(0,a.XA)(e.views.entries()),h=f.next();!h.done;h=f.next()){var p=(0,a.CR)(h.value,2),v=p[0],m=p[1];c=c.concat(zn(m,n,r)),Fn(m)&&(e.views.delete(v),m.query._queryParams.loadsAllData()||u.push(m.query))}}catch(g){i={error:g}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(m=e.views.get(l))&&(c=c.concat(zn(m,n,r)),Fn(m)&&(e.views.delete(l),m.query._queryParams.loadsAllData()||u.push(m.query)));return d&&!Jn(e)&&u.push(new((0,o.hu)(Mn,"Reference.ts has not been loaded"),Mn)(t._repo,t._path)),{removed:u,events:c}}function Kn(e){var t,n,r=[];try{for(var i=(0,a.XA)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Xn(e,t){var n,r,i=null;try{for(var o=(0,a.XA)(e.views.values()),s=o.next();!s.done;s=o.next()){var l=s.value;i=i||jn(l,t)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Qn(e,t){if(t._queryParams.loadsAllData())return er(e);var n=t._queryIdentifier;return e.views.get(n)}function $n(e,t){return null!=Qn(e,t)}function Jn(e){return null!=er(e)}function er(e){var t,n;try{for(var r=(0,a.XA)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var tr=1,nr=function(e){this.listenProvider_=e,this.syncPointTree_=new Jt(null),this.pendingWriteTree_={visibleWrites:en.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function rr(e,t,n,r,i){return function(e,t,n,r,i){(0,o.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=tn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?dr(e,new Wt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ir(e,t,n,r){!function(e,t,n,r){(0,o.hu)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=nn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Jt.fromObject(n);return dr(e,new Ut({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function or(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(hn(e.pendingWriteTree_,t)){var i=new Jt(null);return null!=r.snap?i=i.set(ve(),!0):A(r.children,(function(e){i=i.set(new pe(e),!0)})),dr(e,new Bt(r.path,i,n))}return[]}function ar(e,t,n){return dr(e,new Wt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function sr(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||$n(o,t))){var s=Yn(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var l=s.removed;a=s.events;var u=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),c=e.syncPointTree_.findOnPath(i,(function(e,t){return Jn(t)}));if(u&&!c){var d=e.syncPointTree_.subtree(i);if(!d.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&Jn(t))return[er(t)];var r=[];return t&&(r=Kn(t)),A(n,(function(e,t){r=r.concat(t)})),r}))}(d),h=0;h<f.length;++h){var p=f[h],v=p.query,m=pr(e,p);e.listenProvider_.startListening(_r(v),vr(e,v),m.hashFn,m.onComplete)}}if(!c&&l.length>0&&!r)if(u){e.listenProvider_.stopListening(_r(t),null)}else l.forEach((function(t){var n=e.queryToTagMap.get(mr(t));e.listenProvider_.stopListening(_r(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=mr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,l)}return a}function lr(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=ke(e,r);i=i||Xn(t,n),a=a||Jn(t)}));var s,l=e.syncPointTree_.get(r);(l?(a=a||Jn(l),i=i||Xn(l,ve())):(l=new Un,e.syncPointTree_=e.syncPointTree_.set(r,l)),null!=i)?s=!0:(s=!1,i=st.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Xn(t,ve());n&&(i=i.updateImmediateChild(e,n))})));var u=$n(l,t);if(!u&&!t._queryParams.loadsAllData()){var c=mr(t);(0,o.hu)(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var d=tr++;e.queryToTagMap.set(c,d),e.tagToQueryMap.set(d,c)}var f=Vn(l,t,n,fn(e.pendingWriteTree_,r),i,s);if(!u&&!a){var h=Qn(l,t);f=f.concat(function(e,t,n){var r=t._path,i=vr(e,t),a=pr(e,n),s=e.listenProvider_.startListening(_r(t),i,a.hashFn,a.onComplete),l=e.syncPointTree_.subtree(r);if(i)(0,o.hu)(!Jn(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=l.fold((function(e,t,n){if(!Se(e)&&t&&Jn(t))return[er(t).query];var r=[];return t&&(r=r.concat(Kn(t).map((function(e){return e.query})))),A(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var d=u[c];e.listenProvider_.stopListening(_r(d),vr(e,d))}return s}(e,t,h))}return f}function ur(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Xn(n,ke(e,t));if(r)return r}));return gn(r,t,i,n,!0)}function cr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=ke(e,n);r=r||Xn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Xn(i,ve()):(i=new Un,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Gt(r,!0,!1):null;return function(e){return Qt(e.viewCache_)}(qn(i,t,fn(e.pendingWriteTree_,t._path),o?a.getNode():st.EMPTY_NODE,o))}function dr(e,t){return fr(t,e.syncPointTree_,null,fn(e.pendingWriteTree_,ve()))}function fr(e,t,n,r){if(Se(e.path))return hr(e,t,n,r);var i=t.get(ve());null==n&&null!=i&&(n=Xn(i,ve()));var o=[],a=me(e.path),s=e.operationForChild(a),l=t.children.get(a);if(l&&s){var u=n?n.getImmediateChild(a):null,c=kn(r,a);o=o.concat(fr(s,l,u,c))}return i&&(o=o.concat(Gn(i,e,r,n))),o}function hr(e,t,n,r){var i=t.get(ve());null==n&&null!=i&&(n=Xn(i,ve()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=kn(r,t),l=e.operationForChild(t);l&&(o=o.concat(hr(l,i,a,s)))})),i&&(o=o.concat(Gn(i,e,r,n))),o}function pr(e,t){var n=t.query,r=vr(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||st.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=gr(e,n);if(r){var i=yr(r),o=i.path,a=i.queryId,s=ke(o,t);return br(e,o,new Ht(Ft(a),s))}return[]}(e,n._path,r):function(e,t){return dr(e,new Ht({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return sr(e,n,null,i)}}}function vr(e,t){var n=mr(t);return e.queryToTagMap.get(n)}function mr(e){return e._path.toString()+"$"+e._queryIdentifier}function gr(e,t){return e.tagToQueryMap.get(t)}function yr(e){var t=e.indexOf("$");return(0,o.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new pe(e.substr(0,t))}}function br(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.hu)(r,"Missing sync point for query tag that we're tracking"),Gn(r,n,fn(e.pendingWriteTree_,t),null)}function _r(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.hu)(Wn,"Reference.ts has not been loaded"),Wn)(e._repo,e._path):e}var xr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),wr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=we(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return ur(this.syncTree_,this.path_)},e}(),Sr=function(e,t,n){return e&&"object"===typeof e?((0,o.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?kr(e[".sv"],t,n):"object"===typeof e[".sv"]?Cr(e[".sv"],t):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},kr=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,o.hu)(!1,"Unexpected server value: "+e)},Cr=function(e,t,n){e.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&(0,o.hu)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.hu)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Er=function(e,t,n,r){return Pr(t,new wr(n,e),r)},Tr=function(e,t,n){return Pr(e,new xr(t),n)};function Pr(e,t,n){var r,i=e.getPriority().val(),o=Sr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Sr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Qe(s,ut(o)):e}var l=e;return r=l,o!==l.getPriority().val()&&(r=r.updatePriority(new Qe(o))),l.forEachChild(tt,(function(e,i){var o=Pr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Ir=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Rr(e,t){for(var n=t instanceof pe?t:new pe(t),r=e,i=me(n);null!==i;){var a=(0,o.DV)(r.node.children,i)||{children:{},childCount:0};r=new Ir(i,r,a),i=me(n=ye(n))}return r}function Or(e){return e.node.value}function Lr(e,t){e.node.value=t,Zr(e)}function Dr(e){return e.node.childCount>0}function Nr(e,t){A(e.node.children,(function(n,r){t(new Ir(n,e,r))}))}function Ar(e,t,n,r){n&&!r&&t(e),Nr(e,(function(e){Ar(e,t,!0,r)})),n&&r&&t(e)}function Mr(e){return new pe(null===e.parent?e.name:Mr(e.parent)+"/"+e.name)}function Zr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Or(e)&&!Dr(e)}(n),i=(0,o.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Zr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Zr(e))}(e.parent,e.name,e)}var jr=/[\[\].#$\/\u0000-\u001F\u007F]/,Fr=/[\[\].#$\u0000-\u001F\u007F]/,zr=10485760,Br=function(e){return"string"===typeof e&&0!==e.length&&!jr.test(e)},Hr=function(e){return"string"===typeof e&&0!==e.length&&!Fr.test(e)},Wr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!T(e)||e&&"object"===typeof e&&(0,o.r3)(e,".sv")},Ur=function(e,t,n,r){r&&void 0===t||Gr((0,o.gK)(e,"value"),t,n)},Gr=function e(t,n,r){var i=r instanceof pe?new Pe(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Re(i));if("function"===typeof n)throw new Error(t+"contains a function "+Re(i)+" with contents = "+n.toString());if(T(n))throw new Error(t+"contains "+n.toString()+" "+Re(i));if("string"===typeof n&&n.length>zr/3&&(0,o.ug)(n)>zr)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Re(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(A(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Br(n)))throw new Error(t+" contains an invalid key ("+n+") "+Re(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.ug)(t),Ie(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+Re(i)+" in addition to actual children.")}},qr=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.gK)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];A(t,(function(e,t){var r=new pe(e);if(Gr(i,t,we(n,r)),".priority"===be(r)&&!Wr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=_e(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Br(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ce);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Te(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Vr=function(e,t,n){if(!n||void 0!==t){if(T(t))throw new Error((0,o.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Wr(t))throw new Error((0,o.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Yr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Kr=function(e,t,n,r){if((!r||void 0!==n)&&!Br(n))throw new Error((0,o.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Xr=function(e,t,n,r){if((!r||void 0!==n)&&!Hr(n))throw new Error((0,o.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Qr=function(e,t){if(".info"===me(t))throw new Error(e+" failed = Can't modify data under /.info/")},$r=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Br(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Hr(e)}(n))throw new Error((0,o.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Jr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.gK)(e,t)+"must be a boolean.")},ei=function(){this.eventLists_=[],this.recursionDepth_=0};function ti(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Ee(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ni(e,t,n){ti(e,n),ii(e,(function(e){return Ee(e,t)}))}function ri(e,t,n){ti(e,n),ii(e,(function(e){return Te(e,t)||Te(t,e)}))}function ii(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(oi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function oi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();b&&w("event: "+n.toString()),B(r)}}}var ai="repo_interrupt",si=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ei,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lt(),this.transactionQueueTree_=new Ir,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function li(e,t,n){if(e.stats_=te(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Rt(e.repoInfo_,(function(t,n,r,i){di(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return fi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ae(e.repoInfo_,t,(function(t,n,r,i){di(e,t,n,r,i)}),(function(t){fi(e,t)}),(function(t){!function(e,t){A(t,(function(t,n){hi(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return ee[n]||(ee[n]=t()),ee[n]}(e.repoInfo_,(function(){return new jt(e.stats_,e.server_)})),e.infoData_=new Ot,e.infoSyncTree_=new nr({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=ar(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),hi(e,"connected",!1),e.serverSyncTree_=new nr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);ri(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ui(e){var t=e.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ci(e){return(t=(t={timestamp:ui(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function di(e,t,n,r,i){e.dataUpdateCount++;var a=new pe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var l=(0,o.UI)(n,(function(e){return ut(e)}));s=function(e,t,n,r){var i=gr(e,r);if(i){var o=yr(i),a=o.path,s=o.queryId,l=ke(a,t),u=Jt.fromObject(n);return br(e,a,new Ut(Ft(s),l,u))}return[]}(e.serverSyncTree_,a,l,i)}else{var u=ut(n);s=function(e,t,n,r){var i=gr(e,r);if(null!=i){var o=yr(i),a=o.path,s=o.queryId,l=ke(a,t);return br(e,a,new Wt(Ft(s),l,n))}return[]}(e.serverSyncTree_,a,u,i)}else if(r){var c=(0,o.UI)(n,(function(e){return ut(e)}));s=function(e,t,n){var r=Jt.fromObject(n);return dr(e,new Ut({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var d=ut(n);s=ar(e.serverSyncTree_,a,d)}var f=a;s.length>0&&(f=ki(e,a)),ri(e.eventQueue_,f,s)}function fi(e,t){hi(e,"connected",t),!1===t&&function(e){_i(e,"onDisconnectEvents");var t=ci(e),n=Lt();At(e.onDisconnect_,ve(),(function(r,i){var o=Er(r,i,e.serverSyncTree_,t);Dt(n,r,o)}));var r=[];At(n,ve(),(function(t,n){r=r.concat(ar(e.serverSyncTree_,t,n));var i=Ii(e,t);ki(e,i)})),e.onDisconnect_=Lt(),ri(e.eventQueue_,ve(),r)}(e)}function hi(e,t,n){var r=new pe("/.info/"+t),i=ut(n);e.infoData_.updateSnapshot(r,i);var o=ar(e.infoSyncTree_,r,i);ri(e.eventQueue_,r,o)}function pi(e){return e.nextWriteId_++}function vi(e,t,n,r,i){_i(e,"set",{path:t.toString(),value:n,priority:r});var o=ci(e),a=ut(n,r),s=ur(e.serverSyncTree_,t),l=Tr(a,s,o),u=pi(e),c=rr(e.serverSyncTree_,t,l,u,!0);ti(e.eventQueue_,c),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||E("set at "+t+" failed: "+n);var a=or(e.serverSyncTree_,u,!o);ri(e.eventQueue_,t,a),xi(e,i,n,r)}));var d=Ii(e,t);ki(e,d),ri(e.eventQueue_,d,[])}function mi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Nt(e.onDisconnect_,t),xi(e,n,r,i)}))}function gi(e,t,n,r){var i=ut(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Dt(e.onDisconnect_,t,i),xi(e,r,n,o)}))}function yi(e,t,n){var r;r=".info"===me(t._path)?sr(e.infoSyncTree_,t,n):sr(e.serverSyncTree_,t,n),ni(e.eventQueue_,t._path,r)}function bi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ai)}function _i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),w.apply(void 0,(0,a.ev)([r],(0,a.CR)(t)))}function xi(e,t,n,r){t&&B((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function wi(e,t,n){return ur(e.serverSyncTree_,t,n)||st.EMPTY_NODE}function Si(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Pi(e,t),Or(t)){var n=Ei(e,t);(0,o.hu)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=wi(e,t,r),a=i,s=i.hash(),l=0;l<n.length;l++){var u=n[l];(0,o.hu)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=ke(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var d=a.val(!0),f=t;e.server_.put(f.toString(),d,(function(r){_i(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(or(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);Pi(e,Rr(e.transactionQueueTree_,t)),Si(e,e.transactionQueueTree_),ri(e.eventQueue_,t,i);for(s=0;s<o.length;s++)B(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{E("transaction at "+f.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}ki(e,t)}}),s)}(e,Mr(t),n)}else Dr(t)&&Nr(t,(function(t){Si(e,t)}))}function ki(e,t){var n=Ci(e,t),r=Mr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var l,u,c=t[s],d=ke(n,c.path),f=!1;if((0,o.hu)(null!==d,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)f=!0,l=c.abortReason,i=i.concat(or(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)f=!0,l="maxretry",i=i.concat(or(e.serverSyncTree_,c.currentWriteId,!0));else{var h=wi(e,c.path,a);c.currentInputSnapshot=h;var p=t[s].update(h.val());if(void 0!==p){Gr("transaction failed: Data returned ",p,c.path);var v=ut(p);"object"===typeof p&&null!=p&&(0,o.r3)(p,".priority")||(v=v.updatePriority(h.getPriority()));var m=c.currentWriteId,g=ci(e),y=Tr(v,h,g);c.currentOutputSnapshotRaw=v,c.currentOutputSnapshotResolved=y,c.currentWriteId=pi(e),a.splice(a.indexOf(m),1),i=(i=i.concat(rr(e.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally))).concat(or(e.serverSyncTree_,m,!0))}else f=!0,l="nodata",i=i.concat(or(e.serverSyncTree_,c.currentWriteId,!0))}ri(e.eventQueue_,n,i),i=[],f&&(t[s].status=2,u=t[s].unwatcher,setTimeout(u,Math.floor(0)),t[s].onComplete&&("nodata"===l?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(l),!1,null)}))))},l=0;l<t.length;l++)s(l);Pi(e,e.transactionQueueTree_);for(l=0;l<r.length;l++)B(r[l]);Si(e,e.transactionQueueTree_)}(e,Ei(e,n),r),r}function Ci(e,t){var n,r=e.transactionQueueTree_;for(n=me(t);null!==n&&void 0===Or(r);)r=Rr(r,n),n=me(t=ye(t));return r}function Ei(e,t){var n=[];return Ti(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Ti(e,t,n){var r=Or(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Nr(t,(function(t){Ti(e,t,n)}))}function Pi(e,t){var n=Or(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Lr(t,n.length>0?n:void 0)}Nr(t,(function(t){Pi(e,t)}))}function Ii(e,t){var n=Mr(Ci(e,t)),r=Rr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Ri(e,t)})),Ri(e,r),Ar(r,(function(t){Ri(e,t)})),n}function Ri(e,t){var n=Or(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.hu)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(or(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Lr(t,void 0):n.length=a+1,ri(e.eventQueue_,Mr(t),i);for(s=0;s<r.length;s++)B(r[s])}}var Oi=function(e,t){var n=Li(e),r=n.namespace;"firebase.com"===n.domain&&C(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||C("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&E("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new X(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new pe(n.pathString)}},Li=function(e){var t="",n="",r="",i="",o="",s=!0,l="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(l=e.substring(0,c-1),e=e.substring(c+2));var d=e.indexOf("/");-1===d&&(d=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(d,f)),d<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(d,f)));var h=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.XA)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var l=s.split("=");2===l.length?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):E("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(s="https"===l||"wss"===l,u=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:s,scheme:l,pathString:i,namespace:o}},Di=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())},e}(),Ni=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Ai=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Mi=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.BH;return mi(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Qr("OnDisconnect.remove",this._path);var e=new o.BH;return gi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Qr("OnDisconnect.set",this._path),Ur("OnDisconnect.set",e,this._path,!1);var t=new o.BH;return gi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Qr("OnDisconnect.setWithPriority",this._path),Ur("OnDisconnect.setWithPriority",e,this._path,!1),Vr("OnDisconnect.setWithPriority",t,!1);var n=new o.BH;return function(e,t,n,r,i){var o=ut(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Dt(e.onDisconnect_,t,o),xi(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Qr("OnDisconnect.update",this._path),qr("OnDisconnect.update",e,this._path,!1);var t=new o.BH;return function(e,t,n,r){if((0,o.xb)(n))return w("onDisconnect().update() called with empty data.  Don't do anything."),void xi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&A(n,(function(n,r){var i=ut(r);Dt(e.onDisconnect_,we(t,n),i)})),xi(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Zi=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Se(this._path)?null:be(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Bi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=It(this._queryParams),t=D(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return It(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.m9)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Ee(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function ji(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Fi(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Fe){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==P)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==I)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===tt){if(null!=t&&!Wr(t)||null!=n&&!Wr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(e.getIndex()instanceof ct||e.getIndex()===ft,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function zi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Bi=function(e){function t(t,n){return e.call(this,t,n,new kt,!1)||this}return(0,a.ZT)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=xe(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Zi),Hi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new pe(t),r=Gi(this.ref,t);return new e(this._node.getChild(n),r,tt)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Gi(n.ref,r),tt))}))},e.prototype.hasChild=function(e){var t=new pe(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Wi(e,t){return(e=(0,o.m9)(e))._checkNotDeleted("ref"),void 0!==t?Gi(e._root,t):e._root}function Ui(e,t){(e=(0,o.m9)(e))._checkNotDeleted("refFromURL");var n=Oi(t,e._repo.repoInfo_.nodeAdmin);$r("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||C("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Wi(e,n.path.toString())}function Gi(e,t){var n,r,i,a;return null===me((e=(0,o.m9)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Xr(n,r,i,a)):Xr("child","path",t,!1),new Bi(e._repo,we(e._path,t))}function qi(e,t){e=(0,o.m9)(e),Qr("push",e._path),Ur("push",t,e._path,!0);var n,r=ui(e._repo),i=pt(r),a=Gi(e,i),s=Gi(e,i);return n=null!=t?Yi(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Vi(e){return Qr("remove",e._path),Yi(e,null)}function Yi(e,t){e=(0,o.m9)(e),Qr("set",e._path),Ur("set",t,e._path,!1);var n=new o.BH;return vi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Ki(e,t){e=(0,o.m9)(e),Qr("setPriority",e._path),Vr("setPriority",t,!1);var n=new o.BH;return vi(e._repo,we(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Xi(e,t,n){if(Qr("setWithPriority",e._path),Ur("setWithPriority",t,e._path,!1),Vr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.BH;return vi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Qi(e,t){qr("update",t,e._path,!1);var n=new o.BH;return function(e,t,n,r){_i(e,"update",{path:t.toString(),value:n});var i=!0,o=ci(e),a={};if(A(n,(function(n,r){i=!1,a[n]=Er(we(t,n),ut(r),e.serverSyncTree_,o)})),i)w("update() called with empty data.  Don't do anything."),xi(0,r,"ok",void 0);else{var s=pi(e),l=ir(e.serverSyncTree_,t,a,s);ti(e.eventQueue_,l),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||E("update at "+t+" failed: "+n);var a=or(e.serverSyncTree_,s,!o),l=a.length>0?ki(e,t):t;ri(e.eventQueue_,l,a),xi(0,r,n,i)})),A(n,(function(n){var r=Ii(e,we(t,n));ki(e,r)})),ri(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function $i(e){return function(e,t){var n=cr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=ut(n).withIndex(t._queryParams.getIndex()),i=ar(e.serverSyncTree_,t._path,r);return ni(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return _i(e,"get for query "+(0,o.Pz)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.m9)(e))._repo,e).then((function(t){return new Hi(t,new Bi(e._repo,e._path),e._queryParams.getIndex())}))}var Ji=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Di("value",this,new Hi(e.snapshotNode,new Bi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Ni(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),eo=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Ni(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.hu)(null!=e.childName,"Child events should have a childName.");var n=Gi(new Bi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Di(e.type,this,new Hi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function to(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){yi(e._repo,e,u),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var l=new Ai(n,o||void 0),u="value"===t?new Ji(l):new eo(t,l);return function(e,t,n){var r;r=".info"===me(t._path)?lr(e.infoSyncTree_,t,n):lr(e.serverSyncTree_,t,n),ni(e.eventQueue_,t._path,r)}(e._repo,e,u),function(){return yi(e._repo,e,u)}}function no(e,t,n,r){return to(e,"value",t,n,r)}function ro(e,t,n,r){return to(e,"child_added",t,n,r)}function io(e,t,n,r){return to(e,"child_changed",t,n,r)}function oo(e,t,n,r){return to(e,"child_moved",t,n,r)}function ao(e,t,n,r){return to(e,"child_removed",t,n,r)}function so(e,t,n){var r=null,i=n?new Ai(n):null;"value"===t?r=new Ji(i):t&&(r=new eo(t,i)),yi(e._repo,e,r)}var lo=function(){},uo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Ur("endAt",this._value,e._path,!0);var t=Et(e._queryParams,this._value,this._key);if(zi(t),Fi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Zi(e._repo,e._path,t,e._orderByCalled)},t}(lo);function co(e,t){return Kr("endAt","key",t,!0),new uo(e,t)}var fo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Ur("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Fe?("string"===typeof t&&(t=mt(t)),r=Et(e,t,n)):r=Et(e,t,null==n?P:mt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(zi(t),Fi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Zi(e._repo,e._path,t,e._orderByCalled)},t}(lo);function ho(e,t){return Kr("endBefore","key",t,!0),new fo(e,t)}var po=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Ur("startAt",this._value,e._path,!0);var t=Ct(e._queryParams,this._value,this._key);if(zi(t),Fi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Zi(e._repo,e._path,t,e._orderByCalled)},t}(lo);function vo(e,t){return void 0===e&&(e=null),Kr("startAt","key",t,!0),new po(e,t)}var mo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Ur("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===Fe?("string"===typeof t&&(t=vt(t)),r=Ct(e,t,n)):r=Ct(e,t,null==n?I:vt(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(zi(t),Fi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Zi(e._repo,e._path,t,e._orderByCalled)},t}(lo);function go(e,t){return Kr("startAfter","key",t,!0),new mo(e,t)}var yo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Zi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(lo);function bo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new yo(e)}var _o=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Zi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(lo);function xo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _o(e)}var wo=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ji(e,"orderByChild");var t=new pe(this._path);if(Se(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ct(t),r=Tt(e._queryParams,n);return Fi(r),new Zi(e._repo,e._path,r,!0)},t}(lo);function So(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Xr("orderByChild","path",e,!1),new wo(e)}var ko=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ji(e,"orderByKey");var t=Tt(e._queryParams,Fe);return Fi(t),new Zi(e._repo,e._path,t,!0)},t}(lo);function Co(){return new ko}var Eo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ji(e,"orderByPriority");var t=Tt(e._queryParams,tt);return Fi(t),new Zi(e._repo,e._path,t,!0)},t}(lo);function To(){return new Eo}var Po=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ji(e,"orderByValue");var t=Tt(e._queryParams,ft);return Fi(t),new Zi(e._repo,e._path,t,!0)},t}(lo);function Io(){return new Po}var Ro=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(Ur("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new uo(this._value,this._key)._apply(new po(this._value,this._key)._apply(e))},t}(lo);function Oo(e,t){return Kr("equalTo","key",t,!0),new Ro(e,t)}function Lo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.m9)(e);try{for(var l=(0,a.XA)(r),u=l.next();!u.done;u=l.next()){var c=u.value;s=c._apply(s)}}catch(d){t={error:d}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return s}!function(e){(0,o.hu)(!Mn,"__referenceConstructor has already been defined"),Mn=e}(Bi),function(e){(0,o.hu)(!Wn,"__referenceConstructor has already been defined"),Wn=e}(Bi);var Do={},No=!1;function Ao(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||C("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),w("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Oi(o,i),l=s.repoInfo,u=void 0;"undefined"!==typeof process&&(u={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),u?(a=!0,o="http://"+u+"?ns="+l.namespace,l=(s=Oi(o,i)).repoInfo):a=!s.repoInfo.secure;var c=i&&a?new G(G.OWNER):new U(e.name,e.options,t);$r("Invalid Firebase Database URL",s),Se(s.path)||C("Database URL must point to the root of a Firebase Database (not including a child path).");var d=function(e,t,n,r){var i=Do[t.name];i||(i={},Do[t.name]=i);var o=i[e.toURLString()];o&&C("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new si(e,No,n,r),i[e.toURLString()]=o,o}(l,e,c,new W(e.name,n));return new Mo(d,e)}var Mo=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(li(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Bi(this._repo,ve())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(!function(e,t){var n=Do[t];n&&n[e.key]===e||C("Database "+t+"("+e.repoInfo_+") has already been deleted."),bi(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&C("Cannot call "+e+" on a deleted database.")},e}();function Zo(e,t,n,r){void 0===r&&(r={}),(e=(0,o.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&C("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&C('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new G(G.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:(0,o.Sg)(r.mockUserToken,e.app.options.projectId);a=new G(s)}!function(e,t,n,r){e.repoInfo_=new X(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function jo(e){(e=(0,o.m9)(e))._checkNotDeleted("goOffline"),bi(e._repo)}function Fo(e){var t;(e=(0,o.m9)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ai)}var zo={".sv":"timestamp"};var Bo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Ho(e,t,n){var r;if(e=(0,o.m9)(e),Qr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.BH,s=no(e,(function(){}));return function(e,t,n,r,i,a){_i(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:m(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=wi(e,t,void 0);s.currentInputSnapshot=l;var u=s.update(l.val());if(void 0===u)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Gr("transaction failed: Data returned ",u,s.path),s.status=0;var c=Rr(e.transactionQueueTree_,t),d=Or(c)||[];d.push(s),Lr(c,d);var f=void 0;"object"===typeof u&&null!==u&&(0,o.r3)(u,".priority")?(f=(0,o.DV)(u,".priority"),(0,o.hu)(Wr(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(ur(e.serverSyncTree_,t)||st.EMPTY_NODE).getPriority().val();var h=ci(e),p=ut(u,f),v=Tr(p,l,h);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=v,s.currentWriteId=pi(e);var g=rr(e.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);ri(e.eventQueue_,t,g),Si(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Hi(r,new Bi(e._repo,e._path),tt),a.resolve(new Bo(n,i)))}),s,i),a.promise}var Wo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,o.Wj)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),(0,o.Wj)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,E("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.Wj)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Uo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Go=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Xr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Xr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),new Vo(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),qo=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.Dv)("Query.on",2,4,arguments.length),(0,o.Wj)("Query.on","callback",n,!1);var l=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(l.context,new Go(s.database,e),t)};u.userCallback=n,u.context=l.context;var c=null===(a=l.cancel)||void 0===a?void 0:a.bind(l.context);switch(t){case"value":return no(this._delegate,u,c),n;case"child_added":return ro(this._delegate,u,c),n;case"child_removed":return ao(this._delegate,u,c),n;case"child_changed":return io(this._delegate,u,c),n;case"child_moved":return oo(this._delegate,u,c),n;default:throw new Error((0,o.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.Dv)("Query.off",0,3,arguments.length),Yr("Query.off",e,!0),(0,o.Wj)("Query.off","callback",t,!0),(0,o.lb)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,so(this._delegate,e,r)}else so(this._delegate,e)},e.prototype.get=function(){var e=this;return $i(this._delegate).then((function(t){return new Go(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.Dv)("Query.once",1,4,arguments.length),(0,o.Wj)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),l=new o.BH,u=function(e,t){var r=new Go(a.database,e);n&&n.call(s.context,r,t),l.resolve(r)};u.userCallback=n,u.context=s.context;var c=function(e){s.cancel&&s.cancel.call(s.context,e),l.reject(e)};switch(t){case"value":no(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":ro(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":ao(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":io(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":oo(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error((0,o.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},e.prototype.limitToFirst=function(t){return(0,o.Dv)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Lo(this._delegate,bo(t)))},e.prototype.limitToLast=function(t){return(0,o.Dv)("Query.limitToLast",1,1,arguments.length),new e(this.database,Lo(this._delegate,xo(t)))},e.prototype.orderByChild=function(t){return(0,o.Dv)("Query.orderByChild",1,1,arguments.length),new e(this.database,Lo(this._delegate,So(t)))},e.prototype.orderByKey=function(){return(0,o.Dv)("Query.orderByKey",0,0,arguments.length),new e(this.database,Lo(this._delegate,Co()))},e.prototype.orderByPriority=function(){return(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Lo(this._delegate,To()))},e.prototype.orderByValue=function(){return(0,o.Dv)("Query.orderByValue",0,0,arguments.length),new e(this.database,Lo(this._delegate,Io()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.startAt",0,2,arguments.length),new e(this.database,Lo(this._delegate,vo(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.startAfter",0,2,arguments.length),new e(this.database,Lo(this._delegate,go(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.endAt",0,2,arguments.length),new e(this.database,Lo(this._delegate,co(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.endBefore",0,2,arguments.length),new e(this.database,Lo(this._delegate,ho(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.Dv)("Query.equalTo",1,2,arguments.length),new e(this.database,Lo(this._delegate,Oo(t,n)))},e.prototype.toString=function(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.Wj)(e,"cancel",r.cancel,!0),r.context=n,(0,o.lb)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Vo(this.database,new Bi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Vo=function(e){function t(t,n){var r=e.call(this,t,new Zi(n._repo,n._path,new kt,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.ZT)(t,e),t.prototype.getKey=function(){return(0,o.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Gi(this._delegate,e))},t.prototype.getParent=function(){(0,o.Dv)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.Dv)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.Dv)("Reference.set",1,2,arguments.length),(0,o.Wj)("Reference.set","onComplete",t,!0);var n=Yi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,E("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Qr("Reference.update",this._delegate._path),(0,o.Wj)("Reference.update","onComplete",t,!0);var i=Qi(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,o.Wj)("Reference.setWithPriority","onComplete",n,!0);var r=Xi(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.Dv)("Reference.remove",0,1,arguments.length),(0,o.Wj)("Reference.remove","onComplete",e,!0);var t=Vi(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.Dv)("Reference.transaction",1,3,arguments.length),(0,o.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,o.Wj)("Reference.transaction","onComplete",t,!0),Jr("Reference.transaction","applyLocally",n,!0);var i=Ho(this._delegate,e,{applyLocally:n}).then((function(e){return new Uo(e.committed,new Go(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),(0,o.Wj)("Reference.setPriority","onComplete",t,!0);var n=Ki(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.Dv)("Reference.push",0,2,arguments.length),(0,o.Wj)("Reference.push","onComplete",n,!0);var i=qi(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Qr("Reference.onDisconnect",this._delegate._path),new Wo(new Mi(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(qo),Yo=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Zo(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.Dv)("database.ref",0,1,arguments.length),e instanceof Vo){var t=Ui(this._delegate,e.toString());return new Vo(this,t)}t=Wi(this._delegate,e);return new Vo(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.Dv)(t,1,1,arguments.length);var n=Ui(this._delegate,e);return new Vo(this,n)},e.prototype.goOffline=function(){return(0,o.Dv)("database.goOffline",0,0,arguments.length),jo(this._delegate)},e.prototype.goOnline=function(){return(0,o.Dv)("database.goOnline",0,0,arguments.length),Fo(this._delegate)},e.ServerValue={TIMESTAMP:zo,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var Ko=Object.freeze({__proto__:null,forceLongPolling:function(){le.forceDisallow(),oe.forceAllow()},forceWebSockets:function(){oe.forceDisallow()},isWebSocketsAvailable:function(){return le.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Zt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);A(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,l=void 0!==s&&s;u(r);var c=new i.zt("auth-internal",new i.H0("database-standalone"));return c.setComponent(new i.wA("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Yo(Ao(t,c,void 0,n,l),t),namespace:a}}}),Xo=Ae;Ae.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ae.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Qo=ce,$o=X,Jo=Object.freeze({__proto__:null,DataConnection:Xo,RealTimeConnection:Qo,hijackHash:function(e){var t=Ae.prototype.put;return Ae.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Ae.prototype.put=t}},ConnectionTarget:$o,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){No=e}(e)}}),ea=Yo.ServerValue;!function(t){u(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.wA("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Yo(Ao(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Vo,Query:qo,Database:Yo,DataSnapshot:Go,enableLogging:x,INTERNAL:Ko,ServerValue:ea,TEST_ACCESS:Jo}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.11.0"),(0,o.Yr)()&&(e.exports=n)}(r.Z)},9386:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(t,{in:function(){return o},Yd:function(){return d},Ub:function(){return f},Am:function(){return h}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},l=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),c=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=u[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},d=function(){function e(e){this.name=e,this._logLevel=l,this._logHandler=c,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function h(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},9971:function(e,t,n){"use strict";n.d(t,{BH:function(){return m},LL:function(){return I},ZR:function(){return P},gQ:function(){return H},zI:function(){return T},hu:function(){return s},g5:function(){return l},US:function(){return c},h$:function(){return d},$s:function(){return $},r3:function(){return Z},Sg:function(){return g},ne:function(){return W},p$:function(){return p},ZB:function(){return v},gK:function(){return V},m9:function(){return J},GJ:function(){return M},jU:function(){return x},ru:function(){return w},xb:function(){return F},hl:function(){return C},uI:function(){return b},UG:function(){return _},Yr:function(){return k},b$:function(){return S},w9:function(){return A},cI:function(){return L},UI:function(){return z},xO:function(){return B},DV:function(){return j},ug:function(){return Q},dS:function(){return X},Pz:function(){return D},Dv:function(){return q},Wj:function(){return Y},lb:function(){return K},eu:function(){return E}});var r=n(9388),i=!1,o=!1,a="${JSCORE_VERSION}",s=function(e,t){if(!e)throw l(t)},l=function(e){return new Error("Firebase Database ("+a+") INTERNAL ASSERT FAILED: "+e)},u=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,d=(3&o)<<4|s>>4,f=(15&s)<<2|u>>6,h=63&u;l||(h=64,a||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,l=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==l)throw Error();var u=o<<2|a>>4;if(r.push(u),64!==s){var c=a<<4&240|s>>2;if(r.push(c),64!==l){var d=s<<6&192|l;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},d=function(e){var t=u(e);return c.encodeByteArray(t,!0)},f=function(e){return d(e).replace(/\./g,"")},h=function(e){try{return c.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function p(e){return v(void 0,e)}function v(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=v(e[n],t[n]));return e}var m=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[f(JSON.stringify({alg:"none",type:"JWT"})),f(JSON.stringify(a)),""].join(".")}function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function b(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function _(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function x(){return"object"===typeof self&&self.self===self}function w(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function S(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function k(){return!0===i||!0===o}function C(){return"indexedDB"in self&&null!=indexedDB}function E(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function T(){return!(!navigator||!navigator.cookieEnabled)}var P=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,I.prototype.create),o}return(0,r.ZT)(t,e),t}(Error),I=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?R(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",l=new P(i,s,r);return l},e}();function R(e,t){return e.replace(O,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var O=/\{\$([^}]+)}/g;function L(e){return JSON.parse(e)}function D(e){return JSON.stringify(e)}var N=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=L(h(o[0])||""),n=L(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},A=function(e){var t=N(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},M=function(e){var t=N(e).claims;return"object"===typeof t&&!0===t.admin};function Z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function F(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function z(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function B(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}var H=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],l=this.chain_[1],u=this.chain_[2],c=this.chain_[3],d=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^l&(u^c),a=1518500249):(o=l^u^c,a=1859775393):r<60?(o=l&u|c&(l|u),a=2400959708):(o=l^u^c,a=3395469782);i=(s<<5|s>>>27)+o+d+a+n[r]&4294967295;d=c,c=u,u=4294967295&(l<<30|l>>>2),l=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function W(e,t){var n=new U(e,t);return n.subscribe.bind(n)}var U=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=G),void 0===r.error&&(r.error=G),void 0===r.complete&&(r.complete=G);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function G(){}var q=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function V(e,t){return e+" failed: "+t+" argument "}function Y(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(V(e,t)+"must be a valid function.")}function K(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(V(e,t)+"must be a valid context object.")}var X=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,s(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Q=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function $(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function J(e){return e&&e._delegate?e._delegate:e}},6608:function(e,t,n){"use strict";var r=n(7462),i=n(5987),o=n(2791),a=n(8182),s=n(8317),l=n(1122),u=o.forwardRef((function(e,t){var n=e.children,s=e.classes,u=e.className,c=e.color,d=void 0===c?"inherit":c,f=e.component,h=void 0===f?"svg":f,p=e.fontSize,v=void 0===p?"medium":p,m=e.htmlColor,g=e.titleAccess,y=e.viewBox,b=void 0===y?"0 0 24 24":y,_=(0,i.Z)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(h,(0,r.Z)({className:(0,a.Z)(s.root,u,"inherit"!==d&&s["color".concat((0,l.Z)(d))],"default"!==v&&"medium"!==v&&s["fontSize".concat((0,l.Z)(v))]),focusable:"false",viewBox:b,color:m,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},_),n,g?o.createElement("title",null,g):null)}));u.muiName="SvgIcon",t.Z=(0,s.Z)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(u)},5995:function(e,t){"use strict";t.Z={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"}},4806:function(e,t){"use strict";t.Z={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}},4335:function(e,t){"use strict";t.Z={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"}},4894:function(e,t){"use strict";t.Z={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}},3108:function(e,t,n){"use strict";n.d(t,{mi:function(){return s},_4:function(){return u},Fq:function(){return c},_j:function(){return d},$n:function(){return f}});var r=n(7483);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.Z)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function a(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=l(e),r=l(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function l(e){var t="hsl"===(e=o(e)).type?o(function(e){var t=(e=o(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",c=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(u+="a",c.push(t[3])),a({type:u,values:c})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return l(e)>.5?d(e,t):f(e,t)}function c(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,a(e)}function d(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function f(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return a(e)}},369:function(e,t,n){"use strict";n.d(t,{Z:function(){return K}});var r=n(5987),i=n(1534),o=n(7462),a=["xs","sm","md","lg","xl"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,i=e.unit,s=void 0===i?"px":i,l=e.step,u=void 0===l?5:l,c=(0,r.Z)(e,["values","unit","step"]);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function f(e,t){var r=a.indexOf(t);return r===a.length-1?d(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[a[r+1]]?n[a[r+1]]:t)-u/100).concat(s,")")}return(0,o.Z)({keys:a,values:n,up:d,down:function(e){var t=a.indexOf(e)+1,r=n[a[t]];return t===a.length?d("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-u/100).concat(s,")")},between:f,only:function(e){return f(e,e)},width:function(e){return n[e]}},c)}var l=n(4942);function u(e,t,n){var r;return(0,o.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,o.Z)({paddingLeft:t(2),paddingRight:t(2)},n,(0,l.Z)({},e.up("sm"),(0,o.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,l.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,l.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}var c=n(7483),d={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},h={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},p={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},v=n(4894),m=n(4335),g=n(5995),y=n(4806),b=n(3108),_={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:f[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},x={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:f[800],default:"#303030"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function w(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,b.$n)(e.main,i):"dark"===t&&(e.dark=(0,b._j)(e.main,o)))}function S(e){var t=e.primary,n=void 0===t?{light:h[300],main:h[500],dark:h[700]}:t,a=e.secondary,s=void 0===a?{light:p.A200,main:p.A400,dark:p.A700}:a,l=e.error,u=void 0===l?{light:v.Z[300],main:v.Z[500],dark:v.Z[700]}:l,S=e.warning,k=void 0===S?{light:m.Z[300],main:m.Z[500],dark:m.Z[700]}:S,C=e.info,E=void 0===C?{light:g.Z[300],main:g.Z[500],dark:g.Z[700]}:C,T=e.success,P=void 0===T?{light:y.Z[300],main:y.Z[500],dark:y.Z[700]}:T,I=e.type,R=void 0===I?"light":I,O=e.contrastThreshold,L=void 0===O?3:O,D=e.tonalOffset,N=void 0===D?.2:D,A=(0,r.Z)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function M(e){return(0,b.mi)(e,x.text.primary)>=L?x.text.primary:_.text.primary}var Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,o.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,c.Z)(4,t));if("string"!==typeof e.main)throw new Error((0,c.Z)(5,JSON.stringify(e.main)));return w(e,"light",n,N),w(e,"dark",r,N),e.contrastText||(e.contrastText=M(e.main)),e},j={dark:x,light:_};return(0,i.Z)((0,o.Z)({common:d,type:R,primary:Z(n),secondary:Z(s,"A400","A200","A700"),error:Z(u),warning:Z(k),info:Z(E),success:Z(P),grey:f,contrastThreshold:L,getContrastText:M,augmentColor:Z,tonalOffset:N},j[R]),A)}function k(e){return Math.round(1e5*e)/1e5}function C(e){return k(e)}var E={textTransform:"uppercase"},T='"Roboto", "Helvetica", "Arial", sans-serif';function P(e,t){var n="function"===typeof t?t(e):t,a=n.fontFamily,s=void 0===a?T:a,l=n.fontSize,u=void 0===l?14:l,c=n.fontWeightLight,d=void 0===c?300:c,f=n.fontWeightRegular,h=void 0===f?400:f,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,g=void 0===m?700:m,y=n.htmlFontSize,b=void 0===y?16:y,_=n.allVariants,x=n.pxToRem,w=(0,r.Z)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var S=u/14,P=x||function(e){return"".concat(e/b*S,"rem")},I=function(e,t,n,r,i){return(0,o.Z)({fontFamily:s,fontWeight:e,fontSize:P(t),lineHeight:n},s===T?{letterSpacing:"".concat(k(r/t),"em")}:{},i,_)},R={h1:I(d,96,1.167,-1.5),h2:I(d,60,1.2,-.5),h3:I(h,48,1.167,0),h4:I(h,34,1.235,.25),h5:I(h,24,1.334,0),h6:I(v,20,1.6,.15),subtitle1:I(h,16,1.75,.15),subtitle2:I(v,14,1.57,.1),body1:I(h,16,1.5,.15),body2:I(h,14,1.43,.15),button:I(v,14,1.75,.4,E),caption:I(h,12,1.66,.4),overline:I(h,12,2.66,1,E)};return(0,i.Z)((0,o.Z)({htmlFontSize:b,pxToRem:P,round:C,fontFamily:s,fontSize:u,fontWeightLight:d,fontWeightRegular:h,fontWeightMedium:v,fontWeightBold:g},R),w,{clone:!1})}function I(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var R=["none",I(0,2,1,-1,0,1,1,0,0,1,3,0),I(0,3,1,-2,0,2,2,0,0,1,5,0),I(0,3,3,-2,0,3,4,0,0,1,8,0),I(0,2,4,-1,0,4,5,0,0,1,10,0),I(0,3,5,-1,0,5,8,0,0,1,14,0),I(0,3,5,-1,0,6,10,0,0,1,18,0),I(0,4,5,-2,0,7,10,1,0,2,16,1),I(0,5,5,-3,0,8,10,1,0,3,14,2),I(0,5,6,-3,0,9,12,1,0,3,16,2),I(0,6,6,-3,0,10,14,1,0,4,18,3),I(0,6,7,-4,0,11,15,1,0,4,20,3),I(0,7,8,-4,0,12,17,2,0,5,22,4),I(0,7,8,-4,0,13,19,2,0,5,24,4),I(0,7,9,-4,0,14,21,2,0,5,26,4),I(0,8,9,-5,0,15,22,2,0,6,28,5),I(0,8,10,-5,0,16,24,2,0,6,30,5),I(0,8,11,-5,0,17,26,2,0,6,32,5),I(0,9,11,-5,0,18,28,2,0,7,34,6),I(0,9,12,-6,0,19,29,2,0,7,36,6),I(0,10,13,-6,0,20,31,3,0,8,38,7),I(0,10,13,-6,0,21,33,3,0,8,40,7),I(0,10,14,-6,0,22,35,3,0,8,42,7),I(0,11,14,-7,0,23,36,3,0,9,44,8),I(0,11,15,-7,0,24,38,3,0,9,46,8)],O={borderRadius:4},L=n(9439),D=n(1002),N={xs:0,sm:600,md:960,lg:1280,xl:1920},A={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(N[e],"px)")}};var M=function(e,t){return t?(0,i.Z)(e,t,{clone:!1}):e};var Z={m:"margin",p:"padding"},j={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},F={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},z=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!F[e])return[e];e=F[e]}var t=e.split(""),n=(0,L.Z)(t,2),r=n[0],i=n[1],o=Z[r],a=j[i]||"";return Array.isArray(a)?a.map((function(e){return o+e})):[o+a]})),B=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function H(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function W(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function U(e){var t=H(e.theme);return Object.keys(e).map((function(n){if(-1===B.indexOf(n))return null;var r=W(z(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||A;return t.reduce((function(e,i,o){return e[r.up(r.keys[o])]=n(t[o]),e}),{})}if("object"===(0,D.Z)(t)){var i=e.theme.breakpoints||A;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(M,{})}U.propTypes={},U.filterProps=B;function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=H({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var q=n(812),V=n(9535);function Y(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.mixins,a=void 0===o?{}:o,l=e.palette,c=void 0===l?{}:l,d=e.spacing,f=e.typography,h=void 0===f?{}:f,p=(0,r.Z)(e,["breakpoints","mixins","palette","spacing","typography"]),v=S(c),m=s(n),g=G(d),y=(0,i.Z)({breakpoints:m,direction:"ltr",mixins:u(m,g,a),overrides:{},palette:v,props:{},shadows:R,typography:P(v,h),spacing:g,shape:O,transitions:q.ZP,zIndex:V.Z},p),b=arguments.length,_=new Array(b>1?b-1:0),x=1;x<b;x++)_[x-1]=arguments[x];return y=_.reduce((function(e,t){return(0,i.Z)(e,t)}),y)}var K=Y},663:function(e,t,n){"use strict";var r=(0,n(369).Z)();t.Z=r},812:function(e,t,n){"use strict";n.d(t,{x9:function(){return o}});var r=n(5987),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function a(e){return"".concat(Math.round(e),"ms")}t.ZP={easing:i,duration:o,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?o.standard:n,l=t.easing,u=void 0===l?i.easeInOut:l,c=t.delay,d=void 0===c?0:c;(0,r.Z)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:a(s)," ").concat(u," ").concat("string"===typeof d?d:a(d))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},8317:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(7462),i=n(5987),o=n(2791),a=n(2110),s=n.n(a),l=n(3401),u=n(794),c=n(8444),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var a=t.defaultTheme,d=t.withTheme,f=void 0!==d&&d,h=t.name,p=(0,i.Z)(t,["defaultTheme","withTheme","name"]);var v=h,m=(0,l.Z)(e,(0,r.Z)({defaultTheme:a,Component:n,name:h||n.displayName,classNamePrefix:v},p)),g=o.forwardRef((function(e,t){e.classes;var s,l=e.innerRef,d=(0,i.Z)(e,["classes","innerRef"]),p=m((0,r.Z)({},n.defaultProps,e)),v=d;return("string"===typeof h||f)&&(s=(0,c.Z)()||a,h&&(v=(0,u.Z)({theme:s,name:h,props:d})),f&&!v.theme&&(v.theme=s)),o.createElement(n,(0,r.Z)({ref:l||t,classes:p},v))}));return s()(g,n),g}},f=n(663);var h=function(e,t){return d(e,(0,r.Z)({defaultTheme:f.Z},t))}},9535:function(e,t){"use strict";t.Z={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},1122:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7483);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7545:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:function(){return r}})},4327:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7462),i=n(2791),o=n(6608);function a(e,t){var n=function(t,n){return i.createElement(o.Z,(0,r.Z)({ref:n},t),e)};return n.muiName=o.Z.muiName,i.memo(i.forwardRef(n))}},503:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=this,s=function(){e.apply(a,i)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},7156:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return i.Z},createSvgIcon:function(){return o.Z},debounce:function(){return a.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return l.Z},ownerDocument:function(){return u.Z},ownerWindow:function(){return c.Z},requirePropFactory:function(){return d},setRef:function(){return f.Z},unstable_useId:function(){return g.Z},unsupportedProp:function(){return h},useControlled:function(){return p.Z},useEventCallback:function(){return v.Z},useForkRef:function(){return m.Z},useIsFocusVisible:function(){return y.Z}});var r=n(1122),i=n(7545),o=n(4327),a=n(503);function s(e,t){return function(){return null}}var l=n(3375),u=n(4667),c=n(7636);function d(e){return function(){return null}}var f=n(1565);function h(e,t,n,r,i){return null}var p=n(2497),v=n(2216),m=n(9806),g=n(2939),y=n(1175)},3375:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2791);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},4667:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},7636:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(4667);function i(e){return(0,r.Z)(e).defaultView||window}},1565:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},2939:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2791);function i(e){var t=r.useState(e),n=t[0],i=t[1],o=e||n;return r.useEffect((function(){null==n&&i("mui-".concat(Math.round(1e5*Math.random())))}),[n]),o}},2497:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2791);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),o=r.useState(n),a=o[0],s=o[1];return[i?t:a,r.useCallback((function(e){i||s(e)}),[])]}},2216:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function o(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},9806:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2791),i=n(1565);function o(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},1175:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(2791),i=n(4164),o=!0,a=!1,s=null,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function c(){o=!1}function d(){"hidden"===this.visibilityState&&a&&(o=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function h(){a=!0,window.clearTimeout(s),s=window.setTimeout((function(){a=!1}),100)}function p(){return{isFocusVisible:f,onBlurVisible:h,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",d,!0))}),[])}}},2149:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutline");t.Z=a},8019:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z"}),"Adjust");t.Z=a},5953:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"}),"Archive");t.Z=a},7373:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M10 2c-1.82 0-3.53.5-5 1.35C7.99 5.08 10 8.3 10 12s-2.01 6.92-5 8.65C6.47 21.5 8.18 22 10 22c5.52 0 10-4.48 10-10S15.52 2 10 2z"}),"Brightness2");t.Z=a},1557:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");t.Z=a},745:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.Z=a},4241:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.Z=a},14:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=a},7595:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=a},1659:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M10 7H8v4H4v2h4v4h2v-4h4v-2h-4V7zm10 11h-2V7.38L15 8.4V6.7L19.7 5h.3v13z"}),"ExposurePlus1");t.Z=a},8030:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage");t.Z=a},3388:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"}),"Flag");t.Z=a},3820:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M12 .3a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2c-3.3.7-4-1.6-4-1.6-.6-1.4-1.4-1.8-1.4-1.8-1-.7.1-.7.1-.7 1.2 0 1.9 1.2 1.9 1.2 1 1.8 2.8 1.3 3.5 1 0-.8.4-1.3.7-1.6-2.7-.3-5.5-1.3-5.5-6 0-1.2.5-2.3 1.3-3.1-.2-.4-.6-1.6 0-3.2 0 0 1-.3 3.4 1.2a11.5 11.5 0 0 1 6 0c2.3-1.5 3.3-1.2 3.3-1.2.6 1.6.2 2.8 0 3.2.9.8 1.3 1.9 1.3 3.2 0 4.6-2.8 5.6-5.5 5.9.5.4.9 1 .9 2.2v3.3c0 .3.1.7.8.6A12 12 0 0 0 12 .3"}),"GitHub");t.Z=a},1519:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"HighlightOff");t.Z=a},7656:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.Z=a},1348:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");t.Z=a},3081:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"}),"PanTool");t.Z=a},587:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");t.Z=a},417:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Sync");t.Z=a},8215:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M10 6.35V4.26c-.8.21-1.55.54-2.23.96l1.46 1.46c.25-.12.5-.24.77-.33zm-7.14-.94l2.36 2.36C4.45 8.99 4 10.44 4 12c0 2.21.91 4.2 2.36 5.64L4 20h6v-6l-2.24 2.24C6.68 15.15 6 13.66 6 12c0-1 .25-1.94.68-2.77l8.08 8.08c-.25.13-.5.25-.77.34v2.09c.8-.21 1.55-.54 2.23-.96l2.36 2.36 1.27-1.27L4.14 4.14 2.86 5.41zM20 4h-6v6l2.24-2.24C17.32 8.85 18 10.34 18 12c0 1-.25 1.94-.68 2.77l1.46 1.46C19.55 15.01 20 13.56 20 12c0-2.21-.91-4.2-2.36-5.64L20 4z"}),"SyncDisabled");t.Z=a},4476:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M20.55 5.22l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.15.55L3.46 5.22C3.17 5.57 3 6.01 3 6.5V19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.49-.17-.93-.45-1.28zM12 9.5l5.5 5.5H14v2h-4v-2H6.5L12 9.5zM5.12 5l.82-1h12l.93 1H5.12z"}),"Unarchive");t.Z=a},7616:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"}),"WbSunny");t.Z=a},9707:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement(o.Fragment,null,o.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),o.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})),"ZoomIn");t.Z=a},836:function(e,t,n){"use strict";var r=n(5318),i=n(862);t.Z=void 0;var o=i(n(2791)),a=(0,r(n(3860)).default)(o.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}),"ZoomOut");t.Z=a},3860:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(7156)},9316:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for;t.Z=n?Symbol.for("mui.nested"):"__THEME_NESTED__"},794:function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}n.d(t,{Z:function(){return r}})},3401:function(e,t,n){"use strict";n.d(t,{Z:function(){return bn}});var r=n(5987),i=n(7462),o=n(2791),a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s="object"===("undefined"===typeof window?"undefined":a(window))&&"object"===("undefined"===typeof document?"undefined":a(document))&&9===document.nodeType,l=n(3144),u=n(4578),c=n(7326),d=n(3366),f={}.constructor;function h(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(h);if(e.constructor!==f)return e;var t={};for(var n in e)t[n]=h(e[n]);return t}function p(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=h(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var v=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},m=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=v(e[r]," ");else n=v(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function g(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function y(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function b(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;!1===n.format&&(o=-1/0);var s=g(n),l=s.linebreak,u=s.space;if(e&&o++,a)if(Array.isArray(a))for(var c=0;c<a.length;c++){var d=a[c];for(var f in d){var h=d[f];null!=h&&(r&&(r+=l),r+=y(f+":"+u+m(h)+";",o))}}else for(var p in a){var v=a[p];null!=v&&(r&&(r+=l),r+=y(p+":"+u+m(v)+";",o))}for(var b in t){var _=t[b];null!=_&&"fallbacks"!==b&&(r&&(r+=l),r+=y(b+":"+u+m(_)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+l+r+l),y(""+e+u+"{"+r,--o)+y("}",o)):r}var _=/([[\].#*$><+~=|^:(),"'`\s])/g,x="undefined"!==typeof CSS&&CSS.escape,w=function(e){return x?x(e):e.replace(_,"\\$1")},S=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),k=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,a=r.scoped,s=r.sheet,l=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=l((0,c.Z)((0,c.Z)(i)),s),i.selectorText="."+w(i.id)),i}(0,u.Z)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=m(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,n)},(0,l.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(S),C={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new k(e,t,n)}},E={indent:1,children:!0},T=/@([\w-]+)/,P=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(T);for(var o in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new $((0,i.Z)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=E);var t=g(e).linebreak;if(null==e.indent&&(e.indent=E.indent),null==e.children&&(e.children=E.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),I=/@media|@supports\s+/,R={onCreateRule:function(e,t,n){return I.test(e)?new P(e,t,n):null}},O={indent:1,children:!0},L=/@keyframes\s+([\w-]+)/,D=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(L);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var l in this.id=!1===o?this.name:w(s(this,a)),this.rules=new $((0,i.Z)({},n,{parent:this})),t)this.rules.add(l,t[l],(0,i.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=O);var t=g(e).linebreak;if(null==e.indent&&(e.indent=O.indent),null==e.children&&(e.children=O.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),N=/@keyframes\s+/,A=/\$([\w-]+)/g,M=function(e,t){return"string"===typeof e?e.replace(A,(function(e,n){return n in t?t[n]:e})):e},Z=function(e,t,n){var r=e[t],i=M(r,n);i!==r&&(e[t]=i)},j={onCreateRule:function(e,t,n){return"string"===typeof e&&N.test(e)?new D(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Z(e,"animation-name",n.keyframes),"animation"in e&&Z(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return M(e,r.keyframes);default:return e}}},F=function(e){function t(){return e.apply(this,arguments)||this}return(0,u.Z)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,n)},t}(S),z={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new F(e,t,n):null}},B=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=g(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=b(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return b(this.at,this.style,e)},e}(),H=/@font-face/,W={onCreateRule:function(e,t,n){return H.test(e)?new B(e,t,n):null}},U=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),G={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new U(e,t,n):null}},q=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),V={"@charset":!0,"@import":!0,"@namespace":!0},Y={onCreateRule:function(e,t,n){return e in V?new q(e,t,n):null}},K=[C,R,j,z,W,G,Y],X={process:!0},Q={force:!0,process:!0},$=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,o=r.parent,a=r.sheet,s=r.jss,l=r.Renderer,u=r.generateId,c=r.scoped,d=(0,i.Z)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:l,generateId:u,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),f=e;e in this.raw&&(f=e+"-d"+this.counter++),this.raw[f]=t,f in this.classes&&(d.selector="."+w(this.classes[f]));var h=p(f,t,d);if(!h)return null;this.register(h);var v=void 0===d.index?this.index.length:d.index;return this.index.splice(v,0,h),h},t.replace=function(e,t,n){var r=this.get(e),o=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==o&&(a=(0,i.Z)({},n,{index:o})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof k?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof D&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof k?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof D&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=X);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(o.onUpdate(n,t,a,r),r.process&&s&&s!==t.style){for(var l in o.onProcessStyle(t.style,t,a),t.style){var u=t.style[l];u!==s[l]&&t.prop(l,u,Q)}for(var c in s){var d=t.style[c],f=s[c];null==d&&d!==f&&t.prop(c,null,Q)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=g(e).linebreak,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||r)&&(t&&(t+=i),t+=a)}return t},e}(),J=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,i.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new $(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ee=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),te=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,d.Z)(t,["attached"]),i=g(r).linebreak,o="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=n&&s.attached!==n||(o&&(o+=i),o+=s.toString(r))}return o},(0,l.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ne=new te,re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ie="2f1acc6c3a606b082e5eef5e54414ffb";null==re[ie]&&(re[ie]=0);var oe=re[ie]++,ae=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+oe+i+t:o+n.key+"-"+oe+(i?"-"+i:"")+"-"+t}},se=function(e){var t;return function(){return t||(t=e()),t}},le=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ue=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=m(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},ce=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},de=function(e,t){return e.selectorText=t,e.selectorText===t},fe=se((function(){return document.querySelector("head")}));function he(e){var t=ne.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=fe(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var pe=se((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),ve=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},me=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ge=function(){function e(e){this.getPropertyValue=le,this.setProperty=ue,this.removeProperty=ce,this.setSelector=de,this.hasInsertedRules=!1,this.cssRules=[],e&&ne.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=pe();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=he(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else fe().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=me(n,t);if(!1===(i=ve(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=me(n,t),l=ve(n,a,s);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,s,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof J&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ye=0,be=function(){function e(e){this.id=ye++,this.version="10.9.0",this.plugins=new ee,this.options={id:{minify:!1},createGenerateId:ae,Renderer:s?ge:null,plugins:[]},this.generateId=ae({minify:!1});for(var t=0;t<K.length;t++)this.plugins.use(K[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,i.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ne.index?0:ne.index+1);var r=new J(e,(0,i.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ne.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=(0,i.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var o=p(e,t,r);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),_e=function(e){return new be(e)},xe="object"===typeof CSS&&null!=CSS&&"number"in CSS;function we(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=we(r);o&&(t||(t={}),t[n]=o)}}return t}_e();var Se=n(5352),ke={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Ce=ke,Ee=n(8444),Te=n(9316),Pe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Ie=Date.now(),Re="fnValues"+Ie,Oe="fnStyle"+ ++Ie,Le=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=p(e,{},n);return r[Oe]=t,r},onProcessStyle:function(e,t){if(Re in t||Oe in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Re]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[Oe];o&&(i.style=o(e)||{});var a=i[Re];if(a)for(var s in a)i.prop(s,a[s](e),r)}}},De="@global",Ne="@global ",Ae=function(){function e(e,t,n){for(var r in this.type="global",this.at=De,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new $((0,i.Z)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Me=function(){function e(e,t,n){this.type="global",this.at=De,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Ne.length);this.rule=n.jss.createRule(r,t,(0,i.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Ze=/\s*,\s*/g;function je(e,t){for(var n=e.split(Ze),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Fe=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===De)return new Ae(e,t,n);if("@"===e[0]&&e.substr(0,Ne.length)===Ne)return new Me(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,o=r?r[De]:null;if(o){for(var a in o)t.addRule(a,o[a],(0,i.Z)({},n,{selector:je(a,e.selector)}));delete r[De]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var o in r)if("@"===o[0]&&o.substr(0,De.length)===De){var a=je(o.substr(De.length),e.selector);t.addRule(a,r[o],(0,i.Z)({},n,{selector:a})),delete r[o]}}(e,t))}}},ze=/\s*,\s*/g,Be=/&/g,He=/\$([\w-]+)/g;var We=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(ze),r=e.split(ze),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var l=r[s];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(Be,a):a+" "+l}return i}function n(e,t,n){if(n)return(0,i.Z)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var o=(0,i.Z)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(r,o,a){if("style"!==o.type)return r;var s,l,u=o,c=u.options.parent;for(var d in r){var f=-1!==d.indexOf("&"),h="@"===d[0];if(f||h){if(s=n(u,c,s),f){var p=t(d,u.selector);l||(l=e(c,a)),p=p.replace(He,l);var v=u.key+"-"+d;"replaceRule"in c?c.replaceRule(v,r[d],(0,i.Z)({},s,{selector:p})):c.addRule(v,r[d],(0,i.Z)({},s,{selector:p}))}else h&&c.addRule(d,{},s).addRule(u.key,r[d],{selector:u.selector});delete r[d]}}return r}}},Ue=/[A-Z]/g,Ge=/^ms-/,qe={};function Ve(e){return"-"+e.toLowerCase()}var Ye=function(e){if(qe.hasOwnProperty(e))return qe[e];var t=e.replace(Ue,Ve);return qe[e]=Ge.test(t)?"-"+t:t};function Ke(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Ye(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Ke):t.fallbacks=Ke(e.fallbacks)),t}var Xe=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Ke(e[t]);return e}return Ke(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Ye(t);return t===r?e:(n.prop(r,e),null)}}},Qe=xe&&CSS?CSS.px:"px",$e=xe&&CSS?CSS.ms:"ms",Je=xe&&CSS?CSS.percent:"%";function et(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var tt=et({"animation-delay":$e,"animation-duration":$e,"background-position":Qe,"background-position-x":Qe,"background-position-y":Qe,"background-size":Qe,border:Qe,"border-bottom":Qe,"border-bottom-left-radius":Qe,"border-bottom-right-radius":Qe,"border-bottom-width":Qe,"border-left":Qe,"border-left-width":Qe,"border-radius":Qe,"border-right":Qe,"border-right-width":Qe,"border-top":Qe,"border-top-left-radius":Qe,"border-top-right-radius":Qe,"border-top-width":Qe,"border-width":Qe,"border-block":Qe,"border-block-end":Qe,"border-block-end-width":Qe,"border-block-start":Qe,"border-block-start-width":Qe,"border-block-width":Qe,"border-inline":Qe,"border-inline-end":Qe,"border-inline-end-width":Qe,"border-inline-start":Qe,"border-inline-start-width":Qe,"border-inline-width":Qe,"border-start-start-radius":Qe,"border-start-end-radius":Qe,"border-end-start-radius":Qe,"border-end-end-radius":Qe,margin:Qe,"margin-bottom":Qe,"margin-left":Qe,"margin-right":Qe,"margin-top":Qe,"margin-block":Qe,"margin-block-end":Qe,"margin-block-start":Qe,"margin-inline":Qe,"margin-inline-end":Qe,"margin-inline-start":Qe,padding:Qe,"padding-bottom":Qe,"padding-left":Qe,"padding-right":Qe,"padding-top":Qe,"padding-block":Qe,"padding-block-end":Qe,"padding-block-start":Qe,"padding-inline":Qe,"padding-inline-end":Qe,"padding-inline-start":Qe,"mask-position-x":Qe,"mask-position-y":Qe,"mask-size":Qe,height:Qe,width:Qe,"min-height":Qe,"max-height":Qe,"min-width":Qe,"max-width":Qe,bottom:Qe,left:Qe,top:Qe,right:Qe,inset:Qe,"inset-block":Qe,"inset-block-end":Qe,"inset-block-start":Qe,"inset-inline":Qe,"inset-inline-end":Qe,"inset-inline-start":Qe,"box-shadow":Qe,"text-shadow":Qe,"column-gap":Qe,"column-rule":Qe,"column-rule-width":Qe,"column-width":Qe,"font-size":Qe,"font-size-delta":Qe,"letter-spacing":Qe,"text-decoration-thickness":Qe,"text-indent":Qe,"text-stroke":Qe,"text-stroke-width":Qe,"word-spacing":Qe,motion:Qe,"motion-offset":Qe,outline:Qe,"outline-offset":Qe,"outline-width":Qe,perspective:Qe,"perspective-origin-x":Je,"perspective-origin-y":Je,"transform-origin":Je,"transform-origin-x":Je,"transform-origin-y":Je,"transform-origin-z":Je,"transition-delay":$e,"transition-duration":$e,"vertical-align":Qe,"flex-basis":Qe,"shape-margin":Qe,size:Qe,gap:Qe,grid:Qe,"grid-gap":Qe,"row-gap":Qe,"grid-row-gap":Qe,"grid-column-gap":Qe,"grid-template-rows":Qe,"grid-template-columns":Qe,"grid-auto-rows":Qe,"grid-auto-columns":Qe,"box-shadow-x":Qe,"box-shadow-y":Qe,"box-shadow-blur":Qe,"box-shadow-spread":Qe,"font-line-height":Qe,"text-shadow-x":Qe,"text-shadow-y":Qe,"text-shadow-blur":Qe});function nt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=nt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=nt(i,t[i],n);else for(var o in t)t[o]=nt(e+"-"+o,t[o],n);else if("number"===typeof t&&!1===isNaN(t)){var a=n[e]||tt[e];return!a||0===t&&a===Qe?t.toString():"function"===typeof a?a(t).toString():""+t+a}return t}var rt=function(e){void 0===e&&(e={});var t=et(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=nt(r,e[r],t);return e},onChangeValue:function(e,n){return nt(n,e,t)}}},it=n(3433),ot="",at="",st="",lt="",ut=s&&"ontouchstart"in document.documentElement;if(s){var ct={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},dt=document.createElement("p").style;for(var ft in ct)if(ft+"Transform"in dt){ot=ft,at=ct[ft];break}"Webkit"===ot&&"msHyphens"in dt&&(ot="ms",at=ct.ms,lt="edge"),"Webkit"===ot&&"-apple-trailing-word"in dt&&(st="apple")}var ht=ot,pt=at,vt=st,mt=lt,gt=ut;var yt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ht?"-webkit-"+e:pt+e)}},bt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ht?pt+"print-"+e:e)}},_t=/[-\s]+(.)?/g;function xt(e,t){return t?t.toUpperCase():""}function wt(e){return e.replace(_t,xt)}function St(e){return wt("-"+e)}var kt,Ct={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ht){var n="mask-image";if(wt(n)in t)return e;if(ht+St(n)in t)return pt+e}return e}},Et={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==vt||gt?e:pt+e)}},Tt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:pt+e)}},Pt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:pt+e)}},It={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ht||"ms"===ht&&"edge"!==mt?pt+e:e)}},Rt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ht||"ms"===ht||"apple"===vt?pt+e:e)}},Ot={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ht?"WebkitColumn"+St(e)in t&&pt+"column-"+e:"Moz"===ht&&("page"+St(e)in t&&"page-"+e))}},Lt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ht)return e;var n=e.replace("-inline","");return ht+St(n)in t&&pt+n}},Dt={supportedProperty:function(e,t){return wt(e)in t&&e}},Nt={supportedProperty:function(e,t){var n=St(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ht+n in t?pt+e:"Webkit"!==ht&&"Webkit"+n in t&&"-webkit-"+e}},At={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ht?""+pt+e:e)}},Mt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ht?pt+"scroll-chaining":e)}},Zt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},jt={supportedProperty:function(e,t){var n=Zt[e];return!!n&&(ht+St(n)in t&&pt+n)}},Ft={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},zt=Object.keys(Ft),Bt=function(e){return pt+e},Ht={supportedProperty:function(e,t,n){var r=n.multiple;if(zt.indexOf(e)>-1){var i=Ft[e];if(!Array.isArray(i))return ht+St(i)in t&&pt+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(ht+St(i[0])in t))return!1;return i.map(Bt)}return!1}},Wt=[yt,bt,Ct,Et,Tt,Pt,It,Rt,Ot,Lt,Dt,Nt,At,Mt,jt,Ht],Ut=Wt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Gt=Wt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,it.Z)(t.noPrefill)),e}),[]),qt={};if(s){kt=document.createElement("p");var Vt=window.getComputedStyle(document.documentElement,"");for(var Yt in Vt)isNaN(Yt)||(qt[Vt[Yt]]=Vt[Yt]);Gt.forEach((function(e){return delete qt[e]}))}function Kt(e,t){if(void 0===t&&(t={}),!kt)return e;if(null!=qt[e])return qt[e];"transition"!==e&&"transform"!==e||(t[e]=e in kt.style);for(var n=0;n<Ut.length&&(qt[e]=Ut[n](e,kt.style,t),!qt[e]);n++);try{kt.style[e]=""}catch(r){return!1}return qt[e]}var Xt,Qt={},$t={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Jt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function en(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Kt(t):", "+Kt(n);return r||(t||n)}function tn(e,t){var n=t;if(!Xt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Qt[r])return Qt[r];try{Xt.style[e]=n}catch(i){return Qt[r]=!1,!1}if($t[e])n=n.replace(Jt,en);else if(""===Xt.style[e]&&("-ms-flex"===(n=pt+n)&&(Xt.style[e]="-ms-flexbox"),Xt.style[e]=n,""===Xt.style[e]))return Qt[r]=!1,!1;return Xt.style[e]="",Qt[r]=n,Qt[r]}s&&(Xt=document.createElement("p"));var nn=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=Kt(n);o&&o!==n&&(i=!0);var a=!1,s=tn(o,m(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete t[n],t[o||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===ht?e:"@"+pt+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return tn(t,m(e))||e}}};var rn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};var on=_e({plugins:[Le(),Fe(),We(),Xe(),rt(),"undefined"===typeof window?null:nn(),rn()]}),an=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,o=e.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),l=0,u=function(){return l+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Pe.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Te.Z]&&""===a?"".concat(o,"-").concat(u()):o}return"".concat(s).concat(i).concat(u())}}(),sn={disableGeneration:!1,generateClassName:an,jss:on,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},ln=o.createContext(sn);var un=-1e9;function cn(){return un+=1}var dn=n(1534);function fn(e){var t="function"===typeof e;return{create:function(n,r){var o;try{o=t?e(n):e}catch(l){throw l}if(!r||!n.overrides||!n.overrides[r])return o;var a=n.overrides[r],s=(0,i.Z)({},o);return Object.keys(a).forEach((function(e){s[e]=(0,dn.Z)(s[e],a[e])})),s},options:{}}}var hn={};function pn(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=(0,Se.Z)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function vn(e,t){var n=e.state,r=e.theme,o=e.stylesOptions,a=e.stylesCreator,s=e.name;if(!o.disableGeneration){var l=Ce.get(o.sheetsManager,a,r);l||(l={refs:0,staticSheet:null,dynamicStyles:null},Ce.set(o.sheetsManager,a,r,l));var u=(0,i.Z)({},a.options,o,{theme:r,flip:"boolean"===typeof o.flip?o.flip:"rtl"===r.direction});u.generateId=u.serverGenerateClassName||u.generateClassName;var c=o.sheetsRegistry;if(0===l.refs){var d;o.sheetsCache&&(d=Ce.get(o.sheetsCache,a,r));var f=a.create(r,s);d||((d=o.jss.createStyleSheet(f,(0,i.Z)({link:!1},u))).attach(),o.sheetsCache&&Ce.set(o.sheetsCache,a,r,d)),c&&c.add(d),l.staticSheet=d,l.dynamicStyles=we(f)}if(l.dynamicStyles){var h=o.jss.createStyleSheet(l.dynamicStyles,(0,i.Z)({link:!0},u));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=(0,Se.Z)({baseClasses:l.staticSheet.classes,newClasses:h.classes}),c&&c.add(h)}else n.classes=l.staticSheet.classes;l.refs+=1}}function mn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function gn(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=Ce.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(Ce.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}function yn(e,t){var n,r=o.useRef([]),i=o.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),o.useEffect((function(){return function(){n&&n()}}),[i])}function bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,a=t.classNamePrefix,s=t.Component,l=t.defaultTheme,u=void 0===l?hn:l,c=(0,r.Z)(t,["name","classNamePrefix","Component","defaultTheme"]),d=fn(e),f=n||a||"makeStyles";d.options={index:cn(),name:n,meta:f,classNamePrefix:f};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,Ee.Z)()||u,r=(0,i.Z)({},o.useContext(ln),c),a=o.useRef(),l=o.useRef();yn((function(){var i={name:n,state:{},stylesCreator:d,stylesOptions:r,theme:t};return vn(i,e),l.current=!1,a.current=i,function(){gn(i)}}),[t,d]),o.useEffect((function(){l.current&&mn(a.current,e),l.current=!0}));var f=pn(a.current,e.classes,s);return f};return h}},5352:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7462);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=(0,r.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}},423:function(e,t,n){"use strict";var r=n(2791).createContext(null);t.Z=r},8444:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2791),i=n(423);function o(){return r.useContext(i.Z)}},1534:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7462),i=n(1002);function o(e){return e&&"object"===(0,i.Z)(e)&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.Z)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(o(t[r])&&r in e?i[r]=a(e[r],t[r],n):i[r]=t[r])})),i}},7483:function(e,t,n){"use strict";function r(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},3991:function(e){var t=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(s){t=function(){}}try{n=Set}catch(s){n=function(){}}try{r=Promise}catch(s){r=function(){}}function i(o,s,l,u,c){"object"===typeof s&&(l=s.depth,u=s.prototype,c=s.includeNonEnumerable,s=s.circular);var d=[],f=[],h="undefined"!=typeof Buffer;return"undefined"==typeof s&&(s=!0),"undefined"==typeof l&&(l=1/0),function o(l,p){if(null===l)return null;if(0===p)return l;var v,m;if("object"!=typeof l)return l;if(e(l,t))v=new t;else if(e(l,n))v=new n;else if(e(l,r))v=new r((function(e,t){l.then((function(t){e(o(t,p-1))}),(function(e){t(o(e,p-1))}))}));else if(i.__isArray(l))v=[];else if(i.__isRegExp(l))v=new RegExp(l.source,a(l)),l.lastIndex&&(v.lastIndex=l.lastIndex);else if(i.__isDate(l))v=new Date(l.getTime());else{if(h&&Buffer.isBuffer(l))return v=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(v),v;e(l,Error)?v=Object.create(l):"undefined"==typeof u?(m=Object.getPrototypeOf(l),v=Object.create(m)):(v=Object.create(u),m=u)}if(s){var g=d.indexOf(l);if(-1!=g)return f[g];d.push(l),f.push(v)}for(var y in e(l,t)&&l.forEach((function(e,t){var n=o(t,p-1),r=o(e,p-1);v.set(n,r)})),e(l,n)&&l.forEach((function(e){var t=o(e,p-1);v.add(t)})),l){var b;m&&(b=Object.getOwnPropertyDescriptor(m,y)),b&&null==b.set||(v[y]=o(l[y],p-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(l);for(y=0;y<_.length;y++){var x=_[y];(!(S=Object.getOwnPropertyDescriptor(l,x))||S.enumerable||c)&&(v[x]=o(l[x],p-1),S.enumerable||Object.defineProperty(v,x,{enumerable:!1}))}}if(c){var w=Object.getOwnPropertyNames(l);for(y=0;y<w.length;y++){var S,k=w[y];(S=Object.getOwnPropertyDescriptor(l,k))&&S.enumerable||(v[k]=o(l[k],p-1),Object.defineProperty(v,k,{enumerable:!1}))}}return v}(o,l)}function o(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=o,i.__isDate=function(e){return"object"===typeof e&&"[object Date]"===o(e)},i.__isArray=function(e){return"object"===typeof e&&"[object Array]"===o(e)},i.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===o(e)},i.__getRegExpFlags=a,i}();e.exports&&(e.exports=t)},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:function(){return i}})},7465:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,o,a;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,function(e){console&&console.warn&&console.warn(e)}(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=c.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"===typeof l)r(l,this,t);else{var u=l.length,c=p(l,u);for(n=0;n<u;++n)r(c[n],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=c(n);d&&(a=a.concat(d(n)));for(var s=l(t),v=l(n),m=0;m<a.length;++m){var g=a[m];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=f(n,g);try{u(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case m:case v:case l:return e;default:return t}}case i:return t}}}function w(e){return x(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||x(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===u},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===f},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===m},t.isMemo=function(e){return x(e)===v},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_||e.$$typeof===g)},t.typeOf=x},8309:function(e,t,n){"use strict";e.exports=n(746)},348:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new c(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function l(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function u(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function d(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function h(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new h(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}o(u,"_index",["name","keyPath","multiEntry","unique"]),a(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),l(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(c,"_cursor",["direction","key","primaryKey","value"]),a(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(c.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new c(e,t._request)}))}))})})),d.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},d.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(d,"_store",["name","keyPath","indexNames","autoIncrement"]),a(d,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),l(d,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(d,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new d(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),h.prototype.createObjectStore=function(){return new d(this._db.createObjectStore.apply(this._db,arguments))},o(h,"_db",["name","version","objectStoreNames"]),s(h,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[d,u].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[u,d].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},5102:function(e){function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,i){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"===typeof r&&(i=r,r={}),r=r||{},i=i||function(){},a.type=r.type||"text/javascript",a.charset=r.charset||"utf8",a.async=!("async"in r)||!!r.async,a.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(a,r.attrs),r.text&&(a.text=""+r.text),("onload"in a?t:n)(a,i),a.onload||t(a,i),o.appendChild(a)}},3076:function(e,t,n){(function(){(e.exports=n(2397)).version="5.1.2"}).call(this)},2397:function(e,t,n){var r=n(319).default,i=n(3038).default,o=n(8551).default,a=n(4575).default,s=n(3913).default,l=n(8585).default,u=n(1506).default,c=n(2205).default,d=n(9842).default;(function(){var t,f,h=[].splice,p=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},v=[].indexOf;f=n(3991),t=n(7465).EventEmitter,e.exports=function(){var e=function(e){"use strict";c(n,e);var t=d(n);function n(){var e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a(this,n),(e=t.call(this)).get=e.get.bind(u(e)),e.mget=e.mget.bind(u(e)),e.set=e.set.bind(u(e)),e.mset=e.mset.bind(u(e)),e.del=e.del.bind(u(e)),e.take=e.take.bind(u(e)),e.ttl=e.ttl.bind(u(e)),e.getTtl=e.getTtl.bind(u(e)),e.keys=e.keys.bind(u(e)),e.has=e.has.bind(u(e)),e.getStats=e.getStats.bind(u(e)),e.flushAll=e.flushAll.bind(u(e)),e.flushStats=e.flushStats.bind(u(e)),e.close=e.close.bind(u(e)),e._checkData=e._checkData.bind(u(e)),e._check=e._check.bind(u(e)),e._isInvalidKey=e._isInvalidKey.bind(u(e)),e._wrap=e._wrap.bind(u(e)),e._getValLength=e._getValLength.bind(u(e)),e._error=e._error.bind(u(e)),e._initErrors=e._initErrors.bind(u(e)),e.options=s,e._initErrors(),e.data={},e.options=Object.assign({forceString:!1,objectValueSize:80,promiseValueSize:80,arrayValueSize:40,stdTTL:0,checkperiod:600,useClones:!0,deleteOnExpire:!0,enableLegacyCallbacks:!1,maxKeys:-1},e.options),e.options.enableLegacyCallbacks&&(console.warn("WARNING! node-cache legacy callback support will drop in v6.x"),["get","mget","set","del","ttl","getTtl","keys","has"].forEach((function(t){var n;n=e[t],e[t]=function(){for(var e,t,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];if(s=o(s).slice(0),e=h.call(s,-1),"function"!==typeof(t=i(e,1)[0]))return n.apply(void 0,r(s).concat([t]));try{t(null,n.apply(void 0,r(s)))}catch(u){t(u)}}}))),e.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},e.validKeyTypes=["string","number"],e._checkData(),l(e)}return s(n,[{key:"get",value:function(e){var t;if(p(this,n),null!=(t=this._isInvalidKey(e)))throw t;return null!=this.data[e]&&this._check(e,this.data[e])?(this.stats.hits++,this._unwrap(this.data[e])):void this.stats.misses++}},{key:"mget",value:function(e){var t,r,i,o,a;if(p(this,n),!Array.isArray(e))throw this._error("EKEYSTYPE");for(a={},r=0,o=e.length;r<o;r++){if(i=e[r],null!=(t=this._isInvalidKey(i)))throw t;null!=this.data[i]&&this._check(i,this.data[i])?(this.stats.hits++,a[i]=this._unwrap(this.data[i])):this.stats.misses++}return a}},{key:"set",value:function(e,t,r){var i,o;if(p(this,n),this.options.maxKeys>-1&&this.stats.keys>=this.options.maxKeys)throw this._error("ECACHEFULL");if(this.options.forceString,null==r&&(r=this.options.stdTTL),null!=(i=this._isInvalidKey(e)))throw i;return o=!1,this.data[e]&&(o=!0,this.stats.vsize-=this._getValLength(this._unwrap(this.data[e],!1))),this.data[e]=this._wrap(t,r),this.stats.vsize+=this._getValLength(t),o||(this.stats.ksize+=this._getKeyLength(e),this.stats.keys++),this.emit("set",e,t),!0}},{key:"mset",value:function(e){var t,r,i,o,a,s,l,u;if(p(this,n),this.options.maxKeys>-1&&this.stats.keys+e.length>=this.options.maxKeys)throw this._error("ECACHEFULL");for(r=0,a=e.length;r<a;r++){var c=e[r];if(o=c.key,u=c.val,(l=c.ttl)&&"number"!==typeof l)throw this._error("ETTLTYPE");if(null!=(t=this._isInvalidKey(o)))throw t}for(i=0,s=e.length;i<s;i++){var d=e[i];o=d.key,u=d.val,l=d.ttl,this.set(o,u,l)}return!0}},{key:"del",value:function(e){var t,r,i,o,a,s;for(p(this,n),Array.isArray(e)||(e=[e]),t=0,i=0,a=e.length;i<a;i++){if(o=e[i],null!=(r=this._isInvalidKey(o)))throw r;null!=this.data[o]&&(this.stats.vsize-=this._getValLength(this._unwrap(this.data[o],!1)),this.stats.ksize-=this._getKeyLength(o),this.stats.keys--,t++,s=this.data[o],delete this.data[o],this.emit("del",o,s.v))}return t}},{key:"take",value:function(e){var t;return p(this,n),null!=(t=this.get(e))&&this.del(e),t}},{key:"ttl",value:function(e,t){var r;if(p(this,n),t||(t=this.options.stdTTL),!e)return!1;if(null!=(r=this._isInvalidKey(e)))throw r;return!(null==this.data[e]||!this._check(e,this.data[e]))&&(t>=0?this.data[e]=this._wrap(this.data[e].v,t,!1):this.del(e),!0)}},{key:"getTtl",value:function(e){var t;if(p(this,n),e){if(null!=(t=this._isInvalidKey(e)))throw t;return null!=this.data[e]&&this._check(e,this.data[e])?this.data[e].t:void 0}}},{key:"keys",value:function(){return p(this,n),Object.keys(this.data)}},{key:"has",value:function(e){return p(this,n),null!=this.data[e]&&this._check(e,this.data[e])}},{key:"getStats",value:function(){return p(this,n),this.stats}},{key:"flushAll",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];p(this,n),this.data={},this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this._killCheckPeriod(),this._checkData(e),this.emit("flush")}},{key:"flushStats",value:function(){p(this,n),this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this.emit("flush_stats")}},{key:"close",value:function(){p(this,n),this._killCheckPeriod()}},{key:"_checkData",value:function(){var e,t,r,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];for(e in p(this,n),t=this.data)r=t[e],this._check(e,r);i&&this.options.checkperiod>0&&(this.checkTimeout=setTimeout(this._checkData,1e3*this.options.checkperiod,i),null!=this.checkTimeout&&null!=this.checkTimeout.unref&&this.checkTimeout.unref())}},{key:"_killCheckPeriod",value:function(){if(null!=this.checkTimeout)return clearTimeout(this.checkTimeout)}},{key:"_check",value:function(e,t){var r;return p(this,n),r=!0,0!==t.t&&t.t<Date.now()&&(this.options.deleteOnExpire&&(r=!1,this.del(e)),this.emit("expired",e,this._unwrap(t))),r}},{key:"_isInvalidKey",value:function(e){var t;if(p(this,n),t=typeof e,v.call(this.validKeyTypes,t)<0)return this._error("EKEYTYPE",{type:typeof e})}},{key:"_wrap",value:function(e,t){var r,i,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return p(this,n),this.options.useClones||(o=!1),r=Date.now(),0,i=1e3,{t:0===t?0:t?r+t*i:0===this.options.stdTTL?this.options.stdTTL:r+this.options.stdTTL*i,v:o?f(e):e}}},{key:"_unwrap",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.options.useClones||(t=!1),null!=e.v?t?f(e.v):e.v:null}},{key:"_getKeyLength",value:function(e){return e.toString().length}},{key:"_getValLength",value:function(e){return p(this,n),"string"===typeof e?e.length:this.options.forceString?JSON.stringify(e).length:Array.isArray(e)?this.options.arrayValueSize*e.length:"number"===typeof e?8:"function"===typeof(null!=e?e.then:void 0)?this.options.promiseValueSize:("undefined"!==typeof Buffer&&null!==Buffer?Buffer.isBuffer(e):void 0)?e.length:null!=e&&"object"===typeof e?this.options.objectValueSize*Object.keys(e).length:"boolean"===typeof e?8:0}},{key:"_error",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p(this,n),(t=new Error).name=e,t.errorcode=e,t.message=null!=this.ERRORS[e]?this.ERRORS[e](r):"-",t.data=r,t}},{key:"_initErrors",value:function(){var e,t,r;for(t in p(this,n),this.ERRORS={},r=this._ERRORS)e=r[t],this.ERRORS[t]=this.createErrorMessage(e)}},{key:"createErrorMessage",value:function(e){return function(t){return e.replace("__key",t.type)}}}]),n}(t);return e.prototype._ERRORS={ENOTFOUND:"Key `__key` not found",ECACHEFULL:"Cache max keys amount exceeded",EKEYTYPE:"The key argument has to be of type `string` or `number`. Found: `__key`",EKEYSTYPE:"The keys argument has to be an array.",ETTLTYPE:"The ttl argument has to be a number."},e}.call(this)}).call(this)},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,l=i(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(l[c]=a[c]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(l[s[d]]=a[s[d]])}}return l}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),o=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(v,e)||!h.call(p,e)&&(f.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,S=60106,k=60107,C=60108,E=60114,T=60109,P=60110,I=60112,R=60113,O=60120,L=60115,D=60116,N=60121,A=60128,M=60129,Z=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;w=F("react.element"),S=F("react.portal"),k=F("react.fragment"),C=F("react.strict_mode"),E=F("react.profiler"),T=F("react.provider"),P=F("react.context"),I=F("react.forward_ref"),R=F("react.suspense"),O=F("react.suspense_list"),L=F("react.memo"),D=F("react.lazy"),N=F("react.block"),F("react.scope"),A=F("react.opaque.id"),M=F("react.debug_trace_mode"),Z=F("react.offscreen"),j=F("react.legacy_hidden")}var z,B="function"===typeof Symbol&&Symbol.iterator;function H(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function W(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var U=!1;function G(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function q(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 22:return e=G(e.type._render,!1);case 1:return e=G(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case E:return"Profiler";case C:return"StrictMode";case R:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case L:return V(e.type);case N:return V(e._render);case D:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ue(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function xe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=xe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Pe=null,Ie=null;function Re(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Te(e.stateNode,e.type,t))}}function Oe(e){Pe?Ie?Ie.push(e):Ie=[e]:Pe=e}function Le(){if(Pe){var e=Pe,t=Ie;if(Ie=Pe=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function De(e,t){return e(t)}function Ne(e,t,n,r,i){return e(t,n,r,i)}function Ae(){}var Me=De,Ze=!1,je=!1;function Fe(){null===Pe&&null===Ie||(Ae(),Le())}function ze(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Be=!1;if(d)try{var He={};Object.defineProperty(He,"passive",{get:function(){Be=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch(me){Be=!1}function We(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ue=!1,Ge=null,qe=!1,Ve=null,Ye={onError:function(e){Ue=!0,Ge=e}};function Ke(e,t,n,r,i,o,a,s,l){Ue=!1,Ge=null,We.apply(Ye,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Xe(e)!==e)throw Error(a(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $e(i),e;if(o===r)return $e(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,lt=null,ut=null,ct=new Map,dt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function _t(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==lt&&yt(lt)&&(lt=null),null!==ut&&yt(ut)&&(ut=null),ct.forEach(bt),dt.forEach(bt)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_t)))}function wt(e){function t(t){return xt(t,e)}if(0<at.length){xt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&xt(st,e),null!==lt&&xt(lt,e),null!==ut&&xt(ut,e),ct.forEach(t),dt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)gt(n),null===n.blockedOn&&ft.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Ct={},Et={};function Tt(e){if(Ct[e])return Ct[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return Ct[e]=n[t];return e}d&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var Pt=Tt("animationend"),It=Tt("animationiteration"),Rt=Tt("animationstart"),Ot=Tt("transitionend"),Lt=new Map,Dt=new Map,Nt=["abort","abort",Pt,"animationEnd",It,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function At(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Lt.set(r,i),u(i,[r])}}(0,o.unstable_now)();var Mt=8;function Zt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Mt=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=Zt(l),i=Mt):0!==(s&=o)&&(r=Zt(s),i=Mt)}else 0!==(o=n&~a)?(r=Zt(o),i=Mt):0!==s&&(r=Zt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ut(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Zt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ut(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function zt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?zt(10,t):e;case 10:return 0===(e=Bt(192&~t))?zt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Bt(e){return e&-e}function Ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ut(t)]=n}var Ut=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Gt(e)/qt|0)|0},Gt=Math.log,qt=Math.LN2;var Vt=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,Kt=!0;function Xt(e,t,n,r){Ze||Ae();var i=$t,o=Ze;Ze=!0;try{Ne(i,e,t,n,r)}finally{(Ze=o)||Fe()}}function Qt(e,t,n,r){Yt(Vt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Kt)if((i=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&vt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return lt=mt(lt,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,dt.set(o,mt(dt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;vt(e,r)}Ar(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Ee(r);if(null!==(i=ni(i))){var o=Xe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Qe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ar(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function ln(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var un,cn,dn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=ln(fn),pn=i({},fn,{view:0,detail:0}),vn=ln(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(un=e.screenX-dn.screenX,cn=e.screenY-dn.screenY):cn=un=0,dn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=ln(mn),yn=ln(i({},mn,{dataTransfer:0})),bn=ln(i({},pn,{relatedTarget:0})),_n=ln(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=ln(xn),Sn=ln(i({},fn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Pn(){return Tn}var In=i({},pn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rn=ln(In),On=ln(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=ln(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn})),Dn=ln(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=ln(Nn),Mn=[9,13,27,32],Zn=d&&"CompositionEvent"in window,jn=null;d&&"documentMode"in document&&(jn=document.documentMode);var Fn=d&&"TextEvent"in window&&!jn,zn=d&&(!Zn||jn&&8<jn&&11>=jn),Bn=String.fromCharCode(32),Hn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Yn(e,t,n,r){Oe(r),0<(t=Zr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Xn=null;function Qn(e){Ir(e,0)}function $n(e){if(Q(ii(e)))return e}function Jn(e,t){if("change"===e)return t}var er=!1;if(d){var tr;if(d){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Kn&&(Kn.detachEvent("onpropertychange",or),Xn=Kn=null)}function or(e){if("value"===e.propertyName&&$n(Xn)){var t=[];if(Yn(t,Xn,e,Ee(e)),e=Qn,Ze)e(t);else{Ze=!0;try{De(e,t)}finally{Ze=!1,Fe()}}}}function ar(e,t,n){"focusin"===e?(ir(),Xn=n,(Kn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Xn)}function lr(e,t){if("click"===e)return $n(t)}function ur(e,t){if("input"===e||"change"===e)return $n(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},dr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!dr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=d&&"documentMode"in document&&11>=document.documentMode,br=null,_r=null,xr=null,wr=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==br||br!==$(r)||("selectionStart"in(r=br)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&fr(xr,r)||(xr=r,0<(r=Zr(_r,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}At("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),At("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),At(Nt,2);for(var kr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cr=0;Cr<kr.length;Cr++)Dt.set(kr[Cr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Pr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(Ke.apply(this,arguments),Ue){if(!Ue)throw Error(a(198));var c=Ge;Ue=!1,Ge=null,qe||(qe=!0,Ve=c)}}(r,t,void 0,e),e.currentTarget=null}function Ir(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Pr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Pr(i,s,u),o=l}}}if(qe)throw e=Ve,qe=!1,Ve=null,e}function Rr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Nr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){e[Or]||(e[Or]=!0,s.forEach((function(t){Tr.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Nr(o,e,i,t),a.add(s))}function Nr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Qt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ar(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Me(e,t,n)}finally{je=!1,Fe()}}((function(){var r=o,i=Ee(n),a=[];e:{var s=Lt.get(e);if(void 0!==s){var l=hn,u=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":l=Rn;break;case"focusin":u="focus",l=bn;break;case"focusout":u="blur",l=bn;break;case"beforeblur":case"afterblur":l=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ln;break;case Pt:case It:case Rt:l=_n;break;case Ot:l=Dn;break;case"scroll":l=vn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=ze(p,f))&&c.push(Mr(p,v,h)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!ni(u)&&!u[ei])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ni(u):null)&&(u!==(d=Xe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=gn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=On,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:ii(l),h=null==u?s:ii(u),(s=new c(v,p+"leave",l,n,i)).target=d,s.relatedTarget=h,v=null,ni(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,v=c),d=v,l&&u)e:{for(f=u,p=0,h=c=l;h;h=jr(h))p++;for(h=0,v=f;v;v=jr(v))h++;for(;0<p-h;)c=jr(c),p--;for(;0<h-p;)f=jr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=jr(c),f=jr(f)}c=null}else c=null;null!==l&&Fr(a,s,l,c,!1),null!==u&&null!==d&&Fr(a,d,u,c,!0)}if("select"===(l=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Jn;else if(Vn(s))if(er)m=ur;else{m=sr;var g=ar}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=lr);switch(m&&(m=m(e,r))?Yn(a,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Vn(g)||"true"===g.contentEditable)&&(br=g,_r=r,xr=null);break;case"focusout":xr=_r=br=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Sr(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Sr(a,n,i)}var y;if(Zn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gn?Wn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Gn=!0)),0<(g=Zr(r,b)).length&&(b=new Sn(b,e,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Hn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Zn&&Wn(e,t)?(e=rn(),nn=tn=en=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Zr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Ir(a,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=ze(e,n))&&r.unshift(Mr(e,o,i)),null!=(o=ze(e,t))&&r.push(Mr(e,o,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=ze(n,o))&&a.unshift(Mr(n,l,s)):i||null!=(l=ze(n,o))&&a.push(Mr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function zr(){}var Br=null,Hr=null;function Wr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ur(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Gr="function"===typeof setTimeout?setTimeout:void 0,qr="function"===typeof clearTimeout?clearTimeout:void 0;function Vr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Qr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Qr,Jr="__reactProps$"+Qr,ei="__reactContainer$"+Qr,ti="__reactEvents$"+Qr;function ni(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[$r])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[$r]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Jr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],li=-1;function ui(e){return{current:e}}function ci(e){0>li||(e.current=si[li],si[li]=null,li--)}function di(e,t){li++,si[li]=e.current,e.current=t}var fi={},hi=ui(fi),pi=ui(!1),vi=fi;function mi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ci(pi),ci(hi)}function bi(e,t,n){if(hi.current!==fi)throw Error(a(168));di(hi,t),di(pi,n)}function _i(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,V(t)||"Unknown",o));return i({},n,r)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,vi=hi.current,di(hi,e),di(pi,pi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=_i(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,ci(pi),ci(hi),di(hi,e)):ci(pi),di(pi,n)}var Si=null,ki=null,Ci=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Pi=o.unstable_shouldYield,Ii=o.unstable_requestPaint,Ri=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Li=o.unstable_ImmediatePriority,Di=o.unstable_UserBlockingPriority,Ni=o.unstable_NormalPriority,Ai=o.unstable_LowPriority,Mi=o.unstable_IdlePriority,Zi={},ji=void 0!==Ii?Ii:function(){},Fi=null,zi=null,Bi=!1,Hi=Ri(),Wi=1e4>Hi?Ri:function(){return Ri()-Hi};function Ui(){switch(Oi()){case Li:return 99;case Di:return 98;case Ni:return 97;case Ai:return 96;case Mi:return 95;default:throw Error(a(332))}}function Gi(e){switch(e){case 99:return Li;case 98:return Di;case 97:return Ni;case 96:return Ai;case 95:return Mi;default:throw Error(a(332))}}function qi(e,t){return e=Gi(e),Ci(e,t)}function Vi(e,t,n){return e=Gi(e),Ei(e,t,n)}function Yi(){if(null!==zi){var e=zi;zi=null,Ti(e)}Ki()}function Ki(){if(!Bi&&null!==Fi){Bi=!0;var e=0;try{var t=Fi;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ei(Li,Yi),n}finally{Bi=!1}}}var Xi=x.ReactCurrentBatchConfig;function Qi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ui(null),Ji=null,eo=null,to=null;function no(){to=eo=Ji=null}function ro(e){var t=$i.current;ci($i),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Ji=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Za=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Ji)throw Error(a(308));eo=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==s&&(null===f?d.firstBaseUpdate=c:f.next=c,d.lastBaseUpdate=u)}}if(null!==a){for(f=o.baseState,s=0,d=c=u=null;;){l=a.lane;var h=a.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(l=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,l);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=v.payload)?p.call(h,f,l):p)||void 0===l)break e;f=i({},f,l);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else h={eventTime:h,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(c=d=h,u=f):d=d.next=h,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===d&&(u=f),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=d,Bs|=s,e.lanes=s,e.memoizedState=f}}function vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var mo=(new r.Component).refs;function go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fl(),i=hl(e),o=co(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fl(),i=hl(e),o=co(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fl(),r=hl(e),i=co(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),pl(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function _o(e,t,n){var r=!1,i=fi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=gi(t)?vi:hi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):fi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function xo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=gi(t)?vi:hi.current,i.context=mi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Co(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Eo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ql(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Xl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ko(e,t,n),r.return=e,r):((r=Vl(n.type,n.key,n.props,null,e.mode,r)).ref=ko(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ql(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Yl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Vl(t.type,t.key,t.props,null,e.mode,n)).ref=ko(e,null,t),n.return=e,n;case S:return(t=Ql(t,e.mode,n)).return=e,t}if(So(t)||H(t))return(t=Yl(t,e.mode,n,null)).return=e,t;Co(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===k?d(e,t,n.props.children,r,i):u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null}if(So(n)||H(n))return null!==i?null:d(e,t,n,r,null);Co(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===k?d(t,e,r.props.children,i,r.key):u(t,e,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||H(r))return d(t,e=e.get(n)||null,r,i,null);Co(t,r)}return null}function v(i,a,s,l){for(var u=null,c=null,d=a,v=a=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var g=h(i,d,s[v],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,v),null===c?u=g:c.sibling=g,c=g,d=m}if(v===s.length)return n(i,d),u;if(null===d){for(;v<s.length;v++)null!==(d=f(i,s[v],l))&&(a=o(d,a,v),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(i,d);v<s.length;v++)null!==(m=p(d,i,v,s[v],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),u}function m(i,s,l,u){var c=H(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,v=s,m=s=0,g=null,y=l.next();null!==v&&!y.done;m++,y=l.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(i,v,y.value,u);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===d?c=b:d.sibling=b,d=b,v=g}if(y.done)return n(i,v),c;if(null===v){for(;!y.done;m++,y=l.next())null!==(y=f(i,y.value,u))&&(s=o(y,s,m),null===d?c=y:d.sibling=y,d=y);return c}for(v=r(i,v);!y.done;m++,y=l.next())null!==(y=p(v,i,m,y.value,u))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===d?c=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var u="object"===typeof o&&null!==o&&o.type===k&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case w:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(o.type===k){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}}else if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=ko(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===k?((r=Yl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Vl(o.type,o.key,o.props,null,e.mode,l)).ref=ko(e,r,o),l.return=e,e=l)}return s(e);case S:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ql(o,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Xl(o,e.mode,l)).return=e,e=r),s(e);if(So(o))return v(e,r,o,l);if(H(o))return m(e,r,o,l);if(c&&Co(e,o),"undefined"===typeof o&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,V(e.type)||"Component"))}return n(e,r)}}var To=Eo(!0),Po=Eo(!1),Io={},Ro=ui(Io),Oo=ui(Io),Lo=ui(Io);function Do(e){if(e===Io)throw Error(a(174));return e}function No(e,t){switch(di(Lo,t),di(Oo,e),di(Ro,Io),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Ro),di(Ro,t)}function Ao(){ci(Ro),ci(Oo),ci(Lo)}function Mo(e){Do(Lo.current);var t=Do(Ro.current),n=pe(t,e.type);t!==n&&(di(Oo,e),di(Ro,n))}function Zo(e){Oo.current===e&&(ci(Ro),ci(Oo))}var jo=ui(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zo=null,Bo=null,Ho=!1;function Wo(e,t){var n=Ul(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Uo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Go(e){if(Ho){var t=Bo;if(t){var n=t;if(!Uo(e,t)){if(!(t=Yr(n.nextSibling))||!Uo(e,t))return e.flags=-1025&e.flags|2,Ho=!1,void(zo=e);Wo(zo,n)}zo=e,Bo=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Ho=!1,zo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;zo=e}function Vo(e){if(e!==zo)return!1;if(!Ho)return qo(e),Ho=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ur(t,e.memoizedProps))for(t=Bo;t;)Wo(e,t),t=Yr(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Bo=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Bo=null}}else Bo=zo?Yr(e.stateNode.nextSibling):null;return!0}function Yo(){Bo=zo=null,Ho=!1}var Ko=[];function Xo(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var Qo=x.ReactCurrentDispatcher,$o=x.ReactCurrentBatchConfig,Jo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Jo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qo.current=null===e||null===e.memoizedState?Da:Na,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Qo.current=Aa,e=n(r,i)}while(ia)}if(Qo.current=La,t=null!==ta&&null!==ta.next,Jo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function la(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ua(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function ca(e,t){return"function"===typeof t?t(e):t}function da(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var c=u.lane;if((Jo&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=d,o=r):l=l.next=d,ea.lanes|=c,Bs|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,cr(r,t.memoizedState)||(Za=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fa(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);cr(o,t.memoizedState)||(Za=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Ko.push(t))),e)return n(t._source);throw Ko.push(t),Error(a(350))}function pa(e,t,n,r){var i=Ds;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),l=Qo.current,u=l.useState((function(){return ha(i,t,n)})),c=u[1],d=u[0];u=na;var f=e.memoizedState,h=f.refs,p=h.getSnapshot,v=f.source;f=f.subscribe;var m=ea;return e.memoizedState={refs:h,source:t,subscribe:r},l.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var e=o(t._source);if(!cr(s,e)){e=n(t._source),cr(d,e)||(c(e),e=hl(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-Ut(a),u=1<<l;r[l]|=e,a&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hl(m);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),cr(p,n)&&cr(v,t)&&cr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:d}).dispatch=c=Oa.bind(null,ea,e),u.queue=e,u.baseQueue=null,d=ha(i,t,n),u.memoizedState=u.baseState=d),d}function va(e,t,n){return pa(ua(),e,t,n)}function ma(e){var t=la();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Oa.bind(null,ea,e),[t.memoizedState,e]}function ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ya(e){return e={current:e},la().memoizedState=e}function ba(){return ua().memoizedState}function _a(e,t,n,r){var i=la();ea.flags|=e,i.memoizedState=ga(1|t,n,void 0,void 0===r?null:r)}function xa(e,t,n,r){var i=ua();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ga(t,n,o,r)}ea.flags|=e,i.memoizedState=ga(1|t,n,o,r)}function wa(e,t){return _a(516,4,e,t)}function Sa(e,t){return xa(516,4,e,t)}function ka(e,t){return xa(4,2,e,t)}function Ca(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ea(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xa(4,2,Ca.bind(null,t,e),n)}function Ta(){}function Pa(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ia(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ra(e,t){var n=Ui();qi(98>n?98:n,(function(){e(!0)})),qi(97<n?97:n,(function(){var n=$o.transition;$o.transition=1;try{e(!1),t()}finally{$o.transition=n}}))}function Oa(e,t,n){var r=fl(),i=hl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,cr(l,s))return}catch(u){}pl(e,i,r)}}var La={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:function(e,t){return la().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:wa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_a(4,2,Ca.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _a(4,2,e,t)},useMemo:function(e,t){var n=la();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=la();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,ea,e),[r.memoizedState,e]},useRef:ya,useState:ma,useDebugValue:Ta,useDeferredValue:function(e){var t=ma(e),n=t[0],r=t[1];return wa((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=ma(!1),t=e[0];return ya(e=Ra.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=la();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Ho){var e=!1,t=function(e){return{$$typeof:A,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(a(355))})),n=ma(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ga(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return ma(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Na={readContext:ao,useCallback:Pa,useContext:ao,useEffect:Sa,useImperativeHandle:Ea,useLayoutEffect:ka,useMemo:Ia,useReducer:da,useRef:ba,useState:function(){return da(ca)},useDebugValue:Ta,useDeferredValue:function(e){var t=da(ca),n=t[0],r=t[1];return Sa((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=da(ca)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return da(ca)[0]},unstable_isNewReconciler:!1},Aa={readContext:ao,useCallback:Pa,useContext:ao,useEffect:Sa,useImperativeHandle:Ea,useLayoutEffect:ka,useMemo:Ia,useReducer:fa,useRef:ba,useState:function(){return fa(ca)},useDebugValue:Ta,useDeferredValue:function(e){var t=fa(ca),n=t[0],r=t[1];return Sa((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=fa(ca)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},Ma=x.ReactCurrentOwner,Za=!1;function ja(e,t,n,r){t.child=null===e?Po(t,null,n,r):To(t,e.child,n,r)}function Fa(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||Za?(t.flags|=1,ja(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function za(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Gl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ba(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=ql(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ba(e,t,n,r,i,o){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Za=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Za=!0)}return Ua(e,t,n,r,o)}function Ha(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},wl(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wl(t,e),null;t.memoizedState={baseLanes:0},wl(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,wl(t,r);return ja(e,t,i,n),t.child}function Wa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ua(e,t,n,r,i){var o=gi(n)?vi:hi.current;return o=mi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||Za?(t.flags|=1,ja(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ga(e,t,n,r,i){if(gi(n)){var o=!0;xi(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),_o(t,n,r),wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=ao(u):u=mi(t,u=gi(n)?vi:hi.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&xo(t,a,r,u),so=!1;var f=t.memoizedState;a.state=f,po(t,r,a,i),l=t.memoizedState,s!==r||f!==l||pi.current||so?("function"===typeof c&&(go(t,n,c,r),l=t.memoizedState),(s=so||bo(t,n,s,r,f,l,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,uo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Qi(t.type,s),a.props=u,d=t.pendingProps,f=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ao(l):l=mi(t,l=gi(n)?vi:hi.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==l)&&xo(t,a,r,l),so=!1,f=t.memoizedState,a.state=f,po(t,r,a,i);var p=t.memoizedState;s!==d||f!==p||pi.current||so?("function"===typeof h&&(go(t,n,h,r),p=t.memoizedState),(u=so||bo(t,n,u,r,f,p,l))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return qa(e,t,n,r,o,i)}function qa(e,t,n,r,i,o){Wa(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&wi(t,n,!1),os(e,t,o);r=t.stateNode,Ma.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=To(t,e.child,null,o),t.child=To(t,null,s,o)):ja(e,t,s,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Va(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),No(e,t.containerInfo)}var Ya,Ka,Xa,Qa={dehydrated:null,retryLane:0};function $a(e,t,n){var r,i=t.pendingProps,o=jo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),di(jo,1&o),null===e?(void 0!==i.fallback&&Go(t),e=i.children,o=i.fallback,a?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,e):"number"===typeof i.unstable_expectedLoadTime?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,t.lanes=33554432,e):((n=Kl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Qa,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Ja(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Kl(t,i,0,null),n=Yl(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=ql(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=ql(a,s),null!==e?r=ql(e,r):(r=Yl(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ja(e,t,r.children,n),0!==(2&(r=jo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(di(jo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=ql(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ql(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Ho)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Ao(),ci(pi),ci(hi),Xo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Vo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Zo(t);var o=Do(Lo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ka(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Do(Ro.current),Vo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Jr]=s,n){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Rr(Er[e],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":ee(r,s),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Rr("invalid",r);break;case"textarea":le(r,s),Rr("invalid",r)}for(var u in ke(n,s),e=null,s)s.hasOwnProperty(u)&&(o=s[u],"children"===u?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Rr("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),ce(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=zr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,e===de&&(e=he(n)),e===de?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[$r]=t,e[Jr]=r,Ya(e,t),t.stateNode=e,u=Ce(n,r),n){case"dialog":Rr("cancel",e),Rr("close",e),o=r;break;case"iframe":case"object":case"embed":Rr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Er.length;o++)Rr(Er[o],e);o=r;break;case"source":Rr("error",e),o=r;break;case"img":case"image":case"link":Rr("error",e),Rr("load",e),o=r;break;case"details":Rr("toggle",e),o=r;break;case"input":ee(e,r),o=J(e,r),Rr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Rr("invalid",e);break;case"textarea":le(e,r),o=se(e,r),Rr("invalid",e);break;default:o=r}ke(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?we(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&ye(e,d):"number"===typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Rr("scroll",e):null!=d&&_(e,s,d,u))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=zr)}Wr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Do(Lo.current),Do(Ro.current),Vo(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return ci(jo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Vo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&jo.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Ds||0===(134217727&Bs)&&0===(134217727&Hs)||yl(Ds,As))),(r||n)&&(t.flags|=4),null);case 4:return Ao(),null===e&&Lr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(ci(jo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(u=r.rendering))if(s)as(r,!1);else{if(0!==js||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Fo(e))){for(t.flags|=64,as(r,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return di(jo,1&jo.current|2),t.child}e=e.sibling}null!==r.tail&&Wi()>qs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fo(u))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Ho)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Wi()-r.renderingStartTime>qs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Wi(),n.sibling=null,t=jo.current,di(jo,s?1&t|2:1&t),n):null;case 23:case 24:return Sl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ls(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ao(),ci(pi),ci(hi),Xo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Zo(e),null;case 13:return ci(jo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(jo),null;case 4:return Ao(),null;case 10:return ro(e),null;case 23:case 24:return Sl(),null;default:return null}}function us(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function cs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ya=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ka=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Do(Ro.current);var a,s=null;switch(n){case"input":o=J(e,o),r=J(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=zr)}for(d in ke(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var u=o[d];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(u=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(null!=c||null!=u))if("style"===d)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Rr("scroll",e),s||u===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===A?c.toString():(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Xa=function(e,t,n,r){n!==r&&(t.flags|=4)};var ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Qs=r),cs(0,t)},n}function hs(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return cs(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$s?$s=new Set([this]):$s.add(this),cs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){zl(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Vr(t.stateNode.containerInfo))}throw Error(a(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Zl(n,e),Ml(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&vo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}vo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Wr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=xe("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(ki&&"function"===typeof ki.onCommitFiberUnmount)try{ki.onCommitFiberUnmount(Si,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Zl(t,n);else{r=t;try{i()}catch(o){zl(r,o)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){zl(t,o)}break;case 5:vs(t);break;case 4:Cs(e,t)}}function _s(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function xs(e){return 5===e.tag||3===e.tag||4===e.tag}function ws(e){e:{for(var t=e.return;null!==t;){if(xs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||xs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ss(e,n,t):ks(e,n,t)}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=zr));else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function ks(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function Cs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,u=l;;)if(bs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Es(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,i),t=Ce(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?we(n,l):"dangerouslySetInnerHTML"===s?ge(n,l):"children"===s?ye(n,l):_(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Gs=Wi(),ys(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Hl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ps(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Is=Math.ceil,Rs=x.ReactCurrentDispatcher,Os=x.ReactCurrentOwner,Ls=0,Ds=null,Ns=null,As=0,Ms=0,Zs=ui(0),js=0,Fs=null,zs=0,Bs=0,Hs=0,Ws=0,Us=null,Gs=0,qs=1/0;function Vs(){qs=Wi()+500}var Ys,Ks=null,Xs=!1,Qs=null,$s=null,Js=!1,el=null,tl=90,nl=[],rl=[],il=null,ol=0,al=null,sl=-1,ll=0,ul=0,cl=null,dl=!1;function fl(){return 0!==(48&Ls)?Wi():-1!==sl?sl:sl=Wi()}function hl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ui()?1:2;if(0===ll&&(ll=zs),0!==Xi.transition){0!==ul&&(ul=null!==Us?Us.pendingLanes:0),e=ll;var t=4186112&~ul;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ui(),0!==(4&Ls)&&98===e?e=zt(12,ll):e=zt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ll),e}function pl(e,t,n){if(50<ol)throw ol=0,al=null,Error(a(185));if(null===(e=vl(e,t)))return null;Wt(e,t,n),e===Ds&&(Hs|=t,4===js&&yl(e,As));var r=Ui();1===t?0!==(8&Ls)&&0===(48&Ls)?bl(e):(ml(e,n),0===Ls&&(Vs(),Yi())):(0===(4&Ls)||98!==r&&99!==r||(null===il?il=new Set([e]):il.add(e)),ml(e,n)),Us=e}function vl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ml(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Ut(s),u=1<<l,c=o[l];if(-1===c){if(0===(u&r)||0!==(u&i)){c=t,Zt(u);var d=Mt;o[l]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);s&=~u}if(r=jt(e,e===Ds?As:0),t=Mt,0===r)null!==n&&(n!==Zi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Zi&&Ti(n)}15===t?(n=bl.bind(null,e),null===Fi?(Fi=[n],zi=Ei(Li,Ki)):Fi.push(n),n=Zi):14===t?n=Vi(99,bl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Vi(n,gl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gl(e){if(sl=-1,ul=ll=0,0!==(48&Ls))throw Error(a(327));var t=e.callbackNode;if(Al()&&e.callbackNode!==t)return null;var n=jt(e,e===Ds?As:0);if(0===n)return null;var r=n,i=Ls;Ls|=16;var o=El();for(Ds===e&&As===r||(Vs(),kl(e,r));;)try{Il();break}catch(l){Cl(e,l)}if(no(),Rs.current=o,Ls=i,null!==Ns?r=0:(Ds=null,As=0,r=js),0!==(zs&Hs))kl(e,0);else if(0!==r){if(2===r&&(Ls|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(n=Ft(e))&&(r=Tl(e,n))),1===r)throw t=Fs,kl(e,0),yl(e,n),ml(e,Wi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ll(e);break;case 3:if(yl(e,n),(62914560&n)===n&&10<(r=Gs+500-Wi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gr(Ll.bind(null,e),r);break}Ll(e);break;case 4:if(yl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ut(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Wi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Is(n/1960))-n)){e.timeoutHandle=Gr(Ll.bind(null,e),n);break}Ll(e);break;default:throw Error(a(329))}}return ml(e,Wi()),e.callbackNode===t?gl.bind(null,e):null}function yl(e,t){for(t&=~Ws,t&=~Hs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function bl(e){if(0!==(48&Ls))throw Error(a(327));if(Al(),e===Ds&&0!==(e.expiredLanes&As)){var t=As,n=Tl(e,t);0!==(zs&Hs)&&(n=Tl(e,t=jt(e,t)))}else n=Tl(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Ls|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(t=Ft(e))&&(n=Tl(e,t))),1===n)throw n=Fs,kl(e,0),yl(e,t),ml(e,Wi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ll(e),ml(e,Wi()),null}function _l(e,t){var n=Ls;Ls|=1;try{return e(t)}finally{0===(Ls=n)&&(Vs(),Yi())}}function xl(e,t){var n=Ls;Ls&=-2,Ls|=8;try{return e(t)}finally{0===(Ls=n)&&(Vs(),Yi())}}function wl(e,t){di(Zs,Ms),Ms|=t,zs|=t}function Sl(){Ms=Zs.current,ci(Zs)}function kl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,qr(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Ao(),ci(pi),ci(hi),Xo();break;case 5:Zo(r);break;case 4:Ao();break;case 13:case 19:ci(jo);break;case 10:ro(r);break;case 23:case 24:Sl()}n=n.return}Ds=e,Ns=ql(e.current,null),As=Ms=zs=t,js=0,Fs=null,Ws=Hs=Bs=0}function Cl(e,t){for(;;){var n=Ns;try{if(no(),Qo.current=La,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Jo=0,na=ta=ea=null,ia=!1,Os.current=null,null===n||null===n.return){js=1,Fs=t,Ns=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=As,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&jo.current),f=a;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=f.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!d)}}if(h){var m=f.updateQueue;if(null===m){var g=new Set;g.add(u),f.updateQueue=g}else m.add(u);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=co(-1,1);y.tag=2,fo(s,y)}s.lanes|=1;break e}l=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new ds,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(s)){l.add(s);var _=Bl.bind(null,o,u,s);u.then(_,_)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);l=Error((V(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),l=us(l,s),f=a;do{switch(f.tag){case 3:o=l,f.flags|=4096,t&=-t,f.lanes|=t,ho(f,fs(0,o,t));break e;case 1:o=l;var x=f.type,w=f.stateNode;if(0===(64&f.flags)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===$s||!$s.has(w)))){f.flags|=4096,t&=-t,f.lanes|=t,ho(f,hs(f,o,t));break e}}f=f.return}while(null!==f)}Ol(n)}catch(S){t=S,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function El(){var e=Rs.current;return Rs.current=La,null===e?La:e}function Tl(e,t){var n=Ls;Ls|=16;var r=El();for(Ds===e&&As===t||kl(e,t);;)try{Pl();break}catch(i){Cl(e,i)}if(no(),Ls=n,Rs.current=r,null!==Ns)throw Error(a(261));return Ds=null,As=0,js}function Pl(){for(;null!==Ns;)Rl(Ns)}function Il(){for(;null!==Ns&&!Pi();)Rl(Ns)}function Rl(e){var t=Ys(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Ol(e):Ns=t,Os.current=null}function Ol(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ns=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ls(t)))return n.flags&=2047,void(Ns=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===js&&(js=5)}function Ll(e){var t=Ui();return qi(99,Dl.bind(null,e,t)),null}function Dl(e,t){do{Al()}while(null!==el);if(0!==(48&Ls))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var u=31-Ut(o),c=1<<u;i[u]=0,s[u]=-1,l[u]=-1,o&=~c}if(null!==il&&0===(24&r)&&il.has(e)&&il.delete(e),e===Ds&&(Ns=Ds=null,As=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ls,Ls|=32,Os.current=null,Br=Kt,gr(s=mr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(E){l=null;break e}var d=0,f=-1,h=-1,p=0,v=0,m=s,g=null;t:for(;;){for(var y;m!==l||0!==o&&3!==m.nodeType||(f=d+o),m!==u||0!==c&&3!==m.nodeType||(h=d+c),3===m.nodeType&&(d+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break t;if(g===l&&++p===o&&(f=d),g===u&&++v===c&&(h=d),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}l=-1===f||-1===h?null:{start:f,end:h}}else l=null;l=l||{start:0,end:0}}else l=null;Hr={focusedElem:s,selectionRange:l},Kt=!1,cl=null,dl=!1,Ks=r;do{try{Nl()}catch(E){if(null===Ks)throw Error(a(330));zl(Ks,E),Ks=Ks.nextEffect}}while(null!==Ks);cl=null,Ks=r;do{try{for(s=e;null!==Ks;){var b=Ks.flags;if(16&b&&ye(Ks.stateNode,""),128&b){var _=Ks.alternate;if(null!==_){var x=_.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:ws(Ks),Ks.flags&=-3;break;case 6:ws(Ks),Ks.flags&=-3,Es(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,Es(Ks.alternate,Ks);break;case 4:Es(Ks.alternate,Ks);break;case 8:Cs(s,l=Ks);var w=l.alternate;_s(l),null!==w&&_s(w)}Ks=Ks.nextEffect}}catch(E){if(null===Ks)throw Error(a(330));zl(Ks,E),Ks=Ks.nextEffect}}while(null!==Ks);if(x=Hr,_=mr(),b=x.focusedElem,s=x.selectionRange,_!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==s&&gr(b)&&(_=s.start,void 0===(x=s.end)&&(x=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(x,b.value.length)):(x=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(x=x.getSelection(),l=b.textContent.length,w=Math.min(s.start,l),s=void 0===s.end?w:Math.min(s.end,l),!x.extend&&w>s&&(l=s,s=w,w=l),l=pr(b,w),o=pr(b,s),l&&o&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((_=_.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),w>s?(x.addRange(_),x.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),x.addRange(_))))),_=[];for(x=b;x=x.parentNode;)1===x.nodeType&&_.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(x=_[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Kt=!!Br,Hr=Br=null,e.current=n,Ks=r;do{try{for(b=e;null!==Ks;){var S=Ks.flags;if(36&S&&gs(b,Ks.alternate,Ks),128&S){_=void 0;var k=Ks.ref;if(null!==k){var C=Ks.stateNode;Ks.tag,_=C,"function"===typeof k?k(_):k.current=_}}Ks=Ks.nextEffect}}catch(E){if(null===Ks)throw Error(a(330));zl(Ks,E),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,ji(),Ls=i}else e.current=n;if(Js)Js=!1,el=e,tl=t;else for(Ks=r;null!==Ks;)t=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((S=Ks).sibling=null,S.stateNode=null),Ks=t;if(0===(r=e.pendingLanes)&&($s=null),1===r?e===al?ol++:(ol=0,al=e):ol=0,n=n.stateNode,ki&&"function"===typeof ki.onCommitFiberRoot)try{ki.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(E){}if(ml(e,Wi()),Xs)throw Xs=!1,e=Qs,Qs=null,e;return 0!==(8&Ls)||Yi(),null}function Nl(){for(;null!==Ks;){var e=Ks.alternate;dl||null===cl||(0!==(8&Ks.flags)?et(Ks,cl)&&(dl=!0):13===Ks.tag&&Ps(e,Ks)&&et(Ks,cl)&&(dl=!0));var t=Ks.flags;0!==(256&t)&&ms(e,Ks),0===(512&t)||Js||(Js=!0,Vi(97,(function(){return Al(),null}))),Ks=Ks.nextEffect}}function Al(){if(90!==tl){var e=97<tl?97:tl;return tl=90,qi(e,jl)}return!1}function Ml(e,t){nl.push(t,e),Js||(Js=!0,Vi(97,(function(){return Al(),null})))}function Zl(e,t){rl.push(t,e),Js||(Js=!0,Vi(97,(function(){return Al(),null})))}function jl(){if(null===el)return!1;var e=el;if(el=null,0!==(48&Ls))throw Error(a(331));var t=Ls;Ls|=32;var n=rl;rl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===o)throw Error(a(330));zl(o,u)}}for(n=nl,nl=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(u){if(null===o)throw Error(a(330));zl(o,u)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ls=t,Yi(),!0}function Fl(e,t,n){fo(e,t=fs(0,t=us(n,t),1)),t=fl(),null!==(e=vl(e,1))&&(Wt(e,1,t),ml(e,t))}function zl(e,t){if(3===e.tag)Fl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r))){var i=hs(n,e=us(t,e),1);if(fo(n,i),i=fl(),null!==(n=vl(n,1)))Wt(n,1,i),ml(n,i);else if("function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Bl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fl(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(As&n)===n&&(4===js||3===js&&(62914560&As)===As&&500>Wi()-Gs?kl(e,0):Ws|=n),ml(e,t)}function Hl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ui()?1:2:(0===ll&&(ll=zs),0===(t=Bt(62914560&~ll))&&(t=4194304))),n=fl(),null!==(e=vl(e,t))&&(Wt(e,t,n),ml(e,n))}function Wl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ul(e,t,n,r){return new Wl(e,t,n,r)}function Gl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ql(e,t){var n=e.alternate;return null===n?((n=Ul(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Gl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Yl(n.children,i,o,t);case M:s=8,i|=16;break;case C:s=8,i|=1;break;case E:return(e=Ul(12,n,t,8|i)).elementType=E,e.type=E,e.lanes=o,e;case R:return(e=Ul(13,n,t,i)).type=R,e.elementType=R,e.lanes=o,e;case O:return(e=Ul(19,n,t,i)).elementType=O,e.lanes=o,e;case Z:return Kl(n,i,o,t);case j:return(e=Ul(24,n,t,i)).elementType=j,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case P:s=9;break e;case I:s=11;break e;case L:s=14;break e;case D:s=16,r=null;break e;case N:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ul(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Yl(e,t,n,r){return(e=Ul(7,e,r,t)).lanes=n,e}function Kl(e,t,n,r){return(e=Ul(23,e,r,t)).elementType=Z,e.lanes=n,e}function Xl(e,t,n){return(e=Ul(6,e,null,t)).lanes=n,e}function Ql(e,t,n){return(t=Ul(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $l(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ht(0),this.expirationTimes=Ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.mutableSourceEagerHydrationData=null}function Jl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function eu(e,t,n,r){var i=t.current,o=fl(),s=hl(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=_i(n,u,l);break e}}n=l}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fo(i,t),pl(i,s,o),s}function tu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ru(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function iu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $l(e,t,null!=n&&!0===n.hydrate),t=Ul(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,lo(t),e[ei]=n.current,Lr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ou(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function au(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tu(a);s.call(e)}}eu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new iu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=tu(a);l.call(e)}}xl((function(){eu(t,a,e,i)}))}return tu(a)}function su(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ou(t))throw Error(a(200));return Jl(e,t,null,n)}Ys=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Za=!0;else{if(0===(n&r)){switch(Za=!1,t.tag){case 3:Va(t),Yo();break;case 5:Mo(t);break;case 1:gi(t.type)&&xi(t);break;case 4:No(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;di($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$a(e,t,n):(di(jo,1&jo.current),null!==(t=os(e,t,n))?t.sibling:null);di(jo,1&jo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),di(jo,jo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ha(e,t,n)}return os(e,t,n)}Za=0!==(16384&e.flags)}else Za=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,hi.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;xi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,lo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&go(t,r,s,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,wo(t,r,e,n),t=qa(null,t,r,!0,o,n)}else t.tag=0,ja(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Gl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===L)return 14}return 2}(i),e=Qi(i,e),o){case 0:t=Ua(null,t,i,e,n);break e;case 1:t=Ga(null,t,i,e,n);break e;case 11:t=Fa(null,t,i,e,n);break e;case 14:t=za(null,t,i,Qi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ga(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 3:if(Va(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,uo(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Yo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Bo=Yr(t.stateNode.containerInfo.firstChild),zo=t,o=Ho=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Ko.push(o);for(n=Po(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ja(e,t,r,n),Yo();t=t.child}return t;case 5:return Mo(t),null===e&&Go(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Ur(r,i)?s=null:null!==o&&Ur(r,o)&&(t.flags|=16),Wa(e,t),ja(e,t,s,n),t.child;case 6:return null===e&&Go(t),null;case 13:return $a(e,t,n);case 4:return No(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=To(t,null,r,n):ja(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 7:return ja(e,t,t.pendingProps,n),t.child;case 8:case 12:return ja(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(di($i,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=cr(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===l.tag&&((c=co(-1,n&-n)).tag=2,fo(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),io(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}ja(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,ja(e,t,r,n),t.child;case 14:return o=Qi(i=t.type,t.pendingProps),za(e,t,i,o=Qi(i.type,o),r,n);case 15:return Ba(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,xi(t)):e=!1,oo(t,n),_o(t,r,i),wo(t,r,i,n),qa(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Ha(e,t,n)}throw Error(a(156,t.tag))},iu.prototype.render=function(e){eu(e,this._internalRoot,null,null)},iu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;eu(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pl(e,4,fl()),ru(e,4))},nt=function(e){13===e.tag&&(pl(e,67108864,fl()),ru(e,67108864))},rt=function(e){if(13===e.tag){var t=fl(),n=hl(e);pl(e,n,t),ru(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));Q(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},De=_l,Ne=function(e,t,n,r,i){var o=Ls;Ls|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(Ls=o)&&(Vs(),Yi())}},Ae=function(){0===(49&Ls)&&(function(){if(null!==il){var e=il;il=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ml(e,Wi())}))}Yi()}(),Al())},Me=function(e,t){var n=Ls;Ls|=2;try{return e(t)}finally{0===(Ls=n)&&(Vs(),Yi())}};var lu={Events:[ri,ii,oi,Oe,Le,Al,{current:!1}]},uu={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cu={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{Si=du.inject(cu),ki=du}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lu,t.createPortal=su,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ls;if(0!==(48&n))return e(t);Ls|=1;try{if(e)return qi(99,e.bind(null,t))}finally{Ls=n,Yi()}},t.hydrate=function(e,t,n){if(!ou(t))throw Error(a(200));return au(null,e,t,!0,n)},t.render=function(e,t,n){if(!ou(t))throw Error(a(200));return au(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ou(e))throw Error(a(40));return!!e._reactRootContainer&&(xl((function(){au(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=_l,t.unstable_createPortal=function(e,t){return su(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ou(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return au(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,l=60110,u=60112,c=60113,d=60120,f=60115,h=60116,p=60121,v=60122,m=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),l=b("react.context"),u=b("react.forward_ref"),c=b("react.suspense"),d=b("react.suspense_list"),f=b("react.memo"),h=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),g=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case c:case d:return e;default:switch(e=e&&e.$$typeof){case l:case u:case h:case f:case s:return e;default:return t}}case r:return t}}}},7441:function(e,t,n){"use strict";n(1372)},2746:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2791)),a=l(n(3046)),s=l(n(7332));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(){var e,n,r;u(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.container=o.createRef(),c(r,n)}return d(t,e),i(t,[{key:"componentDidMount",value:function(){this.typeset()}},{key:"componentDidUpdate",value:function(e){var t=e.inline!=this.props.inline;this.typeset(t)}},{key:"componentWillUnmount",value:function(){this.clear()}},{key:"clear",value:function(){var e=this.props.MathJax;if(this.script&&e){var t=e.Hub.getJaxFor(this.script);t&&t.Remove()}}},{key:"typeset",value:function(e){var t=this,n=this.props,r=n.MathJax,i=n.formula,o=n.onRender;if(r)if(e&&this.clear(),!e&&this.script)r.Hub.Queue((function(){var e=r.Hub.getJaxFor(t.script);if(e)e.Text(i,o);else{var n=t.setScriptText(i);(0,s.default)(r,n,o)}}));else{var a=this.setScriptText(i);(0,s.default)(r,a,o)}}},{key:"setScriptText",value:function(e){var t=this.props.inline;return this.script||(this.script=document.createElement("script"),this.script.type="math/tex; "+(t?"":"mode=display"),this.container.current.appendChild(this.script)),"text"in this.script?this.script.text=e:this.script.textContent=e,this.script}},{key:"render",value:function(){var e=this.props,t=(e.MathJax,e.formula,e.inline,e.onRender,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["MathJax","formula","inline","onRender"]));return this.props.inline?o.createElement("span",r({ref:this.container},t)):o.createElement("div",r({ref:this.container},t))}}]),t}(o.Component);f.defaultProps={inline:!1,onRender:function(){}};var h=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),i(t,[{key:"render",value:function(){var e=this;return o.createElement(a.default.Consumer,null,(function(t){var n=t.MathJax;return(0,t.registerNode)(),n?o.createElement(f,r({},e.props,{MathJax:n})):null}))}}]),t}(o.PureComponent);t.default=h},4584:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2791)),o=s(n(5102)),a=s(n(3046));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.hasNodes=!1,n.loaded=!1,n.registerNode=function(){n.hasNodes=!0},n.load=function(){var e=n.props.script;!n.loaded&&n.hasNodes&&(n.loaded=!0,e?(0,o.default)(e,n.onLoad):n.onLoad(null))},n.onLoad=function(e){var t=n.props.options;MathJax.Hub.Config(t),n.setState({MathJax:MathJax})},n.state={MathJax:null,registerNode:n.registerNode},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.load()}},{key:"componentDidUpdate",value:function(){this.load()}},{key:"render",value:function(){var e=this.props.children;return i.createElement(a.default.Provider,{value:this.state},e)}}]),t}(i.Component);l.defaultProps={script:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML",options:{tex2jax:{inlineMath:[]},showMathMenu:!1,showMathMenuMSIE:!1}},t.default=l},3046:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2791)).createContext({MathJax:null,registerNode:function(){}});t.default=r},2157:function(e,t,n){"use strict";var r=o(n(4584)),i=o(n(2746));function o(e){return e&&e.__esModule?e:{default:e}}var a={Provider:r.default,Node:i.default};t.Z=a},7332:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[],r=[],i=!1;t.default=function(e,t,o){n.push(t),r.push(o),i||(i=!0,setTimeout((function(){return function(e){e.Hub.Queue((function(){var t=e.Hub.elementScripts;e.Hub.elementScripts=function(e){return n};try{return e.Hub.Process(null,(function(){r.forEach((function(e){e()})),n=[],r=[],i=!1}))}catch(o){throw o}finally{e.Hub.elementScripts=t}}))}(e)}),0))}},3721:function(e,t,n){(e=n.nmd(e)).exports=function(t){var r={},i=n(1725),o=n(2791),a=n(5296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=60103,c=60106,d=60107,f=60108,h=60114,p=60109,v=60110,m=60112,g=60113,y=60120,b=60115,_=60116,x=60121,w=60129,S=60130,k=60131;if("function"===typeof Symbol&&Symbol.for){var C=Symbol.for;u=C("react.element"),c=C("react.portal"),d=C("react.fragment"),f=C("react.strict_mode"),h=C("react.profiler"),p=C("react.provider"),v=C("react.context"),m=C("react.forward_ref"),g=C("react.suspense"),y=C("react.suspense_list"),b=C("react.memo"),_=C("react.lazy"),x=C("react.block"),C("react.scope"),w=C("react.debug_trace_mode"),S=C("react.offscreen"),k=C("react.legacy_hidden")}var E="function"===typeof Symbol&&Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=E&&e[E]||e["@@iterator"])?e:null}function P(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case c:return"Portal";case h:return"Profiler";case f:return"StrictMode";case g:return"Suspense";case y:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case v:return(e.displayName||"Context")+".Consumer";case p:return(e._context.displayName||"Context")+".Provider";case m:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case b:return P(e.type);case x:return P(e._render);case _:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}function I(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function R(e){if(I(e)!==e)throw Error(s(188))}function O(e){var t=e.alternate;if(!t){if(null===(t=I(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return R(i),e;if(o===r)return R(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}function L(e){if(!(e=O(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function D(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var N,A=t.getPublicInstance,M=t.getRootHostContext,Z=t.getChildHostContext,j=t.prepareForCommit,F=t.resetAfterCommit,z=t.createInstance,B=t.appendInitialChild,H=t.finalizeInitialChildren,W=t.prepareUpdate,U=t.shouldSetTextContent,G=t.createTextInstance,q=t.scheduleTimeout,V=t.cancelTimeout,Y=t.noTimeout,K=t.isPrimaryRenderer,X=t.supportsMutation,Q=t.supportsPersistence,$=t.supportsHydration,J=t.getInstanceFromNode,ee=t.makeOpaqueHydratingObject,te=t.makeClientId,ne=t.beforeActiveInstanceBlur,re=t.afterActiveInstanceBlur,ie=t.preparePortalMount,oe=t.supportsTestSelectors,ae=t.findFiberRoot,se=t.getBoundingRect,le=t.getTextContent,ue=t.isHiddenSubtree,ce=t.matchAccessibilityRole,de=t.setFocusIfFocusable,fe=t.setupIntersectionObserver,he=t.appendChild,pe=t.appendChildToContainer,ve=t.commitTextUpdate,me=t.commitMount,ge=t.commitUpdate,ye=t.insertBefore,be=t.insertInContainerBefore,_e=t.removeChild,xe=t.removeChildFromContainer,we=t.resetTextContent,Se=t.hideInstance,ke=t.hideTextInstance,Ce=t.unhideInstance,Ee=t.unhideTextInstance,Te=t.clearContainer,Pe=t.cloneInstance,Ie=t.createContainerChildSet,Re=t.appendChildToContainerChildSet,Oe=t.finalizeContainerChildren,Le=t.replaceContainerChildren,De=t.cloneHiddenInstance,Ne=t.cloneHiddenTextInstance,Ae=t.canHydrateInstance,Me=t.canHydrateTextInstance,Ze=t.isSuspenseInstancePending,je=t.isSuspenseInstanceFallback,Fe=t.getNextHydratableSibling,ze=t.getFirstHydratableChild,Be=t.hydrateInstance,He=t.hydrateTextInstance,We=t.getNextHydratableInstanceAfterSuspenseInstance,Ue=t.commitHydratedContainer,Ge=t.commitHydratedSuspenseInstance;function qe(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var Ve=!1;function Ye(e,t){if(!e||Ve)return"";Ve=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{Ve=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qe(e):""}var Ke=[],Xe=-1;function Qe(e){return{current:e}}function $e(e){0>Xe||(e.current=Ke[Xe],Ke[Xe]=null,Xe--)}function Je(e,t){Xe++,Ke[Xe]=e.current,e.current=t}var et={},tt=Qe(et),nt=Qe(!1),rt=et;function it(e,t){var n=e.type.contextTypes;if(!n)return et;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ot(e){return null!==(e=e.childContextTypes)&&void 0!==e}function at(){$e(nt),$e(tt)}function st(e,t,n){if(tt.current!==et)throw Error(s(168));Je(tt,t),Je(nt,n)}function lt(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,P(t)||"Unknown",o));return i({},n,r)}function ut(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||et,rt=tt.current,Je(tt,e),Je(nt,nt.current),!0}function ct(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=lt(e,t,rt),r.__reactInternalMemoizedMergedChildContext=e,$e(nt),$e(tt),Je(tt,e)):$e(nt),Je(nt,n)}var dt=null,ft=null;(0,a.unstable_now)();var ht=0,pt=8;function vt(e){if(0!==(1&e))return pt=15,1;if(0!==(2&e))return pt=14,2;if(0!==(4&e))return pt=13,4;var t=24&e;return 0!==t?(pt=12,t):0!==(32&e)?(pt=11,32):0!==(t=192&e)?(pt=10,t):0!==(256&e)?(pt=9,256):0!==(t=3584&e)?(pt=8,t):0!==(4096&e)?(pt=7,4096):0!==(t=4186112&e)?(pt=6,t):0!==(t=62914560&e)?(pt=5,t):67108864&e?(pt=4,67108864):0!==(134217728&e)?(pt=3,134217728):0!==(t=805306368&e)?(pt=2,t):0!==(1073741824&e)?(pt=1,1073741824):(pt=8,e)}function mt(e,t){var n=e.pendingLanes;if(0===n)return pt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=pt=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=vt(l),i=pt):0!==(s&=o)&&(r=vt(s),i=pt)}else 0!==(o=n&~a)?(r=vt(o),i=pt):0!==s&&(r=vt(s),i=pt);if(0===r)return 0;if(r=n&((0>(r=31-wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(vt(t),i<=pt)return t;pt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-wt(t)),r|=e[n],t&=~i;return r}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function yt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=bt(24&~t))?yt(10,t):e;case 10:return 0===(e=bt(192&~t))?yt(8,t):e;case 8:return 0===(e=bt(3584&~t))&&(0===(e=bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=bt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function bt(e){return e&-e}function _t(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-wt(t)]=n}var wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(St(e)/kt|0)|0},St=Math.log,kt=Math.LN2;var Ct=a.unstable_runWithPriority,Et=a.unstable_scheduleCallback,Tt=a.unstable_cancelCallback,Pt=a.unstable_shouldYield,It=a.unstable_requestPaint,Rt=a.unstable_now,Ot=a.unstable_getCurrentPriorityLevel,Lt=a.unstable_ImmediatePriority,Dt=a.unstable_UserBlockingPriority,Nt=a.unstable_NormalPriority,At=a.unstable_LowPriority,Mt=a.unstable_IdlePriority,Zt={},jt=void 0!==It?It:function(){},Ft=null,zt=null,Bt=!1,Ht=Rt(),Wt=1e4>Ht?Rt:function(){return Rt()-Ht};function Ut(){switch(Ot()){case Lt:return 99;case Dt:return 98;case Nt:return 97;case At:return 96;case Mt:return 95;default:throw Error(s(332))}}function Gt(e){switch(e){case 99:return Lt;case 98:return Dt;case 97:return Nt;case 96:return At;case 95:return Mt;default:throw Error(s(332))}}function qt(e,t){return e=Gt(e),Ct(e,t)}function Vt(e,t,n){return e=Gt(e),Et(e,t,n)}function Yt(){if(null!==zt){var e=zt;zt=null,Tt(e)}Kt()}function Kt(){if(!Bt&&null!==Ft){Bt=!0;var e=0;try{var t=Ft;qt(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ft=null}catch(n){throw null!==Ft&&(Ft=Ft.slice(e+1)),Et(Lt,Yt),n}finally{Bt=!1}}}var Xt=l.ReactCurrentBatchConfig;var Qt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},$t=Object.prototype.hasOwnProperty;function Jt(e,t){if(Qt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!$t.call(t,n[r])||!Qt(e[n[r]],t[n[r]]))return!1;return!0}function en(e){switch(e.tag){case 5:return qe(e.type);case 16:return qe("Lazy");case 13:return qe("Suspense");case 19:return qe("SuspenseList");case 0:case 2:case 15:return e=Ye(e.type,!1);case 11:return e=Ye(e.type.render,!1);case 22:return e=Ye(e.type._render,!1);case 1:return e=Ye(e.type,!0);default:return""}}function tn(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var nn=Qe(null),rn=null,on=null,an=null;function sn(){an=on=rn=null}function ln(e,t){e=e.type._context,K?(Je(nn,e._currentValue),e._currentValue=t):(Je(nn,e._currentValue2),e._currentValue2=t)}function un(e){var t=nn.current;$e(nn),e=e.type._context,K?e._currentValue=t:e._currentValue2=t}function cn(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function dn(e,t){rn=e,an=on=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Hr=!0),e.firstContext=null)}function fn(e,t){if(an!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(an=e,t=1073741823),t={context:e,observedBits:t,next:null},null===on){if(null===rn)throw Error(s(308));on=t,rn.dependencies={lanes:0,firstContext:t,responders:null}}else on=on.next=t;return K?e._currentValue:e._currentValue2}var hn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function vn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function yn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bn(e,t,n,r){var o=e.updateQueue;hn=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==s&&(null===f?d.firstBaseUpdate=c:f.next=c,d.lastBaseUpdate=u)}}if(null!==a){for(f=o.baseState,s=0,d=c=u=null;;){l=a.lane;var h=a.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(l=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,l);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=v.payload)?p.call(h,f,l):p)||void 0===l)break e;f=i({},f,l);break e;case 2:hn=!0}}null!==a.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else h={eventTime:h,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(c=d=h,u=f):d=d.next=h,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===d&&(u=f),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=d,fo|=s,e.lanes=s,e.memoizedState=f}}function _n(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var xn=(new o.Component).refs;function wn(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Sn={isMounted:function(e){return!!(e=e._reactInternals)&&I(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zo(),i=jo(e),o=mn(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),gn(e,o),Fo(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zo(),i=jo(e),o=mn(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),gn(e,o),Fo(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zo(),r=jo(e),i=mn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),gn(e,i),Fo(e,r,n)}};function kn(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Jt(n,r)||!Jt(i,o))}function Cn(e,t,n){var r=!1,i=et,o=t.contextType;return"object"===typeof o&&null!==o?o=fn(o):(i=ot(t)?rt:tt.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?it(e,i):et),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Sn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function En(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sn.enqueueReplaceState(t,t.state,null)}function Tn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=xn,pn(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=fn(o):(o=ot(t)?rt:tt.current,i.context=it(e,o)),bn(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(wn(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Sn.enqueueReplaceState(i,i.state,null),bn(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Pn=Array.isArray;function In(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===xn&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Rn(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function On(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ka(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Pa(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=In(e,t,n),r.return=e,r):((r=Ca(n.type,n.key,n.props,null,e.mode,r)).ref=In(e,t,n),r.return=e,r)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ia(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,o){return null===t||7!==t.tag?((t=Ea(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function v(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Pa(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case u:return(n=Ca(t.type,t.key,t.props,null,e.mode,n)).ref=In(e,null,t),n.return=e,n;case c:return(t=Ia(t,e.mode,n)).return=e,t}if(Pn(t)||T(t))return(t=Ea(t,e.mode,n,null)).return=e,t;Rn(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case u:return n.key===i?n.type===d?p(e,t,n.props.children,r,i):f(e,t,n,r):null;case c:return n.key===i?h(e,t,n,r):null}if(Pn(n)||T(n))return null!==i?null:p(e,t,n,r,null);Rn(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case u:return e=e.get(null===r.key?n:r.key)||null,r.type===d?p(t,e,r.props.children,i,r.key):f(t,e,r,i);case c:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Pn(r)||T(r))return p(t,e=e.get(n)||null,r,i,null);Rn(t,r)}return null}function y(i,a,s,l){for(var u=null,c=null,d=a,f=a=0,h=null;null!==d&&f<s.length;f++){d.index>f?(h=d,d=null):h=d.sibling;var p=m(i,d,s[f],l);if(null===p){null===d&&(d=h);break}e&&d&&null===p.alternate&&t(i,d),a=o(p,a,f),null===c?u=p:c.sibling=p,c=p,d=h}if(f===s.length)return n(i,d),u;if(null===d){for(;f<s.length;f++)null!==(d=v(i,s[f],l))&&(a=o(d,a,f),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(i,d);f<s.length;f++)null!==(h=g(d,i,f,s[f],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?f:h.key),a=o(h,a,f),null===c?u=h:c.sibling=h,c=h);return e&&d.forEach((function(e){return t(i,e)})),u}function b(i,a,l,u){var c=T(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var d=c=null,f=a,h=a=0,p=null,y=l.next();null!==f&&!y.done;h++,y=l.next()){f.index>h?(p=f,f=null):p=f.sibling;var b=m(i,f,y.value,u);if(null===b){null===f&&(f=p);break}e&&f&&null===b.alternate&&t(i,f),a=o(b,a,h),null===d?c=b:d.sibling=b,d=b,f=p}if(y.done)return n(i,f),c;if(null===f){for(;!y.done;h++,y=l.next())null!==(y=v(i,y.value,u))&&(a=o(y,a,h),null===d?c=y:d.sibling=y,d=y);return c}for(f=r(i,f);!y.done;h++,y=l.next())null!==(y=g(f,i,h,y.value,u))&&(e&&null!==y.alternate&&f.delete(null===y.key?h:y.key),a=o(y,a,h),null===d?c=y:d.sibling=y,d=y);return e&&f.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var f="object"===typeof o&&null!==o&&o.type===d&&null===o.key;f&&(o=o.props.children);var h="object"===typeof o&&null!==o;if(h)switch(o.$$typeof){case u:e:{for(h=o.key,f=r;null!==f;){if(f.key===h){if(7===f.tag){if(o.type===d){n(e,f.sibling),(r=i(f,o.props.children)).return=e,e=r;break e}}else if(f.elementType===o.type){n(e,f.sibling),(r=i(f,o.props)).ref=In(e,f,o),r.return=e,e=r;break e}n(e,f);break}t(e,f),f=f.sibling}o.type===d?((r=Ea(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Ca(o.type,o.key,o.props,null,e.mode,l)).ref=In(e,r,o),l.return=e,e=l)}return a(e);case c:e:{for(f=o.key;null!==r;){if(r.key===f){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ia(o,e.mode,l)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Pa(o,e.mode,l)).return=e,e=r),a(e);if(Pn(o))return y(e,r,o,l);if(T(o))return b(e,r,o,l);if(h&&Rn(e,o),"undefined"===typeof o&&!f)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,P(e.type)||"Component"))}return n(e,r)}}var Ln=On(!0),Dn=On(!1),Nn={},An=Qe(Nn),Mn=Qe(Nn),Zn=Qe(Nn);function jn(e){if(e===Nn)throw Error(s(174));return e}function Fn(e,t){Je(Zn,t),Je(Mn,e),Je(An,Nn),e=M(t),$e(An),Je(An,e)}function zn(){$e(An),$e(Mn),$e(Zn)}function Bn(e){var t=jn(Zn.current),n=jn(An.current);n!==(t=Z(n,e.type,t))&&(Je(Mn,e),Je(An,t))}function Hn(e){Mn.current===e&&($e(An),$e(Mn))}var Wn=Qe(0);function Un(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ze(n)||je(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gn=null,qn=null,Vn=!1;function Yn(e,t){var n=wa(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Kn(e,t){switch(e.tag){case 5:return null!==(t=Ae(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=Me(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function Xn(e){if(Vn){var t=qn;if(t){var n=t;if(!Kn(e,t)){if(!(t=Fe(n))||!Kn(e,t))return e.flags=-1025&e.flags|2,Vn=!1,void(Gn=e);Yn(Gn,n)}Gn=e,qn=ze(t)}else e.flags=-1025&e.flags|2,Vn=!1,Gn=e}}function Qn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Gn=e}function $n(e){if(!$||e!==Gn)return!1;if(!Vn)return Qn(e),Vn=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!U(t,e.memoizedProps))for(t=qn;t;)Yn(e,t),t=Fe(t);if(Qn(e),13===e.tag){if(!$)throw Error(s(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));qn=We(e)}else qn=Gn?Fe(e.stateNode):null;return!0}function Jn(){$&&(qn=Gn=null,Vn=!1)}var er=[];function tr(){for(var e=0;e<er.length;e++){var t=er[e];K?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}er.length=0}var nr=l.ReactCurrentDispatcher,rr=l.ReactCurrentBatchConfig,ir=0,or=null,ar=null,sr=null,lr=!1,ur=!1;function cr(){throw Error(s(321))}function dr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qt(e[n],t[n]))return!1;return!0}function fr(e,t,n,r,i,o){if(ir=o,or=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nr.current=null===e||null===e.memoizedState?jr:Fr,e=n(r,i),ur){o=0;do{if(ur=!1,!(25>o))throw Error(s(301));o+=1,sr=ar=null,t.updateQueue=null,nr.current=zr,e=n(r,i)}while(ur)}if(nr.current=Zr,t=null!==ar&&null!==ar.next,ir=0,sr=ar=or=null,lr=!1,t)throw Error(s(300));return e}function hr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sr?or.memoizedState=sr=e:sr=sr.next=e,sr}function pr(){if(null===ar){var e=or.alternate;e=null!==e?e.memoizedState:null}else e=ar.next;var t=null===sr?or.memoizedState:sr.next;if(null!==t)sr=t,ar=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ar=e).memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},null===sr?or.memoizedState=sr=e:sr=sr.next=e}return sr}function vr(e,t){return"function"===typeof t?t(e):t}function mr(e){var t=pr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ar,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,u=i;do{var c=u.lane;if((ir&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=d,o=r):l=l.next=d,or.lanes|=c,fo|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=a,Qt(r,t.memoizedState)||(Hr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function gr(e){var t=pr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Qt(o,t.memoizedState)||(Hr=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function yr(e,t,n){var r=t._getVersion;r=r(t._source);var i=K?t._workInProgressVersionPrimary:t._workInProgressVersionSecondary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(ir&e)===e)&&(K?t._workInProgressVersionPrimary=r:t._workInProgressVersionSecondary=r,er.push(t))),e)return n(t._source);throw er.push(t),Error(s(350))}function br(e,t,n,r){var i=ro;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),l=nr.current,u=l.useState((function(){return yr(i,t,n)})),c=u[1],d=u[0];u=sr;var f=e.memoizedState,h=f.refs,p=h.getSnapshot,v=f.source;f=f.subscribe;var m=or;return e.memoizedState={refs:h,source:t,subscribe:r},l.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var e=o(t._source);if(!Qt(a,e)){e=n(t._source),Qt(d,e)||(c(e),e=jo(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-wt(s),u=1<<l;r[l]|=e,s&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=jo(m);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),Qt(p,n)&&Qt(v,t)&&Qt(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:vr,lastRenderedState:d}).dispatch=c=Mr.bind(null,or,e),u.queue=e,u.baseQueue=null,d=yr(i,t,n),u.memoizedState=u.baseState=d),d}function _r(e,t,n){return br(pr(),e,t,n)}function xr(e){var t=hr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:vr,lastRenderedState:e}).dispatch=Mr.bind(null,or,e),[t.memoizedState,e]}function wr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=or.updateQueue)?(t={lastEffect:null},or.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Sr(e){return e={current:e},hr().memoizedState=e}function kr(){return pr().memoizedState}function Cr(e,t,n,r){var i=hr();or.flags|=e,i.memoizedState=wr(1|t,n,void 0,void 0===r?null:r)}function Er(e,t,n,r){var i=pr();r=void 0===r?null:r;var o=void 0;if(null!==ar){var a=ar.memoizedState;if(o=a.destroy,null!==r&&dr(r,a.deps))return void wr(t,n,o,r)}or.flags|=e,i.memoizedState=wr(1|t,n,o,r)}function Tr(e,t){return Cr(516,4,e,t)}function Pr(e,t){return Er(516,4,e,t)}function Ir(e,t){return Er(4,2,e,t)}function Rr(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Or(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Er(4,2,Rr.bind(null,t,e),n)}function Lr(){}function Dr(e,t){var n=pr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&dr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Nr(e,t){var n=pr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&dr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ar(e,t){var n=Ut();qt(98>n?98:n,(function(){e(!0)})),qt(97<n?97:n,(function(){var n=rr.transition;rr.transition=1;try{e(!1),t()}finally{rr.transition=n}}))}function Mr(e,t,n){var r=Zo(),i=jo(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===or||null!==a&&a===or)ur=lr=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,Qt(l,s))return}catch(u){}Fo(e,i,r)}}var Zr={readContext:fn,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useOpaqueIdentifier:cr,unstable_isNewReconciler:!1},jr={readContext:fn,useCallback:function(e,t){return hr().memoizedState=[e,void 0===t?null:t],e},useContext:fn,useEffect:Tr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Cr(4,2,Rr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cr(4,2,e,t)},useMemo:function(e,t){var n=hr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Mr.bind(null,or,e),[r.memoizedState,e]},useRef:Sr,useState:xr,useDebugValue:Lr,useDeferredValue:function(e){var t=xr(e),n=t[0],r=t[1];return Tr((function(){var t=rr.transition;rr.transition=1;try{r(e)}finally{rr.transition=t}}),[e]),n},useTransition:function(){var e=xr(!1),t=e[0];return Sr(e=Ar.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=hr();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},br(r,e,t,n)},useOpaqueIdentifier:function(){if(Vn){var e=!1,t=ee((function(){throw e||(e=!0,n(te())),Error(s(355))})),n=xr(t)[1];return 0===(2&or.mode)&&(or.flags|=516,wr(5,(function(){n(te())}),void 0,null)),t}return xr(t=te()),t},unstable_isNewReconciler:!1},Fr={readContext:fn,useCallback:Dr,useContext:fn,useEffect:Pr,useImperativeHandle:Or,useLayoutEffect:Ir,useMemo:Nr,useReducer:mr,useRef:kr,useState:function(){return mr(vr)},useDebugValue:Lr,useDeferredValue:function(e){var t=mr(vr),n=t[0],r=t[1];return Pr((function(){var t=rr.transition;rr.transition=1;try{r(e)}finally{rr.transition=t}}),[e]),n},useTransition:function(){var e=mr(vr)[0];return[kr().current,e]},useMutableSource:_r,useOpaqueIdentifier:function(){return mr(vr)[0]},unstable_isNewReconciler:!1},zr={readContext:fn,useCallback:Dr,useContext:fn,useEffect:Pr,useImperativeHandle:Or,useLayoutEffect:Ir,useMemo:Nr,useReducer:gr,useRef:kr,useState:function(){return gr(vr)},useDebugValue:Lr,useDeferredValue:function(e){var t=gr(vr),n=t[0],r=t[1];return Pr((function(){var t=rr.transition;rr.transition=1;try{r(e)}finally{rr.transition=t}}),[e]),n},useTransition:function(){var e=gr(vr)[0];return[kr().current,e]},useMutableSource:_r,useOpaqueIdentifier:function(){return gr(vr)[0]},unstable_isNewReconciler:!1},Br=l.ReactCurrentOwner,Hr=!1;function Wr(e,t,n,r){t.child=null===e?Dn(t,null,n,r):Ln(t,e.child,n,r)}function Ur(e,t,n,r,i){n=n.render;var o=t.ref;return dn(t,i),r=fr(e,t,n,r,o,i),null===e||Hr?(t.flags|=1,Wr(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,di(e,t,i))}function Gr(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Sa(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ca(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,qr(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Jt)(i,r)&&e.ref===t.ref)?di(e,t,o):(t.flags|=1,(e=ka(a,r)).ref=t.ref,e.return=t,t.child=e)}function qr(e,t,n,r,i,o){if(null!==e&&Jt(e.memoizedProps,r)&&e.ref===t.ref){if(Hr=!1,0===(o&i))return t.lanes=e.lanes,di(e,t,o);0!==(16384&e.flags)&&(Hr=!0)}return Kr(e,t,n,r,o)}function Vr(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Vo(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Vo(t,e),null;t.memoizedState={baseLanes:0},Vo(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Vo(t,r);return Wr(e,t,i,n),t.child}function Yr(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Kr(e,t,n,r,i){var o=ot(n)?rt:tt.current;return o=it(t,o),dn(t,i),n=fr(e,t,n,r,o,i),null===e||Hr?(t.flags|=1,Wr(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,di(e,t,i))}function Xr(e,t,n,r,i){if(ot(n)){var o=!0;ut(t)}else o=!1;if(dn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Cn(t,n,r),Tn(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=fn(u):u=it(t,u=ot(n)?rt:tt.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&En(t,a,r,u),hn=!1;var f=t.memoizedState;a.state=f,bn(t,r,a,i),l=t.memoizedState,s!==r||f!==l||nt.current||hn?("function"===typeof c&&(wn(t,n,c,r),l=t.memoizedState),(s=hn||kn(t,n,s,r,f,l,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,vn(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:tn(t.type,s),a.props=u,d=t.pendingProps,f=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=fn(l):l=it(t,l=ot(n)?rt:tt.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==l)&&En(t,a,r,l),hn=!1,f=t.memoizedState,a.state=f,bn(t,r,a,i);var p=t.memoizedState;s!==d||f!==p||nt.current||hn?("function"===typeof h&&(wn(t,n,h,r),p=t.memoizedState),(u=hn||kn(t,n,u,r,f,p,l))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Qr(e,t,n,r,o,i)}function Qr(e,t,n,r,i,o){Yr(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&ct(t,n,!1),di(e,t,o);r=t.stateNode,Br.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ln(t,e.child,null,o),t.child=Ln(t,null,s,o)):Wr(e,t,s,o),t.memoizedState=r.state,i&&ct(t,n,!0),t.child}function $r(e){var t=e.stateNode;t.pendingContext?st(0,t.pendingContext,t.pendingContext!==t.context):t.context&&st(0,t.context,!1),Fn(e,t.containerInfo)}var Jr,ei,ti,ni,ri={dehydrated:null,retryLane:0};function ii(e,t,n){var r,i=t.pendingProps,o=Wn.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),Je(Wn,1&o),null===e?(void 0!==i.fallback&&Xn(t),e=i.children,o=i.fallback,a?(e=oi(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=ri,e):"number"===typeof i.unstable_expectedLoadTime?(e=oi(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=ri,t.lanes=33554432,e):((n=Ta({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=si(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=ri,i):(n=ai(e,t,i.children,n),t.memoizedState=null,n))}function oi(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Ta(t,i,0,null),n=Ea(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ai(e,t,n,r){var i=e.child;return e=i.sibling,n=ka(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function si(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=ka(a,s),null!==e?r=ka(e,r):(r=Ea(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function li(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),cn(e.return,t)}function ui(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ci(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Wr(e,t,r.children,n),0!==(2&(r=Wn.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&li(e,n);else if(19===e.tag)li(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Je(Wn,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Un(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ui(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Un(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ui(t,!0,n,null,o,t.lastEffect);break;case"together":ui(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function di(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fo|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=ka(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ka(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function fi(e){e.flags|=4}if(X)Jr=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)B(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ei=function(){},ti=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var o=t.stateNode,a=jn(An.current);n=W(o,n,e,r,i,a),(t.updateQueue=n)&&fi(t)}},ni=function(e,t,n,r){n!==r&&fi(t)};else if(Q){Jr=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=De(o,i.type,i.memoizedProps,i)),B(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=Ne(o,i.memoizedProps,i)),B(e,o);else if(4!==i.tag){if(13===i.tag&&0!==(4&i.flags)&&(o=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,Jr(e,a,!0,o)),null!==(o=a.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var hi=function e(t,n,r,i){for(var o=n.child;null!==o;){if(5===o.tag){var a=o.stateNode;r&&i&&(a=De(a,o.type,o.memoizedProps,o)),Re(t,a)}else if(6===o.tag)a=o.stateNode,r&&i&&(a=Ne(a,o.memoizedProps,o)),Re(t,a);else if(4!==o.tag){if(13===o.tag&&0!==(4&o.flags)&&(a=null!==o.memoizedState)){var s=o.child;if(null!==s&&(null!==s.child&&(s.child.return=s,e(t,s,!0,a)),null!==(a=s.sibling))){a.return=o,o=a;continue}}if(null!==o.child){o.child.return=o,o=o.child;continue}}if(o===n)break;for(;null===o.sibling;){if(null===o.return||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};ei=function(e){var t=e.stateNode;if(null!==e.firstEffect){var n=t.containerInfo,r=Ie(n);hi(r,e,!1,!1),t.pendingChildren=r,fi(e),Oe(n,r)}},ti=function(e,t,n,r,i){var o=e.stateNode,a=e.memoizedProps;if((e=null===t.firstEffect)&&a===r)t.stateNode=o;else{var s=t.stateNode,l=jn(An.current),u=null;a!==r&&(u=W(s,n,a,r,i,l)),e&&null===u?t.stateNode=o:(o=Pe(o,u,n,a,r,t,e,s),H(o,n,r,i,l)&&fi(t),t.stateNode=o,e?fi(t):Jr(o,t,!1,!1))}},ni=function(e,t,n,r){n!==r?(e=jn(Zn.current),n=jn(An.current),t.stateNode=G(r,e,n,t),fi(t)):t.stateNode=e.stateNode}}else ei=function(){},ti=function(){},ni=function(){};function pi(e,t){if(!Vn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vi(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return ot(t.type)&&at(),null;case 3:return zn(),$e(nt),$e(tt),tr(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||($n(t)?fi(t):r.hydrate||(t.flags|=256)),ei(t),null;case 5:Hn(t);var i=jn(Zn.current);if(n=t.type,null!==e&&null!=t.stateNode)ti(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=jn(An.current),$n(t)){if(!$)throw Error(s(175));e=Be(t.stateNode,t.type,t.memoizedProps,i,e,t),t.updateQueue=e,null!==e&&fi(t)}else{var o=z(n,r,i,e,t);Jr(o,t,!1,!1),t.stateNode=o,H(o,n,r,i,e)&&fi(t)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)ni(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=jn(Zn.current),i=jn(An.current),$n(t)){if(!$)throw Error(s(176));He(t.stateNode,t.memoizedProps,t)&&fi(t)}else t.stateNode=G(r,e,i,t)}return null;case 13:return $e(Wn),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,i=!1,null===e?void 0!==t.memoizedProps.fallback&&$n(t):i=null!==e.memoizedState,r&&!i&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Wn.current)?0===lo&&(lo=3):(0!==lo&&3!==lo||(lo=4),null===ro||0===(134217727&fo)&&0===(134217727&ho)||Wo(ro,oo))),Q&&r&&(t.flags|=4),X&&(r||i)&&(t.flags|=4),null);case 4:return zn(),ei(t),null===e&&ie(t.stateNode.containerInfo),null;case 10:return un(t),null;case 19:if($e(Wn),null===(r=t.memoizedState))return null;if(i=0!==(64&t.flags),null===(o=r.rendering))if(i)pi(r,!1);else{if(0!==lo||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(o=Un(e))){for(t.flags|=64,pi(r,!1),null!==(e=o.updateQueue)&&(t.updateQueue=e,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,e=n,r=t.child;null!==r;)n=e,(i=r).flags&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(o=i.alternate)?(i.childLanes=0,i.lanes=n,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return Je(Wn,1&Wn.current|2),t.child}e=e.sibling}null!==r.tail&&Wt()>go&&(t.flags|=64,i=!0,pi(r,!1),t.lanes=33554432)}else{if(!i)if(null!==(e=Un(o))){if(t.flags|=64,i=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),pi(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!Vn)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Wt()-r.renderingStartTime>go&&1073741824!==n&&(t.flags|=64,i=!0,pi(r,!1),t.lanes=33554432);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Wt(),e.sibling=null,t=Wn.current,Je(Wn,i?1&t|2:1&t),e):null;case 23:case 24:return Yo(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function mi(e){switch(e.tag){case 1:ot(e.type)&&at();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(zn(),$e(nt),$e(tt),tr(),0!==(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Hn(e),null;case 13:return $e(Wn),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return $e(Wn),null;case 4:return zn(),null;case 10:return un(e),null;case 23:case 24:return Yo(),null;default:return null}}function gi(e,t){try{var n="",r=t;do{n+=en(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function yi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var bi="function"===typeof WeakMap?WeakMap:Map;function _i(e,t,n){(n=mn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xo||(xo=!0,wo=r),yi(0,t)},n}function xi(e,t,n){(n=mn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return yi(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===So?So=new Set([this]):So.add(this),yi(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var wi="function"===typeof WeakSet?WeakSet:Set;function Si(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){da(e,n)}else t.current=null}function ki(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:tn(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(X&&256&t.flags&&Te(t.stateNode.containerInfo))}throw Error(s(163))}function Ci(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function Ei(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(la(n,e),sa(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:tn(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&_n(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=A(n.child.stateNode);break;case 1:e=n.child.stateNode}_n(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&me(e,n.type,n.memoizedProps,n));case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void($&&null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ge(n)))))}throw Error(s(163))}function Ti(e,t){if(X)for(var n=e;;){if(5===n.tag){var r=n.stateNode;t?Se(r):Ce(n.stateNode,n.memoizedProps)}else if(6===n.tag)r=n.stateNode,t?ke(r):Ee(r,n.memoizedProps);else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Pi(e,t){if(ft&&"function"===typeof ft.onCommitFiberUnmount)try{ft.onCommitFiberUnmount(dt,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))la(t,n);else{r=t;try{i()}catch(o){da(r,o)}}n=n.next}while(n!==e)}break;case 1:if(Si(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){da(t,o)}break;case 5:Si(t);break;case 4:X?Ai(e,t):Q&&Q&&(t=t.stateNode.containerInfo,e=Ie(t),Le(t,e))}}function Ii(e,t){for(var n=t;;)if(Pi(e,n),null===n.child||X&&4===n.tag){if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else n.child.return=n,n=n.child}function Ri(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Oi(e){return 5===e.tag||3===e.tag||4===e.tag}function Li(e){if(X){e:{for(var t=e.return;null!==t;){if(Oi(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(we(t),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Oi(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Di(e,n,t):Ni(e,n,t)}}function Di(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?be(n,e,t):pe(n,e);else if(4!==r&&null!==(e=e.child))for(Di(e,t,n),e=e.sibling;null!==e;)Di(e,t,n),e=e.sibling}function Ni(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?ye(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(Ni(e,t,n),e=e.sibling;null!==e;)Ni(e,t,n),e=e.sibling}function Ai(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag)Ii(e,i),r?xe(n,i.stateNode):_e(n,i.stateNode);else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(Pi(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Mi(e,t){if(X){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Ci(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&ge(n,o,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(s(162));return n=t.memoizedProps,void ve(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void($&&(t=t.stateNode,t.hydrate&&(t.hydrate=!1,Ue(t.containerInfo))));case 13:return Zi(t),void ji(t);case 19:return void ji(t);case 23:case 24:return void Ti(t,null!==t.memoizedState)}throw Error(s(163))}switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Ci(3,t);case 12:case 23:case 24:return;case 13:return Zi(t),void ji(t);case 19:return void ji(t);case 3:$&&((n=t.stateNode).hydrate&&(n.hydrate=!1,Ue(n.containerInfo)))}e:if(Q){switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,Le(t.containerInfo,t.pendingChildren);break e}throw Error(s(163))}}function Zi(e){null!==e.memoizedState&&(mo=Wt(),X&&Ti(e.child,!0))}function ji(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new wi),t.forEach((function(t){var r=ha.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Fi(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var zi=0,Bi=1,Hi=2,Wi=3,Ui=4;if("function"===typeof Symbol&&Symbol.for){var Gi=Symbol.for;zi=Gi("selector.component"),Bi=Gi("selector.has_pseudo_class"),Hi=Gi("selector.role"),Wi=Gi("selector.test_id"),Ui=Gi("selector.text")}function qi(e){var t=J(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(s(364));return t}if(null===(e=ae(e)))throw Error(s(362));return e.stateNode.current}function Vi(e,t){switch(t.$$typeof){case zi:if(e.type===t.value)return!0;break;case Bi:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],o=t[i];if(5!==r.tag||!ue(r)){for(;null!=o&&Vi(r,o);)o=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Hi:if(5===e.tag&&ce(e.stateNode,t.value))return!0;break;case Ui:if((5===e.tag||6===e.tag)&&(null!==(e=le(e))&&0<=e.indexOf(t.value)))return!0;break;case Wi:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(s(365,t))}return!1}function Yi(e){switch(e.$$typeof){case zi:return"<"+(P(e.value)||"Unknown")+">";case Bi:return":has("+(Yi(e)||"")+")";case Hi:return'[role="'+e.value+'"]';case Ui:return'"'+e.value+'"';case Wi:return'[data-testname="'+e.value+'"]';default:throw Error(s(365,e))}}function Ki(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],o=e[r++],a=t[o];if(5!==i.tag||!ue(i)){for(;null!=a&&Vi(i,a);)a=t[++o];if(o===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,o),i=i.sibling}}return n}function Xi(e,t){if(!oe)throw Error(s(363));e=Ki(e=qi(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)ue(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Qi=null;var $i=Math.ceil,Ji=l.ReactCurrentDispatcher,eo=l.ReactCurrentOwner,to=l.IsSomeRendererActing,no=0,ro=null,io=null,oo=0,ao=0,so=Qe(0),lo=0,uo=null,co=0,fo=0,ho=0,po=0,vo=null,mo=0,go=1/0;function yo(){go=Wt()+500}var bo,_o=null,xo=!1,wo=null,So=null,ko=!1,Co=null,Eo=90,To=[],Po=[],Io=null,Ro=0,Oo=null,Lo=-1,Do=0,No=0,Ao=null,Mo=!1;function Zo(){return 0!==(48&no)?Wt():-1!==Lo?Lo:Lo=Wt()}function jo(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ut()?1:2;if(0===Do&&(Do=co),0!==Xt.transition){0!==No&&(No=null!==vo?vo.pendingLanes:0),e=Do;var t=4186112&~No;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ut(),0!==(4&no)&&98===e?e=yt(12,Do):e=yt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Do),e}function Fo(e,t,n){if(50<Ro)throw Ro=0,Oo=null,Error(s(185));if(null===(e=zo(e,t)))return null;xt(e,t,n),e===ro&&(ho|=t,4===lo&&Wo(e,oo));var r=Ut();1===t?0!==(8&no)&&0===(48&no)?Uo(e):(Bo(e,n),0===no&&(yo(),Yt())):(0===(4&no)||98!==r&&99!==r||(null===Io?Io=new Set([e]):Io.add(e)),Bo(e,n)),vo=e}function zo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Bo(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-wt(a),u=1<<l,c=o[l];if(-1===c){if(0===(u&r)||0!==(u&i)){c=t,vt(u);var d=pt;o[l]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(r=mt(e,e===ro?oo:0),t=pt,0===r)null!==n&&(n!==Zt&&Tt(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Zt&&Tt(n)}15===t?(n=Uo.bind(null,e),null===Ft?(Ft=[n],zt=Et(Lt,Kt)):Ft.push(n),n=Zt):14===t?n=Vt(99,Uo.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=Vt(n,Ho.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function Ho(e){if(Lo=-1,No=Do=0,0!==(48&no))throw Error(s(327));var t=e.callbackNode;if(aa()&&e.callbackNode!==t)return null;var n=mt(e,e===ro?oo:0);if(0===n)return null;var r=n,i=no;no|=16;var o=Qo();for(ro===e&&oo===r||(yo(),Ko(e,r));;)try{ea();break}catch(l){Xo(e,l)}if(sn(),Ji.current=o,no=i,null!==io?r=0:(ro=null,oo=0,r=lo),0!==(co&ho))Ko(e,0);else if(0!==r){if(2===r&&(no|=64,e.hydrate&&(e.hydrate=!1,Te(e.containerInfo)),0!==(n=gt(e))&&(r=$o(e,n))),1===r)throw t=uo,Ko(e,0),Wo(e,n),Bo(e,Wt()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:ra(e);break;case 3:if(Wo(e,n),(62914560&n)===n&&10<(r=mo+500-Wt())){if(0!==mt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){Zo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=q(ra.bind(null,e),r);break}ra(e);break;case 4:if(Wo(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-wt(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Wt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$i(n/1960))-n)){e.timeoutHandle=q(ra.bind(null,e),n);break}ra(e);break;default:throw Error(s(329))}}return Bo(e,Wt()),e.callbackNode===t?Ho.bind(null,e):null}function Wo(e,t){for(t&=~po,t&=~ho,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function Uo(e){if(0!==(48&no))throw Error(s(327));if(aa(),e===ro&&0!==(e.expiredLanes&oo)){var t=oo,n=$o(e,t);0!==(co&ho)&&(n=$o(e,t=mt(e,t)))}else n=$o(e,t=mt(e,0));if(0!==e.tag&&2===n&&(no|=64,e.hydrate&&(e.hydrate=!1,Te(e.containerInfo)),0!==(t=gt(e))&&(n=$o(e,t))),1===n)throw n=uo,Ko(e,0),Wo(e,t),Bo(e,Wt()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ra(e),Bo(e,Wt()),null}function Go(e,t){var n=no;no|=1;try{return e(t)}finally{0===(no=n)&&(yo(),Yt())}}function qo(e,t){var n=no;if(0!==(48&n))return e(t);no|=1;try{if(e)return qt(99,e.bind(null,t))}finally{no=n,Yt()}}function Vo(e,t){Je(so,ao),ao|=t,co|=t}function Yo(){ao=so.current,$e(so)}function Ko(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==Y&&(e.timeoutHandle=Y,V(n)),null!==io)for(n=io.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&at();break;case 3:zn(),$e(nt),$e(tt),tr();break;case 5:Hn(r);break;case 4:zn();break;case 13:case 19:$e(Wn);break;case 10:un(r);break;case 23:case 24:Yo()}n=n.return}ro=e,io=ka(e.current,null),oo=ao=co=t,lo=0,uo=null,po=ho=fo=0}function Xo(e,t){for(;;){var n=io;try{if(sn(),nr.current=Zr,lr){for(var r=or.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lr=!1}if(ir=0,sr=ar=or=null,ur=!1,eo.current=null,null===n||null===n.return){lo=1,uo=t,io=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=oo,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&Wn.current),f=a;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=f.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!d)}}if(h){var m=f.updateQueue;if(null===m){var g=new Set;g.add(u),f.updateQueue=g}else m.add(u);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=mn(-1,1);y.tag=2,gn(s,y)}s.lanes|=1;break e}l=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new bi,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(s)){l.add(s);var _=fa.bind(null,o,u,s);u.then(_,_)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);l=Error((P(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==lo&&(lo=2),l=gi(l,s),f=a;do{switch(f.tag){case 3:o=l,f.flags|=4096,t&=-t,f.lanes|=t,yn(f,_i(0,o,t));break e;case 1:o=l;var x=f.type,w=f.stateNode;if(0===(64&f.flags)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===So||!So.has(w)))){f.flags|=4096,t&=-t,f.lanes|=t,yn(f,xi(f,o,t));break e}}f=f.return}while(null!==f)}na(n)}catch(S){t=S,io===n&&null!==n&&(io=n=n.return);continue}break}}function Qo(){var e=Ji.current;return Ji.current=Zr,null===e?Zr:e}function $o(e,t){var n=no;no|=16;var r=Qo();for(ro===e&&oo===t||Ko(e,t);;)try{Jo();break}catch(i){Xo(e,i)}if(sn(),no=n,Ji.current=r,null!==io)throw Error(s(261));return ro=null,oo=0,lo}function Jo(){for(;null!==io;)ta(io)}function ea(){for(;null!==io&&!Pt();)ta(io)}function ta(e){var t=bo(e.alternate,e,ao);e.memoizedProps=e.pendingProps,null===t?na(e):io=t,eo.current=null}function na(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=vi(n,t,ao)))return void(io=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&ao)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=mi(t)))return n.flags&=2047,void(io=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(io=t);io=t=e}while(null!==t);0===lo&&(lo=5)}function ra(e){var t=Ut();return qt(99,ia.bind(null,e,t)),null}function ia(e,t){do{aa()}while(null!==Co);if(0!==(48&no))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<o;){var u=31-wt(o),c=1<<u;i[u]=0,a[u]=-1,l[u]=-1,o&=~c}if(null!==Io&&0===(24&r)&&Io.has(e)&&Io.delete(e),e===ro&&(io=ro=null,oo=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){i=no,no|=32,eo.current=null,Ao=j(e.containerInfo),Mo=!1,_o=r;do{try{oa()}catch(y){if(null===_o)throw Error(s(330));da(_o,y),_o=_o.nextEffect}}while(null!==_o);Ao=null,_o=r;do{try{for(a=e;null!==_o;){var d=_o.flags;if(16&d&&X&&we(_o.stateNode),128&d){var f=_o.alternate;if(null!==f){var h=f.ref;null!==h&&("function"===typeof h?h(null):h.current=null)}}switch(1038&d){case 2:Li(_o),_o.flags&=-3;break;case 6:Li(_o),_o.flags&=-3,Mi(_o.alternate,_o);break;case 1024:_o.flags&=-1025;break;case 1028:_o.flags&=-1025,Mi(_o.alternate,_o);break;case 4:Mi(_o.alternate,_o);break;case 8:l=a,o=_o,X?Ai(l,o):Ii(l,o);var p=o.alternate;Ri(o),null!==p&&Ri(p)}_o=_o.nextEffect}}catch(y){if(null===_o)throw Error(s(330));da(_o,y),_o=_o.nextEffect}}while(null!==_o);Mo&&re(),F(e.containerInfo),e.current=n,_o=r;do{try{for(d=e;null!==_o;){var v=_o.flags;if(36&v&&Ei(d,_o.alternate,_o),128&v){f=void 0;var m=_o.ref;if(null!==m){var g=_o.stateNode;if(5===_o.tag)f=A(g);else f=g;"function"===typeof m?m(f):m.current=f}}_o=_o.nextEffect}}catch(y){if(null===_o)throw Error(s(330));da(_o,y),_o=_o.nextEffect}}while(null!==_o);_o=null,jt(),no=i}else e.current=n;if(ko)ko=!1,Co=e,Eo=t;else for(_o=r;null!==_o;)t=_o.nextEffect,_o.nextEffect=null,8&_o.flags&&((v=_o).sibling=null,v.stateNode=null),_o=t;if(0===(r=e.pendingLanes)&&(So=null),1===r?e===Oo?Ro++:(Ro=0,Oo=e):Ro=0,n=n.stateNode,ft&&"function"===typeof ft.onCommitFiberRoot)try{ft.onCommitFiberRoot(dt,n,void 0,64===(64&n.current.flags))}catch(y){}if(Bo(e,Wt()),xo)throw xo=!1,e=wo,wo=null,e;return 0!==(8&no)||Yt(),null}function oa(){for(;null!==_o;){var e=_o.alternate;Mo||null===Ao||(0!==(8&_o.flags)?D(_o,Ao)&&(Mo=!0,ne()):13===_o.tag&&Fi(e,_o)&&D(_o,Ao)&&(Mo=!0,ne()));var t=_o.flags;0!==(256&t)&&ki(e,_o),0===(512&t)||ko||(ko=!0,Vt(97,(function(){return aa(),null}))),_o=_o.nextEffect}}function aa(){if(90!==Eo){var e=97<Eo?97:Eo;return Eo=90,qt(e,ua)}return!1}function sa(e,t){To.push(t,e),ko||(ko=!0,Vt(97,(function(){return aa(),null})))}function la(e,t){Po.push(t,e),ko||(ko=!0,Vt(97,(function(){return aa(),null})))}function ua(){if(null===Co)return!1;var e=Co;if(Co=null,0!==(48&no))throw Error(s(331));var t=no;no|=32;var n=Po;Po=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"===typeof a)try{a()}catch(u){if(null===o)throw Error(s(330));da(o,u)}}for(n=To,To=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(u){if(null===o)throw Error(s(330));da(o,u)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return no=t,Yt(),!0}function ca(e,t,n){gn(e,t=_i(0,t=gi(n,t),1)),t=Zo(),null!==(e=zo(e,1))&&(xt(e,1,t),Bo(e,t))}function da(e,t){if(3===e.tag)ca(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){ca(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===So||!So.has(r))){var i=xi(n,e=gi(t,e),1);if(gn(n,i),i=Zo(),null!==(n=zo(n,1)))xt(n,1,i),Bo(n,i);else if("function"===typeof r.componentDidCatch&&(null===So||!So.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function fa(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zo(),e.pingedLanes|=e.suspendedLanes&n,ro===e&&(oo&n)===n&&(4===lo||3===lo&&(62914560&oo)===oo&&500>Wt()-mo?Ko(e,0):po|=n),Bo(e,t)}function ha(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ut()?1:2:(0===Do&&(Do=co),0===(t=bt(62914560&~Do))&&(t=4194304))),n=Zo(),null!==(e=zo(e,t))&&(xt(e,t,n),Bo(e,n))}bo=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||nt.current)Hr=!0;else{if(0===(n&r)){switch(Hr=!1,t.tag){case 3:$r(t),Jn();break;case 5:Bn(t);break;case 1:ot(t.type)&&ut(t);break;case 4:Fn(t,t.stateNode.containerInfo);break;case 10:ln(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?ii(e,t,n):(Je(Wn,1&Wn.current),null!==(t=di(e,t,n))?t.sibling:null);Je(Wn,1&Wn.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ci(e,t,n);t.flags|=64}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),Je(Wn,Wn.current),r)break;return null;case 23:case 24:return t.lanes=0,Vr(e,t,n)}return di(e,t,n)}Hr=0!==(16384&e.flags)}else Hr=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=it(t,tt.current),dn(t,n),i=fr(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(r)){var o=!0;ut(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pn(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&wn(t,r,a,e),i.updater=Sn,t.stateNode=i,i._reactInternals=t,Tn(t,r,e,n),t=Qr(null,t,r,!0,o,n)}else t.tag=0,Wr(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Sa(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===m)return 11;if(e===b)return 14}return 2}(i),e=tn(i,e),o){case 0:t=Kr(null,t,i,e,n);break e;case 1:t=Xr(null,t,i,e,n);break e;case 11:t=Ur(null,t,i,e,n);break e;case 14:t=Gr(null,t,i,tn(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Kr(e,t,r,i=t.elementType===r?i:tn(r,i),n);case 1:return r=t.type,i=t.pendingProps,Xr(e,t,r,i=t.elementType===r?i:tn(r,i),n);case 3:if($r(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,vn(e,t),bn(t,r,null,n),(r=t.memoizedState.element)===i)Jn(),t=di(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&($?(qn=ze(t.stateNode.containerInfo),Gn=t,o=Vn=!0):o=!1),o){if($&&null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)o=e[i],a=e[i+1],K?o._workInProgressVersionPrimary=a:o._workInProgressVersionSecondary=a,er.push(o);for(n=Dn(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Wr(e,t,r,n),Jn();t=t.child}return t;case 5:return Bn(t),null===e&&Xn(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,U(r,i)?a=null:null!==o&&U(r,o)&&(t.flags|=16),Yr(e,t),Wr(e,t,a,n),t.child;case 6:return null===e&&Xn(t),null;case 13:return ii(e,t,n);case 4:return Fn(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ln(t,null,r,n):Wr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ur(e,t,r,i=t.elementType===r?i:tn(r,i),n);case 7:return Wr(e,t,t.pendingProps,n),t.child;case 8:case 12:return Wr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,ln(t,o=i.value),null!==a){var l=a.value;if(0===(o=Qt(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!nt.current){t=di(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===l.tag&&((c=mn(-1,n&-n)).tag=2,gn(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),cn(l.return,n),u.lanes|=n;break}c=c.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}}Wr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,dn(t,n),r=r(i=fn(i,o.unstable_observedBits)),t.flags|=1,Wr(e,t,r,n),t.child;case 14:return o=tn(i=t.type,t.pendingProps),Gr(e,t,i,o=tn(i.type,o),r,n);case 15:return qr(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ot(r)?(e=!0,ut(t)):e=!1,dn(t,n),Cn(t,r,i),Tn(t,r,i,n),Qr(null,t,r,!0,e,n);case 19:return ci(e,t,n);case 23:case 24:return Vr(e,t,n)}throw Error(s(156,t.tag))};var pa={current:!1},va=a.unstable_flushAllWithoutAsserting,ma="function"===typeof va;function ga(){if(void 0!==va)return va();for(var e=!1;aa();)e=!0;return e}function ya(t){try{ga(),function(t){if(null===Qi)try{var n=("require"+Math.random()).slice(0,7);Qi=(e&&e[n]).call(e,"timers").setImmediate}catch(r){Qi=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}Qi(t)}((function(){ga()?ya(t):t()}))}catch(n){t(n)}}var ba=0,_a=!1;function xa(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function wa(e,t,n,r){return new xa(e,t,n,r)}function Sa(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ka(e,t){var n=e.alternate;return null===n?((n=wa(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ca(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Sa(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case d:return Ea(n.children,i,o,t);case w:a=8,i|=16;break;case f:a=8,i|=1;break;case h:return(e=wa(12,n,t,8|i)).elementType=h,e.type=h,e.lanes=o,e;case g:return(e=wa(13,n,t,i)).type=g,e.elementType=g,e.lanes=o,e;case y:return(e=wa(19,n,t,i)).elementType=y,e.lanes=o,e;case S:return Ta(n,i,o,t);case k:return(e=wa(24,n,t,i)).elementType=k,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:a=10;break e;case v:a=9;break e;case m:a=11;break e;case b:a=14;break e;case _:a=16,r=null;break e;case x:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=wa(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ea(e,t,n,r){return(e=wa(7,e,r,t)).lanes=n,e}function Ta(e,t,n,r){return(e=wa(23,e,r,t)).elementType=S,e.lanes=n,e}function Pa(e,t,n){return(e=wa(6,e,null,t)).lanes=n,e}function Ia(e,t,n){return(t=wa(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ra(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Y,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=_t(0),this.expirationTimes=_t(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_t(0),$&&(this.mutableSourceEagerHydrationData=null)}function Oa(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=L(t))?null:e.stateNode}function La(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Da(e,t){La(e,t),(e=e.alternate)&&La(e,t)}function Na(e){return null===(e=L(e))?null:e.stateNode}function Aa(){return null}return r.IsThisRendererActing=pa,r.act=function(e){function t(){ba--,to.current=n,pa.current=r}!1===_a&&(_a=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),ba++;var n=to.current,r=pa.current;to.current=!0,pa.current=!0;try{var i=Go(e)}catch(o){throw t(),o}if(null!==i&&"object"===typeof i&&"function"===typeof i.then)return{then:function(e,r){i.then((function(){1<ba||!0===ma&&!0===n?(t(),e()):ya((function(n){t(),n?r(n):e()}))}),(function(e){t(),r(e)}))}};try{1!==ba||!1!==ma&&!1!==n||ga(),t()}catch(o){throw t(),o}return{then:function(e){e()}}},r.attemptContinuousHydration=function(e){13===e.tag&&(Fo(e,67108864,Zo()),Da(e,67108864))},r.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Zo(),n=jo(e);Fo(e,n,t),Da(e,n)}},r.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.hydrate){var n=vt(t.pendingLanes);t.expiredLanes|=n&t.pendingLanes,Bo(t,Wt()),0===(48&no)&&(yo(),Yt())}break;case 13:var r=Zo();qo((function(){return Fo(e,1,r)})),Da(e,4)}},r.attemptUserBlockingHydration=function(e){13===e.tag&&(Fo(e,4,Zo()),Da(e,4))},r.batchedEventUpdates=function(e,t){var n=no;no|=2;try{return e(t)}finally{0===(no=n)&&(yo(),Yt())}},r.batchedUpdates=Go,r.createComponentSelector=function(e){return{$$typeof:zi,value:e}},r.createContainer=function(e,t,n){return e=new Ra(e,t,n),t=wa(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,pn(t),e},r.createHasPsuedoClassSelector=function(e){return{$$typeof:Bi,value:e}},r.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:c,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},r.createRoleSelector=function(e){return{$$typeof:Hi,value:e}},r.createTestNameSelector=function(e){return{$$typeof:Wi,value:e}},r.createTextSelector=function(e){return{$$typeof:Ui,value:e}},r.deferredUpdates=function(e){return qt(97,e)},r.discreteUpdates=function(e,t,n,r,i){var o=no;no|=4;try{return qt(98,e.bind(null,t,n,r,i))}finally{0===(no=o)&&(yo(),Yt())}},r.findAllNodes=Xi,r.findBoundingRects=function(e,t){if(!oe)throw Error(s(363));t=Xi(e,t),e=[];for(var n=0;n<t.length;n++)e.push(se(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,o=n.y,a=o+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,d=c+u.width,f=u.y,h=f+u.height;if(r>=c&&o>=f&&i<=d&&a<=h){e.splice(t,1);break}if(!(r!==c||n.width!==u.width||h<o||f>a)){f>o&&(u.height+=f-o,u.y=o),h<a&&(u.height=a-f),e.splice(t,1);break}if(!(o!==f||n.height!==u.height||d<r||c>i)){c>r&&(u.width+=c-r,u.x=r),d<i&&(u.width=i-c),e.splice(t,1);break}}return e},r.findHostInstance=Oa,r.findHostInstanceWithNoPortals=function(e){return null===(e=function(e){if(!(e=O(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},r.findHostInstanceWithWarning=function(e){return Oa(e)},r.flushControlled=function(e){var t=no;no|=1;try{qt(99,e)}finally{0===(no=t)&&(yo(),Yt())}},r.flushDiscreteUpdates=function(){0===(49&no)&&(function(){if(null!==Io){var e=Io;Io=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Bo(e,Wt())}))}Yt()}(),aa())},r.flushPassiveEffects=aa,r.flushSync=qo,r.focusWithin=function(e,t){if(!oe)throw Error(s(363));for(t=Ki(e=qi(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!ue(n)){if(5===n.tag&&de(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},r.getCurrentUpdateLanePriority=function(){return ht},r.getFindAllNodesFailureDescription=function(e,t){if(!oe)throw Error(s(363));var n=0,r=[];e=[qi(e),0];for(var i=0;i<e.length;){var o=e[i++],a=e[i++],l=t[a];if((5!==o.tag||!ue(o))&&(Vi(o,l)&&(r.push(Yi(l)),++a>n&&(n=a)),a<t.length))for(o=o.child;null!==o;)e.push(o,a),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Yi(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},r.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?A(e.child.stateNode):e.child.stateNode:null},r.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:Na,findFiberByHostInstance:e.findFiberByHostInstance||Aa,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.isDisabled&&t.supportsFiber)try{dt=t.inject(e),ft=t}catch(n){}e=!0}return e},r.observeVisibleRects=function(e,t,n,r){if(!oe)throw Error(s(363));e=Xi(e,t);var i=fe(e,n,r).disconnect;return{disconnect:function(){i()}}},r.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},r.runWithPriority=function(e,t){var n=ht;try{return ht=e,t()}finally{ht=n}},r.shouldSuspend=function(){return!1},r.unbatchedUpdates=function(e,t){var n=no;no&=-2,no|=8;try{return e(t)}finally{0===(no=n)&&(yo(),Yt())}},r.updateContainer=function(e,t,n,r){var i=t.current,o=Zo(),a=jo(i);e:if(n){t:{if(I(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(ot(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var u=n.type;if(ot(u)){n=lt(n,u,l);break e}}n=l}else n=et;return null===t.context?t.context=n:t.pendingContext=n,(t=mn(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),gn(i,t),Fo(i,a,o),a},r}},258:function(e,t,n){"use strict";e.exports=n(3721)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:a.current}}t.jsx=u,t.jsxs=u},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),u=d("react.memo"),c=d("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=y.prototype=new g;b.constructor=y,r(b,m.prototype),b.isPureReactComponent=!0;var _={current:null},x=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,r)&&!w.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:_.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=e),e=""===r?"."+E(l,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),T(a,t,n,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+E(s=e[u],u);l+=T(s,t,n,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=T(s=s.value,t,n,c=r+E(s,u++),a);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var R={current:null};function O(){var e=R.current;if(null===e)throw Error(h(321));return e}var L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(h(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!w.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new P(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return R()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?p:f,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",v={};function m(){}function g(){}function y(){}var b={};l(b,o,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(I([])));x&&x!==n&&r.call(x,o)&&(b=x);var w=y.prototype=m.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,o,a,s){var l=c(e[i],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function I(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:R}}function R(){return{value:t,done:!0}}return g.prototype=y,l(w,"constructor",y),l(y,"constructor",g),g.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(k.prototype),l(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),l(w,s,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,d=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(d,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,x=_.port2;_.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+y;try{m(!0,e)?x.postMessage(null):(v=!1,m=null)}catch(n){throw x.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,x.postMessage(null))},r=function(e,n){g=f((function(){e(t.unstable_now())}),n)},i=function(){h(g),g=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>C(a,n))void 0!==l&&0>C(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>C(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],T=[],P=1,I=null,R=3,O=!1,L=!1,D=!1;function N(e){for(var t=S(T);null!==t;){if(null===t.callback)k(T);else{if(!(t.startTime<=e))break;k(T),t.sortIndex=t.expirationTime,w(E,t)}t=S(T)}}function A(e){if(D=!1,N(e),!L)if(null!==S(E))L=!0,n(M);else{var t=S(T);null!==t&&r(A,t.startTime-e)}}function M(e,n){L=!1,D&&(D=!1,i()),O=!0;var o=R;try{for(N(n),I=S(E);null!==I&&(!(I.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=I.callback;if("function"===typeof a){I.callback=null,R=I.priorityLevel;var s=a(I.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?I.callback=s:I===S(E)&&k(E),N(n)}else k(E);I=S(E)}if(null!==I)var l=!0;else{var u=S(T);null!==u&&r(A,u.startTime-n),l=!1}return l}finally{I=null,R=o,O=!1}}var Z=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||O||(L=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return S(E)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=Z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:P++,callback:o,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,w(T,e),null===S(E)&&e===S(T)&&(D?i():D=!0,r(A,a-s))):(e.sortIndex=l,w(E,e),L||O||(L=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9388:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return o},mG:function(){return a},Jh:function(){return s},XA:function(){return l},CR:function(){return u},ev:function(){return c}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function l(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create},6189:function(e,t,n){var r=n(2791),i={image:void 0,status:"loading"};e.exports=function(e,t){var n=r.useState(i),o=n[0].image,a=n[0].status,s=n[1];return r.useEffect((function(){if(e){var n=document.createElement("img");return n.addEventListener("load",r),n.addEventListener("error",o),t&&(n.crossOrigin=t),n.src=e,function(){n.removeEventListener("load",r),n.removeEventListener("error",o),s(i)}}function r(){s({image:n,status:"loaded"})}function o(){s({image:void 0,status:"failed"})}}),[e,t]),[o,a]}},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},6274:function(e,t,n){"use strict";function r(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}n.d(t,{Z:function(){return r}})},9359:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=0;function i(e){return"__private_"+r+++"_"+e}},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},4578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},5987:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3366);function i(e,t){if(null==e)return{};var n,i,o=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3878);var i=n(181),o=n(5267);function a(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,i.Z)(e,t)||(0,o.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);var i=n(9199),o=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".036c16b4.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="client:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],l=r[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkclient=self.webpackChunkclient||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r={};!function(){"use strict";n.d(r,{Fs:function(){return ob},tO:function(){return sb}});var e={};n.r(e),n.d(e,{appendChild:function(){return Dg},appendChildToContainer:function(){return Ng},appendInitialChild:function(){return hg},cancelTimeout:function(){return Tg},clearContainer:function(){return qg},commitMount:function(){return zg},commitTextUpdate:function(){return Fg},commitUpdate:function(){return Bg},createInstance:function(){return pg},createTextInstance:function(){return vg},finalizeInitialChildren:function(){return mg},getChildHostContext:function(){return Cg},getPublicInstance:function(){return gg},getRootHostContext:function(){return kg},hideInstance:function(){return Hg},hideTextInstance:function(){return Wg},idlePriority:function(){return cg.unstable_IdlePriority},insertBefore:function(){return Ag},insertInContainerBefore:function(){return Mg},isPrimaryRenderer:function(){return Rg},noTimeout:function(){return Pg},now:function(){return cg.unstable_now},prepareForCommit:function(){return yg},preparePortalMount:function(){return bg},prepareUpdate:function(){return _g},removeChild:function(){return Zg},removeChildFromContainer:function(){return jg},resetAfterCommit:function(){return xg},resetTextContent:function(){return wg},run:function(){return cg.unstable_runWithPriority},scheduleTimeout:function(){return Eg},shouldDeprioritizeSubtree:function(){return Sg},shouldSetTextContent:function(){return Ig},supportsMutation:function(){return Lg},unhideInstance:function(){return Ug},unhideTextInstance:function(){return Gg},warnsIfNotActing:function(){return Og}});var t=n(2791),i=n(4164);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(5396),a=n.n(o),s=n(5637),l="8.10.1";s.Z.registerVersion("firebase",l,"app"),s.Z.SDK_VERSION=l;var u,c=n(9388),d=n(826),f=n(9971),h=n(348),p="0.4.32",v=1e4,m="w:0.4.32",g="FIS_v2",y=36e5,b=((u={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',u["not-registered"]="Firebase Installation is not registered.",u["installation-not-found"]="Firebase Installation not found.",u["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',u["app-offline"]="Could not process request. Application offline.",u["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",u),_=new f.LL("installations","Installations",b);function x(e){return e instanceof f.ZR&&e.code.includes("request-failed")}function w(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function S(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function k(e,t){return(0,c.mG)(this,void 0,void 0,(function(){var n,r;return(0,c.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,_.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function C(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function E(e,t){var n=t.refreshToken,r=C(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function T(e){return(0,c.mG)(this,void 0,void 0,(function(){var t;return(0,c.Jh)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function P(e,t){var n=t.fid;return(0,c.mG)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return(0,c.Jh)(this,(function(l){switch(l.label){case 0:return t=w(e),r=C(e),i={fid:n,authVersion:g,appId:e.appId,sdkVersion:m},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,T((function(){return fetch(t,o)}))];case 1:return(a=l.sent()).ok?[4,a.json()]:[3,3];case 2:return s=l.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:S(s.authToken)}];case 3:return[4,k("Create Installation",a)];case 4:throw l.sent()}}))}))}function I(e){return new Promise((function(t){setTimeout(t,e)}))}var R=/^[cdef][\w-]{21}$/;function O(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,(0,c.ev)([],(0,c.CR)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return R.test(t)?t:""}catch(u){return""}}function L(e){return e.appName+"!"+e.appId}var D=new Map;function N(e,t){var n=L(e);A(n,t),function(e,t){var n=Z();n&&n.postMessage({key:e,fid:t});j()}(n,t)}function A(e,t){var n,r,i=D.get(e);if(i)try{for(var o=(0,c.XA)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var M=null;function Z(){return!M&&"BroadcastChannel"in self&&((M=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){A(e.data.key,e.data.fid)}),M}function j(){0===D.size&&M&&(M.close(),M=null)}var F,z="firebase-installations-store",B=null;function H(){return B||(B=(0,h.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(z)}))),B}function W(e,t){return(0,c.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,c.Jh)(this,(function(s){switch(s.label){case 0:return n=L(e),[4,H()];case 1:return r=s.sent(),i=r.transaction(z,"readwrite"),[4,(o=i.objectStore(z)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||N(e,t.fid),[2,t]}}))}))}function U(e){return(0,c.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,c.Jh)(this,(function(i){switch(i.label){case 0:return t=L(e),[4,H()];case 1:return n=i.sent(),[4,(r=n.transaction(z,"readwrite")).objectStore(z).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function G(e,t){return(0,c.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,c.Jh)(this,(function(l){switch(l.label){case 0:return n=L(e),[4,H()];case 1:return r=l.sent(),i=r.transaction(z,"readwrite"),[4,(o=i.objectStore(z)).get(n)];case 2:return a=l.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return l.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:l.sent(),l.label=6;case 6:return[4,i.complete];case 7:return l.sent(),!s||a&&a.fid===s.fid||N(e,s.fid),[2,s]}}))}))}function q(e){return(0,c.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,c.Jh)(this,(function(i){switch(i.label){case 0:return[4,G(e,(function(n){var r=function(e){return K(e||{fid:O(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(_.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return(0,c.mG)(this,void 0,void 0,(function(){var n,r;return(0,c.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,P(e,t)];case 1:return n=i.sent(),[2,W(e,n)];case 2:return x(r=i.sent())&&409===r.customData.serverCode?[4,U(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,W(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:V(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function V(e){return(0,c.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,c.Jh)(this,(function(o){switch(o.label){case 0:return[4,Y(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,I(100)];case 3:return o.sent(),[4,Y(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,q(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function Y(e){return G(e,(function(e){if(!e)throw _.create("installation-not-found");return K(e)}))}function K(e){return 1===(t=e).registrationStatus&&t.registrationTime+v<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function X(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,c.mG)(this,void 0,void 0,(function(){var e,i,o,a,s,l,u;return(0,c.Jh)(this,(function(c){switch(c.label){case 0:return e=function(e,t){var n=t.fid;return w(e)+"/"+n+"/authTokens:generate"}(n,t),i=E(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:m}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,T((function(){return fetch(e,s)}))];case 1:return(l=c.sent()).ok?[4,l.json()]:[3,3];case 2:return u=c.sent(),[2,S(u)];case 3:return[4,k("Generate Auth Token",l)];case 4:throw c.sent()}}))}))}function Q(e,t){return void 0===t&&(t=!1),(0,c.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,c.Jh)(this,(function(o){switch(o.label){case 0:return[4,G(e.appConfig,(function(r){if(!J(r))throw _.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+y}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return(0,c.mG)(this,void 0,void 0,(function(){var n,r;return(0,c.Jh)(this,(function(i){switch(i.label){case 0:return[4,$(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,I(100)];case 3:return i.sent(),[4,$(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Q(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw _.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,c.pi)((0,c.pi)({},e),{authToken:t})}(r);return n=function(e,t){return(0,c.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,c.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,X(e,t)];case 1:return n=o.sent(),i=(0,c.pi)((0,c.pi)({},t),{authToken:n}),[4,W(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!x(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,U(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,c.pi)((0,c.pi)({},t),{authToken:{requestStatus:0}}),[4,W(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function $(e){return G(e,(function(e){if(!J(e))throw _.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+v<Date.now()?(0,c.pi)((0,c.pi)({},e),{authToken:{requestStatus:0}}):e}))}function J(e){return void 0!==e&&2===e.registrationStatus}function ee(e){return(0,c.mG)(this,void 0,void 0,(function(){var t;return(0,c.Jh)(this,(function(n){switch(n.label){case 0:return[4,q(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function te(e,t){return(0,c.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,c.Jh)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return w(e)+"/"+n}(e,t),r=E(e,t),i={method:"DELETE",headers:r},[4,T((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,k("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function ne(e,t){var n=e.appConfig;return function(e,t){Z();var n=L(e),r=D.get(n);r||(r=new Set,D.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=L(e),r=D.get(n);r&&(r.delete(t),0===r.size&&D.delete(n),j())}(n,t)}}function re(e){return _.create("missing-app-config-values",{valueName:e})}(F=s.Z).INTERNAL.registerComponent(new d.wA("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw re("App Configuration");if(!e.name)throw re("App Name");try{for(var r=(0,c.XA)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw re(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},i={app:t,getId:function(){return function(e){return(0,c.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,c.Jh)(this,(function(i){switch(i.label){case 0:return[4,q(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):Q(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,c.mG)(this,void 0,void 0,(function(){return(0,c.Jh)(this,(function(n){switch(n.label){case 0:return[4,ee(e.appConfig)];case 1:return n.sent(),[4,Q(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return(0,c.mG)(this,void 0,void 0,(function(){var t,n;return(0,c.Jh)(this,(function(r){switch(r.label){case 0:return[4,G(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw _.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw _.create("app-offline");case 3:return[4,te(t,n)];case 4:return r.sent(),[4,U(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return ne(r,e)}};return i}),"PUBLIC")),F.registerVersion("@firebase/installations",p);var ie,oe,ae=n(9386),se="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(ie||(ie={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(oe||(oe={}));var le,ue=new ae.Yd("@firebase/analytics");function ce(e,t,n,r,i,o){return(0,c.mG)(this,void 0,void 0,(function(){var a,s,l,u;return(0,c.Jh)(this,(function(c){switch(c.label){case 0:a=r[i],c.label=1;case 1:return c.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return c.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=c.sent(),l=s.find((function(e){return e.measurementId===i})),l?[4,t[l.appId]]:[3,6];case 5:c.sent(),c.label=6;case 6:return[3,8];case 7:return u=c.sent(),ue.error(u),[3,8];case 8:return e(ie.CONFIG,i,o),[2]}}))}))}function de(e,t,n,r,i){return(0,c.mG)(this,void 0,void 0,(function(){var o,a,s,l,u,d,f,h;return(0,c.Jh)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=c.sent(),l=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},u=0,d=a;u<d.length&&(f=d[u],"break"!==l(f));u++);c.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return c.sent(),e(ie.EVENT,r,i||{}),[3,5];case 4:return h=c.sent(),ue.error(h),[3,5];case 5:return[2]}}))}))}function fe(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return(0,c.mG)(this,void 0,void 0,(function(){var s;return(0,c.Jh)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,6,,7]),i!==ie.EVENT?[3,2]:[4,de(e,t,n,o,a)];case 1:return l.sent(),[3,5];case 2:return i!==ie.CONFIG?[3,4]:[4,ce(e,t,n,r,o,a)];case 3:return l.sent(),[3,5];case 4:e(ie.SET,o),l.label=5;case 5:return[3,7];case 6:return s=l.sent(),ue.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var he=((le={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",le["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",le["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",le["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",le["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",le["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",le["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",le["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',le["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',le),pe=new f.LL("analytics","Analytics",he),ve=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function me(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function ge(e){var t;return(0,c.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,l;return(0,c.Jh)(this,(function(u){switch(u.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:me(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=u.sent()).status||304===a.status)return[3,6];s="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,a.json()];case 3:return l=u.sent(),(null===(t=l.error)||void 0===t?void 0:t.message)&&(s=l.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw pe.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function ye(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=ve),(0,c.mG)(this,void 0,void 0,(function(){var t,a,s,l,u,d,h;return(0,c.Jh)(this,(function(c){switch(c.label){case 0:t=e.appId,a=e.measurementId,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,be(n,i)];case 2:return c.sent(),[3,4];case 3:if(s=c.sent(),a)return ue.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return c.trys.push([4,6,,7]),[4,ge(e)];case 5:return l=c.sent(),r.deleteThrottleMetadata(t),[2,l];case 6:if(!function(e){if(!(e instanceof f.ZR)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(u=c.sent())){if(r.deleteThrottleMetadata(t),a)return ue.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:t,measurementId:a}];throw u}return d=503===Number(u.customData.httpStatus)?(0,f.$s)(o,r.intervalMillis,30):(0,f.$s)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:o+1},r.setThrottleMetadata(t,h),ue.debug("Calling attemptFetch again in "+d+" millis"),[2,ye(e,h,n,r)];case 7:return[2]}}))}))}function be(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(pe.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var _e=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function xe(e,t,n,r,i,o){return(0,c.mG)(this,void 0,void 0,(function(){var a,s,l,u,d,h,p;return(0,c.Jh)(this,(function(v){switch(v.label){case 0:return a=function(e,t,n){return void 0===t&&(t=ve),(0,c.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,l,u=this;return(0,c.Jh)(this,(function(d){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw pe.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw pe.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new _e,setTimeout((function(){return(0,c.mG)(u,void 0,void 0,(function(){return(0,c.Jh)(this,(function(e){return l.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,ye({appId:i,apiKey:o,measurementId:a},s,l,t)]}))}))}(e),a.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&ue.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return ue.error(e)})),t.push(a),s=function(){return(0,c.mG)(this,void 0,void 0,(function(){var e;return(0,c.Jh)(this,(function(t){switch(t.label){case 0:return(0,f.hl)()?[3,1]:(ue.warn(pe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,f.eu)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),ue.warn(pe.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return l=v.sent(),u=l[0],d=l[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(se))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=se+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,u.measurementId),i("js",new Date),(p={}).origin="firebase",p.update=!0,h=p,null!=d&&(h.firebase_id=d),i(ie.CONFIG,u.measurementId,h),[2,u.measurementId]}}))}))}var we,Se,ke={},Ce=[],Ee={},Te="dataLayer",Pe="gtag",Ie=!1;function Re(e){if(Ie)throw pe.create("already-initialized");e.dataLayerName&&(Te=e.dataLayerName),e.gtagName&&(Pe=e.gtagName)}function Oe(e,t){!function(){var e=[];if((0,f.ru)()&&e.push("This is a browser extension environment."),(0,f.zI)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=pe.create("invalid-analytics-context",{errorInfo:t});ue.warn(n.message)}}();var n=e.options.appId;if(!n)throw pe.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw pe.create("no-api-key");ue.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ke[n])throw pe.create("already-exists",{id:n});if(!Ie){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Te);var r=fe(ke,Ce,Ee,Te,Pe),i=r.wrappedGtag,o=r.gtagCore;Se=i,we=o,Ie=!0}ke[n]=xe(e,Ce,Ee,t,we,Te);var a={app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return(0,c.mG)(this,void 0,void 0,(function(){var o,a;return(0,c.Jh)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(ie.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=(0,c.pi)((0,c.pi)({},r),{send_to:o}),e(ie.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(Se,ke[n],e,t,r).catch((function(e){return ue.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,c.mG)(this,void 0,void 0,(function(){var i;return(0,c.Jh)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(ie.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(ie.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(Se,ke[n],e,t).catch((function(e){return ue.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return(0,c.mG)(this,void 0,void 0,(function(){var i;return(0,c.Jh)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(ie.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(ie.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(Se,ke[n],e,t).catch((function(e){return ue.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return(0,c.mG)(this,void 0,void 0,(function(){var i,o,a,s,l;return(0,c.Jh)(this,(function(u){switch(u.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(ie.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:l=u.sent(),e(ie.CONFIG,l,{update:!0,user_properties:n}),u.label=3;case 3:return[2]}}))}))})(Se,ke[n],e,t).catch((function(e){return ue.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,c.mG)(this,void 0,void 0,(function(){var n;return(0,c.Jh)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(ke[n],e).catch((function(e){return ue.error(e)}))},INTERNAL:{delete:function(){return delete ke[n],Promise.resolve()}}};return a}var Le="analytics";function De(){return(0,c.mG)(this,void 0,void 0,(function(){return(0,c.Jh)(this,(function(e){switch(e.label){case 0:if((0,f.ru)())return[2,!1];if(!(0,f.zI)())return[2,!1];if(!(0,f.hl)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,f.eu)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new d.wA(Le,(function(e){return Oe(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Re,EventName:oe,isSupported:De})),e.INTERNAL.registerComponent(new d.wA("analytics-internal",(function(e){try{return{logEvent:e.getProvider(Le).getImmediate().logEvent}}catch(t){throw pe.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.18")}(s.Z);n(6895);var Ne="firebasestorage.googleapis.com",Ae=function(e){function t(n,r){var i=e.call(this,Me(n),"Firebase Storage: "+r+" ("+Me(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,c.ZT)(t,e),t.prototype._codeEquals=function(e){return Me(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(f.ZR);function Me(e){return"storage/"+e}function Ze(){return new Ae("unknown","An unknown error occurred, please check the error payload for server response.")}function je(){return new Ae("canceled","User canceled the upload/download.")}function Fe(){return new Ae("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ze(e){return new Ae("invalid-argument",e)}function Be(){return new Ae("app-deleted","The Firebase app was deleted.")}function He(e){return new Ae("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function We(e,t){return new Ae("invalid-format","String does not match format '"+e+"': "+t)}function Ue(e){throw new Ae("internal-error","Internal error: "+e)}var Ge={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},qe=function(e,t){this.data=e,this.contentType=t||null};function Ve(e,t){switch(e){case Ge.RAW:return new qe(Ye(t));case Ge.BASE64:case Ge.BASE64URL:return new qe(Ke(e,t));case Ge.DATA_URL:return new qe(function(e){var t=new Xe(e);return t.base64?Ke(Ge.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw We(Ge.DATA_URL,"Malformed data URL.")}return Ye(t)}(t.rest)}(t),new Xe(t).contentType)}throw Ze()}function Ye(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Ke(e,t){switch(e){case Ge.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw We(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Ge.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw We(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(u){throw We(e,"Invalid character found")}for(var s=new Uint8Array(a.length),l=0;l<a.length;l++)s[l]=a.charCodeAt(l);return s}var Xe=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw We(Ge.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var Qe,$e={STATE_CHANGED:"state_changed"},Je={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function et(e){switch(e){case"running":case"pausing":case"canceling":return Je.RUNNING;case"paused":return Je.PAUSED;case"success":return Je.SUCCESS;case"canceled":return Je.CANCELED;default:return Je.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Qe||(Qe={}));var tt=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Qe.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=Qe.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=Qe.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw Ue("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Ue("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Ue("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Ue("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var nt=function(){function e(){}return e.prototype.createConnection=function(){return new tt},e}(),rt=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new Ae("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),l=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===Ne?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],u=0;u<l.length;u++){var c=l[u],d=c.regex.exec(t);if(d){var f=d[c.indices.bucket],h=d[c.indices.path];h||(h=""),r=new e(f,h),c.postModify(r);break}}if(null==r)throw function(e){return new Ae("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),it=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function ot(e){return"string"===typeof e||e instanceof String}function at(e){return st()&&e instanceof Blob}function st(){return"undefined"!==typeof Blob}function lt(e,t,n,r){if(r<t)throw ze("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw ze("Invalid value for '"+e+"'. Expected "+n+" or less.")}function ut(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function ct(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var dt=function(){function e(e,t,n,r,i,o,a,s,l,u,c){var d=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=u,this.timeout_=l,this.pool_=c,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(l){o(l)}else null!==a?((r=Ze()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?Be():je()):o(r=new Ae("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new ft(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var l=!1;function u(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];l||(l=!0,t.apply(null,e))}function d(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!l)if(e)u.call.apply(u,(0,c.ev)([null,e],t));else{var i;s()||o?u.call.apply(u,(0,c.ev)([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),d(i))}}var h=!1;function p(e){h||(h=!0,l||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),setTimeout((function(){o=!0,p(!0)}),n),p}((function(t,n){if(n)t(!1,new ft(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Qe.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new ft(a,r))}else{var s=r.getErrorCode()===Qe.ABORT;t(!1,new ft(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),ft=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function ht(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function pt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ht();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(st())return new Blob(e);throw new Ae("unsupported-environment","This browser doesn't seem to support creating Blobs")}var vt=function(){function e(e,t){var n=0,r="";at(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(at(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(st()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(pt.apply(null,r))}var i=t.map((function(e){return ot(e)?Ve(Ge.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function mt(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t}function gt(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function yt(e,t){return t}var bt=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||yt},_t=null;function xt(){if(_t)return _t;var e=[];e.push(new bt("bucket")),e.push(new bt("generation")),e.push(new bt("metageneration")),e.push(new bt("name","fullPath",!0));var t=new bt("name");t.xform=function(e,t){return function(e){return!ot(e)||e.length<2?e:gt(e)}(t)},e.push(t);var n=new bt("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new bt("timeCreated")),e.push(new bt("updated")),e.push(new bt("md5Hash",null,!0)),e.push(new bt("cacheControl",null,!0)),e.push(new bt("contentDisposition",null,!0)),e.push(new bt("contentEncoding",null,!0)),e.push(new bt("contentLanguage",null,!0)),e.push(new bt("contentType",null,!0)),e.push(new bt("metadata","customMetadata",!0)),_t=e}function wt(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new rt(n,r);return t._makeStorageReference(i)}})}(r,e),r}function St(e,t,n){var r=mt(t);return null===r?null:wt(e,r,n)}function kt(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function Ct(e,t,n){var r=mt(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new rt(t,a));r.prefixes.push(s)}if(n.items)for(var l=0,u=n.items;l<u.length;l++){var c=u[l];s=e._makeStorageReference(new rt(t,c.name)),r.items.push(s)}return r}(e,t,r)}var Et=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Tt(e){if(!e)throw Ze()}function Pt(e,t){return function(n,r){var i=St(e,r,t);return Tt(null!==i),i}}function It(e,t){return function(n,r){var i=St(e,r,t);return Tt(null!==i),function(e,t,n){var r=mt(t);if(null===r)return null;if(!ot(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return ut("/b/"+o(r)+"/o/"+o(i),n)+ct({alt:"media",token:t})}))[0]}(i,r,e.host)}}function Rt(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Ae("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Ae("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Ae("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Ae("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Ot(e){var t=Rt(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Ae("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Lt(e,t,n){var r=ut(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Et(r,"GET",Pt(e,n),i);return o.errorHandler=Ot(t),o}function Dt(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=ut(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,l=new Et(a,"GET",function(e,t){return function(n,r){var i=Ct(e,t,r);return Tt(null!==i),i}}(e,t.bucket),s);return l.urlParams=o,l.errorHandler=Rt(t),l}function Nt(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var At=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Mt(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Tt(!1)}return Tt(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Zt=262144;function jt(e,t,n,r,i,o,a,s){var l=new At(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new Ae("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=l.total-l.current,c=u;i>0&&(c=Math.min(c,i));var d=l.current,f=d+c,h={"X-Goog-Upload-Command":c===u?"upload, finalize":"upload","X-Goog-Upload-Offset":""+l.current},p=r.slice(d,f);if(null===p)throw Fe();var v=t.maxUploadRetryTime,m=new Et(n,"POST",(function(e,n){var i,a=Mt(e,["active","final"]),s=l.current+c,u=r.size();return i="final"===a?Pt(t,o)(e,n):null,new At(s,u,"final"===a,i)}),v);return m.headers=h,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=Rt(e),m}var Ft=function(e,t,n){if("function"===typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function zt(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Bt=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=xt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Nt(t,r,i),s={name:a.fullPath},l=ut(o,e.host),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},c=kt(a,n),d=e.maxUploadRetryTime,f=new Et(l,"POST",(function(e){var t;Mt(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Tt(!1)}return Tt(ot(t)),t}),d);return f.urlParams=s,f.headers=u,f.body=c,f.errorHandler=Rt(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new Et(n,"POST",(function(e){var t=Mt(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Tt(!1)}n||Tt(!1);var i=Number(n);return Tt(!isNaN(i)),new At(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Rt(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=Zt*this._chunkMultiplier,n=new At(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=jt(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(l){return e._error=l,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){Zt*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=Lt(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var l=Nt(t,r,i),u="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+kt(l,n)+"\r\n--"+s+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",c="\r\n--"+s+"--",d=vt.getBlob(u,r,c);if(null===d)throw Fe();var f={name:l.fullPath},h=ut(o,e.host),p=e.maxUploadRetryTime,v=new Et(h,"POST",Pt(e,n),p);return v.urlParams=f,v.headers=a,v.body=d.uploadData(),v.errorHandler=Rt(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=je(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=et(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new Ft(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(et(this._state)){case Je.SUCCESS:zt(this._resolve.bind(null,this.snapshot))();break;case Je.CANCELED:case Je.ERROR:zt(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(et(this._state)){case Je.RUNNING:case Je.PAUSED:e.next&&zt(e.next.bind(e,this.snapshot))();break;case Je.SUCCESS:e.complete&&zt(e.complete.bind(e))();break;default:e.error&&zt(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),Ht=function(){function e(e,t){this._service=e,this._location=t instanceof rt?t:rt.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new rt(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return gt(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new rt(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw He(e)},e}();function Wt(e){var t={prefixes:[],items:[]};return Ut(e,t).then((function(){return t}))}function Ut(e,t,n){return(0,c.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,c.Jh)(this,(function(a){switch(a.label){case 0:return[4,Gt(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Ut(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Gt(e,t){return(0,c.mG)(this,void 0,void 0,(function(){var n,r;return(0,c.Jh)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&lt("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Dt(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function qt(e,t){return(0,c.mG)(this,void 0,void 0,(function(){var n;return(0,c.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=ut(t.fullServerUrl(),e.host),o=kt(n,r),a=e.maxOperationRetryTime,s=new Et(i,"PATCH",Pt(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Ot(t),s}(e.storage,e._location,t,xt()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function Vt(e){return(0,c.mG)(this,void 0,void 0,(function(){var t;return(0,c.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=ut(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Et(r,"GET",It(e,n),i);return o.errorHandler=Ot(t),o}(e.storage,e._location,xt()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new Ae("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Yt(e){return(0,c.mG)(this,void 0,void 0,(function(){var t;return(0,c.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=ut(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new Et(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Ot(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function Kt(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new rt(e._location.bucket,n);return new Ht(e.storage,r)}function Xt(e){return/^[A-Za-z]+:\/\//.test(e)}function Qt(e,t){if(e instanceof en){var n=e;if(null==n._bucket)throw new Ae("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Ht(n,n._bucket);return null!=t?Qt(r,t):r}return void 0!==t?Kt(e,t):e}function $t(e,t){if(t&&Xt(t)){if(e instanceof en)return new Ht(e,t);throw ze("To use ref(service, url), the first argument must be a Storage instance.")}return Qt(e,t)}function Jt(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:rt.makeFromBucketSpec(n,e)}var en=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Ne,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?rt.makeFromBucketSpec(i,this._host):Jt(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=rt.makeFromBucketSpec(this._url,e):this._bucket=Jt(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){lt("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){lt("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,c.mG)(this,void 0,void 0,(function(){var e,t;return(0,c.Jh)(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return(0,c.mG)(this,void 0,void 0,(function(){var e;return(0,c.Jh)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new Ht(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new it(Be());var i=function(e,t,n,r,i,o){var a=ct(e.urlParams),s=e.url+a,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new dt(s,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return(0,c.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,c.Jh)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function tn(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Bt(e,new vt(t),n)}(e=(0,f.m9)(e),t,n)}function nn(e){return function(e){return(0,c.mG)(this,void 0,void 0,(function(){var t;return(0,c.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Lt(e.storage,e._location,xt()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,f.m9)(e))}function rn(e,t){return $t(e=(0,f.m9)(e),t)}function on(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:(0,f.Sg)(i,e.app.options.projectId))}(e,t,n,r)}var an=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),sn=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new an(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new an(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new an(e,i,i._ref))}:{next:t.next?function(e){return t.next(new an(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),ln=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new un(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new un(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),un=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return Kt(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new sn(tn(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=Ge.RAW),this._throwIfRoot("putString");var r=Ve(t,e),i=(0,c.pi)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new sn(new Bt(this._delegate,new vt(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return Wt(e=(0,f.m9)(e))}(this._delegate).then((function(t){return new ln(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return Gt(e=(0,f.m9)(e),t)}(this._delegate,e||void 0).then((function(e){return new ln(e,t.storage)}))},e.prototype.getMetadata=function(){return nn(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return qt(e=(0,f.m9)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return Vt(e=(0,f.m9)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return Yt(e=(0,f.m9)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw He(e)},e}(),cn=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(Xt(e))throw ze("ref() expected a child path but got a URL, use refFromURL instead.");return new un(rn(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!Xt(e))throw ze("refFromURL() expected a full URL but got a child path, use ref() instead.");try{rt.makeFromUrl(e,this._delegate.host)}catch(t){throw ze("refFromUrl() expected a valid full URL but got an invalid one.")}return new un(rn(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),on(this._delegate,e,t,n)},e}();function dn(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new cn(r,new en(r,i,o,new nt,n,s.Z.SDK_VERSION))}!function(e){var t={TaskState:Je,TaskEvent:$e,StringFormat:Ge,Storage:en,Reference:un};e.INTERNAL.registerComponent(new d.wA("storage",dn,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.1")}(s.Z);var fn=n(9439);function hn(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function pn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){hn(o,r,i,a,s,"next",e)}function s(e){hn(o,r,i,a,s,"throw",e)}a(void 0)}))}}var vn=n(7757),mn=n.n(vn),gn=n(5671),yn=n(3144),bn=n(3076),_n=function(){function e(t){(0,gn.Z)(this,e),this.cache=new bn({stdTTL:t,checkperiod:.2*t,useClones:!1})}return(0,yn.Z)(e,[{key:"set",value:function(e,t){this.cache.get(e)||this.cache.set(e,t)}},{key:"get",value:function(e,t){var n=this,r=this.cache.get(e);return r?Promise.resolve(r):t().then((function(t){return n.cache.set(e,t),t}))}},{key:"wait",value:function(e){var t=this,n=this.cache.get(e);return n?Promise.resolve(n):new Promise((function(n,r){!function t(r,i){return function(){var o=i.get(e);if(void 0!==o||r>120)return n(o);setTimeout(t(++r,i),100)}}(0,t.cache)()}))}},{key:"del",value:function(e){this.cache.del(e)}},{key:"flush",value:function(){this.cache.flushAll()}}]),e}(),xn={POINTER_PREFIX:"p:",ESCAPED_PREFIX:"e:"},wn=Object.values(xn),Sn={toPointer:function(e){return xn.POINTER_PREFIX+e.toString(36)},toEscaped:function(e){return wn.some((function(t){return e.startsWith(t)}))?xn.ESCAPED_PREFIX+e:e},fromEscaped:function(e){return e.startsWith(xn.ESCAPED_PREFIX)?e.slice(xn.ESCAPED_PREFIX.length):e},fromPointer:function(e){return e.slice(xn.POINTER_PREFIX.length)},isPointer:function(e){return e.startsWith(xn.POINTER_PREFIX)}};function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(n,!0).forEach((function(t){En(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tn(e){return Tn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tn(e)}function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reservedKeys,r=void 0===n?[]:n,i=t.reservedValues,o=void 0===i?[]:i,a=4,s=512,l={},u={},c=[],d=[],f={},h=function(e){if(e in l)return l[e];var t=d.length.toString(36);return l[e]=t,d.push(e),t};r.forEach((function(e){return h(e)}));var p=function(e,t){if(a<=e.length&&e.length<=s&&e in u){if(u[e].shared)return u[e].pointer;var n=c.length;c.push(e);var r=Sn.toPointer(n);return u[e].pointer=r,u[e].shared=!0,r}return u[e]={keyPath:t,shared:!1,pointer:null},Sn.toEscaped(e)};o.forEach((function(e){return p(e)}));for(var v=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.keyPath,i=void 0===r?"":r;if(Array.isArray(t)){var o=t.map((function(t,n){return e(t,{keyPath:[i,n].join("/")})}));return f[i]=o,o}if(null===t)return null;var a=Tn(t);switch(a){case"function":return null;case"object":if(t instanceof Date)return t.toJSON();for(var s={},l=Object.keys(t),u=0,c=l;u<c.length;u++){var d=c[u],v=t[d],m=h(d);s[m]=e(v,{keyPath:[i,m].join("/")})}return f[i]=s,s;case"string":return p(t,i);default:return t}},m=v(e),g=0,y=Object.values(u);g<y.length;g++){var b=y[g],_=b.pointer,x=b.shared,w=b.keyPath;if(x&&w){var S=w.split("/"),k=S.pop(),C=f[S.join("/")];C[k]=_}}var E=d.slice(r.length),T=c.slice(o.length);return Cn({},E.length>0?{K:E}:{},{},T.length>0?{P:T}:{},{_:m})}Pn.toString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Pn(e,t);return JSON.stringify(n)};var In=Pn;function Rn(e){return Rn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(e)}function On(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ln=36;function Dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reservedKeys,r=void 0===n?[]:n,i=t.reservedValues,o=void 0===i?[]:i;if(!e)return null;var a=e.K,s=void 0===a?[]:a,l=e.P,u=void 0===l?[]:l,c=e._,d=[].concat(On(r),On(s)),f=[].concat(On(o),On(u)),h=function(e){if(Sn.isPointer(e)){var t=parseInt(Sn.fromPointer(e),Ln);return f[t]}return Sn.fromEscaped(e)},p=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.keyPath,i=void 0===r?"":r;if(Array.isArray(t))return t.map((function(t,n){return e(t,{keyPath:[i,n].join("/")})}));if(null===t)return null;switch(Rn(t)){case"undefined":return;case"function":return null;case"object":for(var o={},a=Object.keys(t),s=0,l=a;s<l.length;s++){var u=l[s],c=t[u],f=d[parseInt(u,Ln)];o[f]=e(c,{keyPath:[i,u].join("/")})}return o;case"string":return h(t,i);default:return t}};return p(c)}Dn.fromString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Dn(JSON.parse(e),t)};var Nn=Dn;var An=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.reservedKeys,n=void 0===t?[]:t,r=e.reservedValues,i=void 0===r?[]:r,o=function(e){return In(e,{reservedKeys:n,reservedValues:i})};o.toString=function(e){return JSON.stringify(o(e))};var a=function(e){return Nn(e,{reservedKeys:n,reservedValues:i})};return a.fromString=function(e){return a(JSON.parse(e))},{compress:o,decompress:a}},Mn={bind:An,compress:In,decompress:Nn},Zn=n(1413),jn=n(4942),Fn=n(7462),zn=n(3401),Bn=n(663);var Hn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,zn.Z)(e,(0,Fn.Z)({defaultTheme:Bn.Z},t))},Wn=n(5987),Un=n(8182),Gn=n(8444),qn=n(794),Vn=n(4667),Yn=n(1565),Kn=n(9806);var Xn="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,Qn=t.forwardRef((function(e,n){var r=e.children,o=e.container,a=e.disablePortal,s=void 0!==a&&a,l=e.onRendered,u=t.useState(null),c=u[0],d=u[1],f=(0,Kn.Z)(t.isValidElement(r)?r.ref:null,n);return Xn((function(){s||d(function(e){return e="function"===typeof e?e():e,i.findDOMNode(e)}(o)||document.body)}),[o,s]),Xn((function(){if(c&&!s)return(0,Yn.Z)(n,c),function(){(0,Yn.Z)(n,null)}}),[n,c,s]),Xn((function(){l&&(c||s)&&l()}),[l,c,s]),s?t.isValidElement(r)?t.cloneElement(r,{ref:f}):r:c?i.createPortal(r,c):c}));var $n=Qn,Jn=n(7545),er=n(2216),tr=n(9535),nr=n(3433);function rr(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}var ir=n(7636);function or(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function ar(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function sr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[t,n].concat((0,nr.Z)(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===o.indexOf(e)&&-1===a.indexOf(e.tagName)&&or(e,i)}))}function lr(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function ur(e,t){var n,r=[],i=[],o=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,Vn.Z)(e);return t.body===e?(0,ir.Z)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(o)){var a=rr();r.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat(ar(o)+a,"px"),n=(0,Vn.Z)(o).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(ar(e)+a,"px")}))}var s=o.parentElement,l="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:o;r.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var cr=function(){function e(){(0,gn.Z)(this,e),this.modals=[],this.containers=[]}return(0,yn.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&or(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);sr(t,e.mountNode,e.modalRef,r,!0);var i=lr(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=lr(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=ur(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=lr(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&or(e.modalRef,!0),sr(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&or(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var dr=function(e){var n=e.children,r=e.disableAutoFocus,o=void 0!==r&&r,a=e.disableEnforceFocus,s=void 0!==a&&a,l=e.disableRestoreFocus,u=void 0!==l&&l,c=e.getDoc,d=e.isEnabled,f=e.open,h=t.useRef(),p=t.useRef(null),v=t.useRef(null),m=t.useRef(),g=t.useRef(null),y=t.useCallback((function(e){g.current=i.findDOMNode(e)}),[]),b=(0,Kn.Z)(n.ref,y),_=t.useRef();return t.useEffect((function(){_.current=f}),[f]),!_.current&&f&&"undefined"!==typeof window&&(m.current=c().activeElement),t.useEffect((function(){if(f){var e=(0,Vn.Z)(g.current);o||!g.current||g.current.contains(e.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex",-1),g.current.focus());var t=function(){null!==g.current&&(e.hasFocus()&&!s&&d()&&!h.current?g.current&&!g.current.contains(e.activeElement)&&g.current.focus():h.current=!1)},n=function(t){!s&&d()&&9===t.keyCode&&e.activeElement===g.current&&(h.current=!0,t.shiftKey?v.current.focus():p.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var r=setInterval((function(){t()}),50);return function(){clearInterval(r),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),u||(m.current&&m.current.focus&&m.current.focus(),m.current=null)}}}),[o,s,u,d,f]),t.createElement(t.Fragment,null,t.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelStart"}),t.cloneElement(n,{ref:b}),t.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelEnd"}))},fr={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},hr=t.forwardRef((function(e,n){var r=e.invisible,i=void 0!==r&&r,o=e.open,a=(0,Wn.Z)(e,["invisible","open"]);return o?t.createElement("div",(0,Fn.Z)({"aria-hidden":!0,ref:n},a,{style:(0,Fn.Z)({},fr.root,i?fr.invisible:{},a.style)})):null})),pr=hr;var vr=new cr,mr=t.forwardRef((function(e,n){var r=(0,Gn.Z)(),o=(0,qn.Z)({name:"MuiModal",props:(0,Fn.Z)({},e),theme:r}),a=o.BackdropComponent,s=void 0===a?pr:a,l=o.BackdropProps,u=o.children,c=o.closeAfterTransition,d=void 0!==c&&c,f=o.container,h=o.disableAutoFocus,p=void 0!==h&&h,v=o.disableBackdropClick,m=void 0!==v&&v,g=o.disableEnforceFocus,y=void 0!==g&&g,b=o.disableEscapeKeyDown,_=void 0!==b&&b,x=o.disablePortal,w=void 0!==x&&x,S=o.disableRestoreFocus,k=void 0!==S&&S,C=o.disableScrollLock,E=void 0!==C&&C,T=o.hideBackdrop,P=void 0!==T&&T,I=o.keepMounted,R=void 0!==I&&I,O=o.manager,L=void 0===O?vr:O,D=o.onBackdropClick,N=o.onClose,A=o.onEscapeKeyDown,M=o.onRendered,Z=o.open,j=(0,Wn.Z)(o,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),F=t.useState(!0),z=F[0],B=F[1],H=t.useRef({}),W=t.useRef(null),U=t.useRef(null),G=(0,Kn.Z)(U,n),q=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(o),V=function(){return(0,Vn.Z)(W.current)},Y=function(){return H.current.modalRef=U.current,H.current.mountNode=W.current,H.current},K=function(){L.mount(Y(),{disableScrollLock:E}),U.current.scrollTop=0},X=(0,er.Z)((function(){var e=function(e){return e="function"===typeof e?e():e,i.findDOMNode(e)}(f)||V().body;L.add(Y(),e),U.current&&K()})),Q=t.useCallback((function(){return L.isTopModal(Y())}),[L]),$=(0,er.Z)((function(e){W.current=e,e&&(M&&M(),Z&&Q()?K():or(U.current,!0))})),J=t.useCallback((function(){L.remove(Y())}),[L]);if(t.useEffect((function(){return function(){J()}}),[J]),t.useEffect((function(){Z?X():q&&d||J()}),[Z,J,q,d,X]),!R&&!Z&&(!q||z))return null;var ee=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(r||{zIndex:tr.Z}),te={};return void 0===u.props.tabIndex&&(te.tabIndex=u.props.tabIndex||"-1"),q&&(te.onEnter=(0,Jn.Z)((function(){B(!1)}),u.props.onEnter),te.onExited=(0,Jn.Z)((function(){B(!0),d&&J()}),u.props.onExited)),t.createElement($n,{ref:$,container:f,disablePortal:w},t.createElement("div",(0,Fn.Z)({ref:G,onKeyDown:function(e){"Escape"===e.key&&Q()&&(A&&A(e),_||(e.stopPropagation(),N&&N(e,"escapeKeyDown")))},role:"presentation"},j,{style:(0,Fn.Z)({},ee.root,!Z&&z?ee.hidden:{},j.style)}),P?null:t.createElement(s,(0,Fn.Z)({open:Z,onClick:function(e){e.target===e.currentTarget&&(D&&D(e),!m&&N&&N(e,"backdropClick"))}},l)),t.createElement(dr,{disableEnforceFocus:y,disableAutoFocus:p,disableRestoreFocus:k,getDoc:V,isEnabled:Q,open:Z},t.cloneElement(u,te))))})),gr=mr,yr=n(8317),br=n(3366),_r=n(4578),xr=!1,wr=t.createContext(null),Sr="unmounted",kr="exited",Cr="entering",Er="entered",Tr="exiting",Pr=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=kr,r.appearStatus=Cr):i=Er:i=t.unmountOnExit||t.mountOnEnter?Sr:kr,r.state={status:i},r.nextCallback=null,r}(0,_r.Z)(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Sr?{status:kr}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Cr&&n!==Er&&(t=Cr):n!==Cr&&n!==Er||(t=Tr)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Cr?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===kr&&this.setState({status:Sr})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[i.findDOMNode(this),r],a=o[0],s=o[1],l=this.getTimeouts(),u=r?l.appear:l.enter;!e&&!n||xr?this.safeSetState({status:Er},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,s),this.safeSetState({status:Cr},(function(){t.props.onEntering(a,s),t.onTransitionEnd(u,(function(){t.safeSetState({status:Er},(function(){t.props.onEntered(a,s)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!xr?(this.props.onExit(r),this.safeSetState({status:Tr},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:kr},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:kr},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=o[0],s=o[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Sr)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,br.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(wr.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function Ir(){}Pr.contextType=wr,Pr.propTypes={},Pr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ir,onEntering:Ir,onEntered:Ir,onExit:Ir,onExiting:Ir,onExited:Ir},Pr.UNMOUNTED=Sr,Pr.EXITED=kr,Pr.ENTERING=Cr,Pr.ENTERED=Er,Pr.EXITING=Tr;var Rr=Pr,Or=n(812);function Lr(){return(0,Gn.Z)()||Bn.Z}var Dr=function(e){return e.scrollTop};function Nr(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}var Ar={entering:{opacity:1},entered:{opacity:1}},Mr={enter:Or.x9.enteringScreen,exit:Or.x9.leavingScreen},Zr=t.forwardRef((function(e,n){var r=e.children,i=e.disableStrictModeCompat,o=void 0!==i&&i,a=e.in,s=e.onEnter,l=e.onEntered,u=e.onEntering,c=e.onExit,d=e.onExited,f=e.onExiting,h=e.style,p=e.TransitionComponent,v=void 0===p?Rr:p,m=e.timeout,g=void 0===m?Mr:m,y=(0,Wn.Z)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),b=Lr(),_=b.unstable_strictMode&&!o,x=t.useRef(null),w=(0,Kn.Z)(r.ref,n),S=(0,Kn.Z)(_?x:void 0,w),k=function(e){return function(t,n){if(e){var r=_?[x.current,t]:[t,n],i=(0,fn.Z)(r,2),o=i[0],a=i[1];void 0===a?e(o):e(o,a)}}},C=k(u),E=k((function(e,t){Dr(e);var n=Nr({style:h,timeout:g},{mode:"enter"});e.style.webkitTransition=b.transitions.create("opacity",n),e.style.transition=b.transitions.create("opacity",n),s&&s(e,t)})),T=k(l),P=k(f),I=k((function(e){var t=Nr({style:h,timeout:g},{mode:"exit"});e.style.webkitTransition=b.transitions.create("opacity",t),e.style.transition=b.transitions.create("opacity",t),c&&c(e)})),R=k(d);return t.createElement(v,(0,Fn.Z)({appear:!0,in:a,nodeRef:_?x:void 0,onEnter:E,onEntered:T,onEntering:C,onExit:I,onExited:R,onExiting:P,timeout:g},y),(function(e,n){return t.cloneElement(r,(0,Fn.Z)({style:(0,Fn.Z)({opacity:0,visibility:"exited"!==e||a?void 0:"hidden"},Ar[e],h,r.props.style),ref:S},n))}))})),jr=Zr,Fr=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.className,a=e.invisible,s=void 0!==a&&a,l=e.open,u=e.transitionDuration,c=e.TransitionComponent,d=void 0===c?jr:c,f=(0,Wn.Z)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return t.createElement(d,(0,Fn.Z)({in:l,timeout:u},f),t.createElement("div",{className:(0,Un.Z)(i.root,o,s&&i.invisible),"aria-hidden":!0,ref:n},r))})),zr=(0,yr.Z)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(Fr),Br=n(503);function Hr(e,t){var n=function(e,t){var n,r=t.getBoundingClientRect();if(t.fakeTransform)n=t.fakeTransform;else{var i=window.getComputedStyle(t);n=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var o=0,a=0;if(n&&"none"!==n&&"string"===typeof n){var s=n.split("(")[1].split(")")[0].split(",");o=parseInt(s[4],10),a=parseInt(s[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(").concat(o-r.left,"px)"):"right"===e?"translateX(-".concat(r.left+r.width-o,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(").concat(a-r.top,"px)"):"translateY(-".concat(r.top+r.height-a,"px)")}(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}var Wr={enter:Or.x9.enteringScreen,exit:Or.x9.leavingScreen},Ur=t.forwardRef((function(e,n){var r=e.children,o=e.direction,a=void 0===o?"down":o,s=e.in,l=e.onEnter,u=e.onEntered,c=e.onEntering,d=e.onExit,f=e.onExited,h=e.onExiting,p=e.style,v=e.timeout,m=void 0===v?Wr:v,g=e.TransitionComponent,y=void 0===g?Rr:g,b=(0,Wn.Z)(e,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),_=Lr(),x=t.useRef(null),w=t.useCallback((function(e){x.current=i.findDOMNode(e)}),[]),S=(0,Kn.Z)(r.ref,w),k=(0,Kn.Z)(S,n),C=function(e){return function(t){e&&(void 0===t?e(x.current):e(x.current,t))}},E=C((function(e,t){Hr(a,e),Dr(e),l&&l(e,t)})),T=C((function(e,t){var n=Nr({timeout:m,style:p},{mode:"enter"});e.style.webkitTransition=_.transitions.create("-webkit-transform",(0,Fn.Z)({},n,{easing:_.transitions.easing.easeOut})),e.style.transition=_.transitions.create("transform",(0,Fn.Z)({},n,{easing:_.transitions.easing.easeOut})),e.style.webkitTransform="none",e.style.transform="none",c&&c(e,t)})),P=C(u),I=C(h),R=C((function(e){var t=Nr({timeout:m,style:p},{mode:"exit"});e.style.webkitTransition=_.transitions.create("-webkit-transform",(0,Fn.Z)({},t,{easing:_.transitions.easing.sharp})),e.style.transition=_.transitions.create("transform",(0,Fn.Z)({},t,{easing:_.transitions.easing.sharp})),Hr(a,e),d&&d(e)})),O=C((function(e){e.style.webkitTransition="",e.style.transition="",f&&f(e)})),L=t.useCallback((function(){x.current&&Hr(a,x.current)}),[a]);return t.useEffect((function(){if(!s&&"down"!==a&&"right"!==a){var e=(0,Br.Z)((function(){x.current&&Hr(a,x.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[a,s]),t.useEffect((function(){s||L()}),[s,L]),t.createElement(y,(0,Fn.Z)({nodeRef:x,onEnter:E,onEntered:P,onEntering:T,onExit:R,onExited:O,onExiting:I,appear:!0,in:s,timeout:m},b),(function(e,n){return t.cloneElement(r,(0,Fn.Z)({ref:k,style:(0,Fn.Z)({visibility:"exited"!==e||s?void 0:"hidden"},p,r.props.style)},n))}))})),Gr=Ur,qr=t.forwardRef((function(e,n){var r=e.classes,i=e.className,o=e.component,a=void 0===o?"div":o,s=e.square,l=void 0!==s&&s,u=e.elevation,c=void 0===u?1:u,d=e.variant,f=void 0===d?"elevation":d,h=(0,Wn.Z)(e,["classes","className","component","square","elevation","variant"]);return t.createElement(a,(0,Fn.Z)({className:(0,Un.Z)(r.root,i,"outlined"===f?r.outlined:r["elevation".concat(c)],!l&&r.rounded),ref:n},h))})),Vr=(0,yr.Z)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,Fn.Z)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(qr),Yr=n(1122),Kr={left:"right",right:"left",top:"down",bottom:"up"};var Xr={enter:Or.x9.enteringScreen,exit:Or.x9.leavingScreen},Qr=t.forwardRef((function(e,n){var r=e.anchor,i=void 0===r?"left":r,o=e.BackdropProps,a=e.children,s=e.classes,l=e.className,u=e.elevation,c=void 0===u?16:u,d=e.ModalProps,f=(d=void 0===d?{}:d).BackdropProps,h=(0,Wn.Z)(d,["BackdropProps"]),p=e.onClose,v=e.open,m=void 0!==v&&v,g=e.PaperProps,y=void 0===g?{}:g,b=e.SlideProps,_=e.TransitionComponent,x=void 0===_?Gr:_,w=e.transitionDuration,S=void 0===w?Xr:w,k=e.variant,C=void 0===k?"temporary":k,E=(0,Wn.Z)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),T=Lr(),P=t.useRef(!1);t.useEffect((function(){P.current=!0}),[]);var I=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?Kr[t]:t}(T,i),R=t.createElement(Vr,(0,Fn.Z)({elevation:"temporary"===C?c:0,square:!0},y,{className:(0,Un.Z)(s.paper,s["paperAnchor".concat((0,Yr.Z)(I))],y.className,"temporary"!==C&&s["paperAnchorDocked".concat((0,Yr.Z)(I))])}),a);if("permanent"===C)return t.createElement("div",(0,Fn.Z)({className:(0,Un.Z)(s.root,s.docked,l),ref:n},E),R);var O=t.createElement(x,(0,Fn.Z)({in:m,direction:Kr[I],timeout:S,appear:P.current},b),R);return"persistent"===C?t.createElement("div",(0,Fn.Z)({className:(0,Un.Z)(s.root,s.docked,l),ref:n},E),O):t.createElement(gr,(0,Fn.Z)({BackdropProps:(0,Fn.Z)({},o,f,{transitionDuration:S}),BackdropComponent:zr,className:(0,Un.Z)(s.root,s.modal,l),open:m,onClose:p,ref:n},E,h),O)})),$r=(0,yr.Z)((function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(Qr),Jr=(n(7441),n(3108)),ei=n(1175),ti=n(7326);function ni(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function ri(e,t,n){return null!=n[t]?n[t]:e.props[t]}function ii(e,n,r){var i=ni(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(n,i);return Object.keys(o).forEach((function(a){var s=o[a];if((0,t.isValidElement)(s)){var l=a in n,u=a in i,c=n[a],d=(0,t.isValidElement)(c)&&!c.props.in;!u||l&&!d?u||!l||d?u&&l&&(0,t.isValidElement)(c)&&(o[a]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:c.props.in,exit:ri(s,"exit",e),enter:ri(s,"enter",e)})):o[a]=(0,t.cloneElement)(s,{in:!1}):o[a]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:ri(s,"exit",e),enter:ri(s,"enter",e)})}})),o}var oi=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},ai=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,ti.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,_r.Z)(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,o=n.children,a=n.handleExited;return{children:n.firstRender?(r=e,i=a,ni(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:ri(e,"appear",r),enter:ri(e,"enter",r),exit:ri(e,"exit",r)})}))):ii(e,o,a),firstRender:!1}},r.handleExited=function(e,t){var n=ni(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,Fn.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,br.Z)(e,["component","childFactory"]),o=this.state.contextValue,a=oi(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(wr.Provider,{value:o},a):t.createElement(wr.Provider,{value:o},t.createElement(n,i,a))},n}(t.Component);ai.propTypes={},ai.defaultProps={component:"div",childFactory:function(e){return e}};var si=ai,li="undefined"===typeof window?t.useEffect:t.useLayoutEffect;var ui=function(e){var n=e.classes,r=e.pulsate,i=void 0!==r&&r,o=e.rippleX,a=e.rippleY,s=e.rippleSize,l=e.in,u=e.onExited,c=void 0===u?function(){}:u,d=e.timeout,f=t.useState(!1),h=f[0],p=f[1],v=(0,Un.Z)(n.ripple,n.rippleVisible,i&&n.ripplePulsate),m={width:s,height:s,top:-s/2+a,left:-s/2+o},g=(0,Un.Z)(n.child,h&&n.childLeaving,i&&n.childPulsate),y=(0,er.Z)(c);return li((function(){if(!l){p(!0);var e=setTimeout(y,d);return function(){clearTimeout(e)}}}),[y,l,d]),t.createElement("span",{className:v,style:m},t.createElement("span",{className:g}))},ci=t.forwardRef((function(e,n){var r=e.center,i=void 0!==r&&r,o=e.classes,a=e.className,s=(0,Wn.Z)(e,["center","classes","className"]),l=t.useState([]),u=l[0],c=l[1],d=t.useRef(0),f=t.useRef(null);t.useEffect((function(){f.current&&(f.current(),f.current=null)}),[u]);var h=t.useRef(!1),p=t.useRef(null),v=t.useRef(null),m=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(p.current)}}),[]);var g=t.useCallback((function(e){var n=e.pulsate,r=e.rippleX,i=e.rippleY,a=e.rippleSize,s=e.cb;c((function(e){return[].concat((0,nr.Z)(e),[t.createElement(ui,{key:d.current,classes:o,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:a})])})),d.current+=1,f.current=s}),[o]),y=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,o=void 0!==r&&r,a=t.center,s=void 0===a?i||t.pulsate:a,l=t.fakeElement,u=void 0!==l&&l;if("mousedown"===e.type&&h.current)h.current=!1;else{"touchstart"===e.type&&(h.current=!0);var c,d,f,y=u?null:m.current,b=y?y.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(b.width/2),d=Math.round(b.height/2);else{var _=e.touches?e.touches[0]:e,x=_.clientX,w=_.clientY;c=Math.round(x-b.left),d=Math.round(w-b.top)}if(s)(f=Math.sqrt((2*Math.pow(b.width,2)+Math.pow(b.height,2))/3))%2===0&&(f+=1);else{var S=2*Math.max(Math.abs((y?y.clientWidth:0)-c),c)+2,k=2*Math.max(Math.abs((y?y.clientHeight:0)-d),d)+2;f=Math.sqrt(Math.pow(S,2)+Math.pow(k,2))}e.touches?null===v.current&&(v.current=function(){g({pulsate:o,rippleX:c,rippleY:d,rippleSize:f,cb:n})},p.current=setTimeout((function(){v.current&&(v.current(),v.current=null)}),80)):g({pulsate:o,rippleX:c,rippleY:d,rippleSize:f,cb:n})}}),[i,g]),b=t.useCallback((function(){y({},{pulsate:!0})}),[y]),_=t.useCallback((function(e,t){if(clearTimeout(p.current),"touchend"===e.type&&v.current)return e.persist(),v.current(),v.current=null,void(p.current=setTimeout((function(){_(e,t)})));v.current=null,c((function(e){return e.length>0?e.slice(1):e})),f.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:b,start:y,stop:_}}),[b,y,_]),t.createElement("span",(0,Fn.Z)({className:(0,Un.Z)(o.root,a),ref:m},s),t.createElement(si,{component:null,exit:!0},u))})),di=(0,yr.Z)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(t.memo(ci)),fi=t.forwardRef((function(e,n){var r=e.action,o=e.buttonRef,a=e.centerRipple,s=void 0!==a&&a,l=e.children,u=e.classes,c=e.className,d=e.component,f=void 0===d?"button":d,h=e.disabled,p=void 0!==h&&h,v=e.disableRipple,m=void 0!==v&&v,g=e.disableTouchRipple,y=void 0!==g&&g,b=e.focusRipple,_=void 0!==b&&b,x=e.focusVisibleClassName,w=e.onBlur,S=e.onClick,k=e.onFocus,C=e.onFocusVisible,E=e.onKeyDown,T=e.onKeyUp,P=e.onMouseDown,I=e.onMouseLeave,R=e.onMouseUp,O=e.onTouchEnd,L=e.onTouchMove,D=e.onTouchStart,N=e.onDragLeave,A=e.tabIndex,M=void 0===A?0:A,Z=e.TouchRippleProps,j=e.type,F=void 0===j?"button":j,z=(0,Wn.Z)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),B=t.useRef(null);var H=t.useRef(null),W=t.useState(!1),U=W[0],G=W[1];p&&U&&G(!1);var q=(0,ei.Z)(),V=q.isFocusVisible,Y=q.onBlurVisible,K=q.ref;function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return(0,er.Z)((function(r){return t&&t(r),!n&&H.current&&H.current[e](r),!0}))}t.useImperativeHandle(r,(function(){return{focusVisible:function(){G(!0),B.current.focus()}}}),[]),t.useEffect((function(){U&&_&&!m&&H.current.pulsate()}),[m,_,U]);var Q=X("start",P),$=X("stop",N),J=X("stop",R),ee=X("stop",(function(e){U&&e.preventDefault(),I&&I(e)})),te=X("start",D),ne=X("stop",O),re=X("stop",L),ie=X("stop",(function(e){U&&(Y(e),G(!1)),w&&w(e)}),!1),oe=(0,er.Z)((function(e){B.current||(B.current=e.currentTarget),V(e)&&(G(!0),C&&C(e)),k&&k(e)})),ae=function(){var e=i.findDOMNode(B.current);return f&&"button"!==f&&!("A"===e.tagName&&e.href)},se=t.useRef(!1),le=(0,er.Z)((function(e){_&&!se.current&&U&&H.current&&" "===e.key&&(se.current=!0,e.persist(),H.current.stop(e,(function(){H.current.start(e)}))),e.target===e.currentTarget&&ae()&&" "===e.key&&e.preventDefault(),E&&E(e),e.target===e.currentTarget&&ae()&&"Enter"===e.key&&!p&&(e.preventDefault(),S&&S(e))})),ue=(0,er.Z)((function(e){_&&" "===e.key&&H.current&&U&&!e.defaultPrevented&&(se.current=!1,e.persist(),H.current.stop(e,(function(){H.current.pulsate(e)}))),T&&T(e),S&&e.target===e.currentTarget&&ae()&&" "===e.key&&!e.defaultPrevented&&S(e)})),ce=f;"button"===ce&&z.href&&(ce="a");var de={};"button"===ce?(de.type=F,de.disabled=p):("a"===ce&&z.href||(de.role="button"),de["aria-disabled"]=p);var fe=(0,Kn.Z)(o,n),he=(0,Kn.Z)(K,B),pe=(0,Kn.Z)(fe,he),ve=t.useState(!1),me=ve[0],ge=ve[1];t.useEffect((function(){ge(!0)}),[]);var ye=me&&!m&&!p;return t.createElement(ce,(0,Fn.Z)({className:(0,Un.Z)(u.root,c,U&&[u.focusVisible,x],p&&u.disabled),onBlur:ie,onClick:S,onFocus:oe,onKeyDown:le,onKeyUp:ue,onMouseDown:Q,onMouseLeave:ee,onMouseUp:J,onDragLeave:$,onTouchEnd:ne,onTouchMove:re,onTouchStart:te,ref:pe,tabIndex:p?-1:M},de,z),l,ye?t.createElement(di,(0,Fn.Z)({ref:H,center:s},Z)):null)})),hi=(0,yr.Z)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(fi),pi=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.className,a=e.color,s=void 0===a?"default":a,l=e.component,u=void 0===l?"button":l,c=e.disabled,d=void 0!==c&&c,f=e.disableElevation,h=void 0!==f&&f,p=e.disableFocusRipple,v=void 0!==p&&p,m=e.endIcon,g=e.focusVisibleClassName,y=e.fullWidth,b=void 0!==y&&y,_=e.size,x=void 0===_?"medium":_,w=e.startIcon,S=e.type,k=void 0===S?"button":S,C=e.variant,E=void 0===C?"text":C,T=(0,Wn.Z)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),P=w&&t.createElement("span",{className:(0,Un.Z)(i.startIcon,i["iconSize".concat((0,Yr.Z)(x))])},w),I=m&&t.createElement("span",{className:(0,Un.Z)(i.endIcon,i["iconSize".concat((0,Yr.Z)(x))])},m);return t.createElement(hi,(0,Fn.Z)({className:(0,Un.Z)(i.root,i[E],o,"inherit"===s?i.colorInherit:"default"!==s&&i["".concat(E).concat((0,Yr.Z)(s))],"medium"!==x&&[i["".concat(E,"Size").concat((0,Yr.Z)(x))],i["size".concat((0,Yr.Z)(x))]],h&&i.disableElevation,d&&i.disabled,b&&i.fullWidth),component:u,disabled:d,focusRipple:!v,focusVisibleClassName:(0,Un.Z)(i.focusVisible,g),ref:n,type:k},T),t.createElement("span",{className:i.label},P,r,I))})),vi=(0,yr.Z)((function(e){return{root:(0,Fn.Z)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,Jr.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,Jr.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,Jr.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,Jr.Fq)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,Jr.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,Jr.Fq)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,Jr.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(pi);vi.styles;var mi=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.className,a=e.color,s=void 0===a?"default":a,l=e.component,u=void 0===l?"div":l,c=e.disabled,d=void 0!==c&&c,f=e.disableElevation,h=void 0!==f&&f,p=e.disableFocusRipple,v=void 0!==p&&p,m=e.disableRipple,g=void 0!==m&&m,y=e.fullWidth,b=void 0!==y&&y,_=e.orientation,x=void 0===_?"horizontal":_,w=e.size,S=void 0===w?"medium":w,k=e.variant,C=void 0===k?"outlined":k,E=(0,Wn.Z)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"]),T=(0,Un.Z)(i.grouped,i["grouped".concat((0,Yr.Z)(x))],i["grouped".concat((0,Yr.Z)(C))],i["grouped".concat((0,Yr.Z)(C)).concat((0,Yr.Z)(x))],i["grouped".concat((0,Yr.Z)(C)).concat("default"!==s?(0,Yr.Z)(s):"")],d&&i.disabled);return t.createElement(u,(0,Fn.Z)({role:"group",className:(0,Un.Z)(i.root,o,b&&i.fullWidth,h&&i.disableElevation,"contained"===C&&i.contained,"vertical"===x&&i.vertical),ref:n},E),t.Children.map(r,(function(e){return t.isValidElement(e)?t.cloneElement(e,{className:(0,Un.Z)(T,e.props.className),color:e.props.color||s,disabled:e.props.disabled||d,disableElevation:e.props.disableElevation||h,disableFocusRipple:v,disableRipple:g,fullWidth:b,size:e.props.size||S,variant:e.props.variant||C}):null})))})),gi=(0,yr.Z)((function(e){return{root:{display:"inline-flex",borderRadius:e.shape.borderRadius},contained:{boxShadow:e.shadows[2]},disableElevation:{boxShadow:"none"},disabled:{},fullWidth:{width:"100%"},vertical:{flexDirection:"column"},grouped:{minWidth:40},groupedHorizontal:{"&:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{borderTopRightRadius:0,borderTopLeftRadius:0},"&:not(:last-child)":{borderBottomRightRadius:0,borderBottomLeftRadius:0}},groupedText:{},groupedTextHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextPrimary:{"&:not(:last-child)":{borderColor:(0,Jr.Fq)(e.palette.primary.main,.5)}},groupedTextSecondary:{"&:not(:last-child)":{borderColor:(0,Jr.Fq)(e.palette.secondary.main,.5)}},groupedOutlined:{},groupedOutlinedHorizontal:{"&:not(:first-child)":{marginLeft:-1},"&:not(:last-child)":{borderRightColor:"transparent"}},groupedOutlinedVertical:{"&:not(:first-child)":{marginTop:-1},"&:not(:last-child)":{borderBottomColor:"transparent"}},groupedOutlinedPrimary:{"&:hover":{borderColor:e.palette.primary.main}},groupedOutlinedSecondary:{"&:hover":{borderColor:e.palette.secondary.main}},groupedContained:{boxShadow:"none"},groupedContainedHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderRight:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderBottom:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedPrimary:{"&:not(:last-child)":{borderColor:e.palette.primary.dark}},groupedContainedSecondary:{"&:not(:last-child)":{borderColor:e.palette.secondary.dark}}}}),{name:"MuiButtonGroup"})(mi),yi=n(3375);var bi=t.createContext({}),_i="undefined"===typeof window?t.useEffect:t.useLayoutEffect,xi=t.forwardRef((function(e,n){var r=e.alignItems,o=void 0===r?"center":r,a=e.autoFocus,s=void 0!==a&&a,l=e.button,u=void 0!==l&&l,c=e.children,d=e.classes,f=e.className,h=e.component,p=e.ContainerComponent,v=void 0===p?"li":p,m=e.ContainerProps,g=(m=void 0===m?{}:m).className,y=(0,Wn.Z)(m,["className"]),b=e.dense,_=void 0!==b&&b,x=e.disabled,w=void 0!==x&&x,S=e.disableGutters,k=void 0!==S&&S,C=e.divider,E=void 0!==C&&C,T=e.focusVisibleClassName,P=e.selected,I=void 0!==P&&P,R=(0,Wn.Z)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),O=t.useContext(bi),L={dense:_||O.dense||!1,alignItems:o},D=t.useRef(null);_i((function(){s&&D.current&&D.current.focus()}),[s]);var N=t.Children.toArray(c),A=N.length&&(0,yi.Z)(N[N.length-1],["ListItemSecondaryAction"]),M=t.useCallback((function(e){D.current=i.findDOMNode(e)}),[]),Z=(0,Kn.Z)(M,n),j=(0,Fn.Z)({className:(0,Un.Z)(d.root,f,L.dense&&d.dense,!k&&d.gutters,E&&d.divider,w&&d.disabled,u&&d.button,"center"!==o&&d.alignItemsFlexStart,A&&d.secondaryAction,I&&d.selected),disabled:w},R),F=h||"li";return u&&(j.component=h||"div",j.focusVisibleClassName=(0,Un.Z)(d.focusVisible,T),F=hi),A?(F=j.component||h?F:"div","li"===v&&("li"===F?F="div":"li"===j.component&&(j.component="div")),t.createElement(bi.Provider,{value:L},t.createElement(v,(0,Fn.Z)({className:(0,Un.Z)(d.container,g),ref:Z},y),t.createElement(F,j,N),N.pop()))):t.createElement(bi.Provider,{value:L},t.createElement(F,(0,Fn.Z)({ref:Z},j),N))})),wi=(0,yr.Z)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(xi),Si=n(4327),ki=(0,Si.Z)(t.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var Ci=t.forwardRef((function(e,n){var r=e.alt,i=e.children,o=e.classes,a=e.className,s=e.component,l=void 0===s?"div":s,u=e.imgProps,c=e.sizes,d=e.src,f=e.srcSet,h=e.variant,p=void 0===h?"circular":h,v=(0,Wn.Z)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),m=null,g=function(e){var n=e.src,r=e.srcSet,i=t.useState(!1),o=i[0],a=i[1];return t.useEffect((function(){if(n||r){a(!1);var e=!0,t=new Image;return t.src=n,t.srcSet=r,t.onload=function(){e&&a("loaded")},t.onerror=function(){e&&a("error")},function(){e=!1}}}),[n,r]),o}({src:d,srcSet:f}),y=d||f,b=y&&"error"!==g;return m=b?t.createElement("img",(0,Fn.Z)({alt:r,src:d,srcSet:f,sizes:c,className:o.img},u)):null!=i?i:y&&r?r[0]:t.createElement(ki,{className:o.fallback}),t.createElement(l,(0,Fn.Z)({className:(0,Un.Z)(o.root,o.system,o[p],a,!b&&o.colorDefault),ref:n},v),m)})),Ei=(0,yr.Z)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(Ci),Ti={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},Pi=t.forwardRef((function(e,n){var r=e.align,i=void 0===r?"inherit":r,o=e.classes,a=e.className,s=e.color,l=void 0===s?"initial":s,u=e.component,c=e.display,d=void 0===c?"initial":c,f=e.gutterBottom,h=void 0!==f&&f,p=e.noWrap,v=void 0!==p&&p,m=e.paragraph,g=void 0!==m&&m,y=e.variant,b=void 0===y?"body1":y,_=e.variantMapping,x=void 0===_?Ti:_,w=(0,Wn.Z)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),S=u||(g?"p":x[b]||Ti[b])||"span";return t.createElement(S,(0,Fn.Z)({className:(0,Un.Z)(o.root,a,"inherit"!==b&&o[b],"initial"!==l&&o["color".concat((0,Yr.Z)(l))],v&&o.noWrap,h&&o.gutterBottom,g&&o.paragraph,"inherit"!==i&&o["align".concat((0,Yr.Z)(i))],"initial"!==d&&o["display".concat((0,Yr.Z)(d))]),ref:n},w))})),Ii=(0,yr.Z)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(Pi),Ri=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.className,a=e.disableTypography,s=void 0!==a&&a,l=e.inset,u=void 0!==l&&l,c=e.primary,d=e.primaryTypographyProps,f=e.secondary,h=e.secondaryTypographyProps,p=(0,Wn.Z)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),v=t.useContext(bi).dense,m=null!=c?c:r;null==m||m.type===Ii||s||(m=t.createElement(Ii,(0,Fn.Z)({variant:v?"body2":"body1",className:i.primary,component:"span",display:"block"},d),m));var g=f;return null==g||g.type===Ii||s||(g=t.createElement(Ii,(0,Fn.Z)({variant:"body2",className:i.secondary,color:"textSecondary",display:"block"},h),g)),t.createElement("div",(0,Fn.Z)({className:(0,Un.Z)(i.root,o,v&&i.dense,u&&i.inset,m&&g&&i.multiline),ref:n},p),m,g)})),Oi=(0,yr.Z)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(Ri),Li=n(1534);function Di(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var Ni={entering:{opacity:1,transform:Di(1)},entered:{opacity:1,transform:"none"}},Ai=t.forwardRef((function(e,n){var r=e.children,i=e.disableStrictModeCompat,o=void 0!==i&&i,a=e.in,s=e.onEnter,l=e.onEntered,u=e.onEntering,c=e.onExit,d=e.onExited,f=e.onExiting,h=e.style,p=e.timeout,v=void 0===p?"auto":p,m=e.TransitionComponent,g=void 0===m?Rr:m,y=(0,Wn.Z)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),b=t.useRef(),_=t.useRef(),x=Lr(),w=x.unstable_strictMode&&!o,S=t.useRef(null),k=(0,Kn.Z)(r.ref,n),C=(0,Kn.Z)(w?S:void 0,k),E=function(e){return function(t,n){if(e){var r=w?[S.current,t]:[t,n],i=(0,fn.Z)(r,2),o=i[0],a=i[1];void 0===a?e(o):e(o,a)}}},T=E(u),P=E((function(e,t){Dr(e);var n,r=Nr({style:h,timeout:v},{mode:"enter"}),i=r.duration,o=r.delay;"auto"===v?(n=x.transitions.getAutoHeightDuration(e.clientHeight),_.current=n):n=i,e.style.transition=[x.transitions.create("opacity",{duration:n,delay:o}),x.transitions.create("transform",{duration:.666*n,delay:o})].join(","),s&&s(e,t)})),I=E(l),R=E(f),O=E((function(e){var t,n=Nr({style:h,timeout:v},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===v?(t=x.transitions.getAutoHeightDuration(e.clientHeight),_.current=t):t=r,e.style.transition=[x.transitions.create("opacity",{duration:t,delay:i}),x.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=Di(.75),c&&c(e)})),L=E(d);return t.useEffect((function(){return function(){clearTimeout(b.current)}}),[]),t.createElement(g,(0,Fn.Z)({appear:!0,in:a,nodeRef:w?S:void 0,onEnter:P,onEntered:I,onEntering:T,onExit:O,onExited:L,onExiting:R,addEndListener:function(e,t){var n=w?e:t;"auto"===v&&(b.current=setTimeout(n,_.current||0))},timeout:"auto"===v?null:v},y),(function(e,n){return t.cloneElement(r,(0,Fn.Z)({style:(0,Fn.Z)({opacity:0,transform:Di(.75),visibility:"exited"!==e||a?void 0:"hidden"},Ni[e],h,r.props.style),ref:C},n))}))}));Ai.muiSupportAuto=!0;var Mi=Ai,Zi="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,ji=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Zi&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var Fi=Zi&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),ji))}};function zi(e){return e&&"[object Function]"==={}.toString.call(e)}function Bi(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function Hi(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function Wi(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=Bi(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:Wi(Hi(e))}function Ui(e){return e&&e.referenceNode?e.referenceNode:e}var Gi=Zi&&!(!window.MSInputMethodContext||!document.documentMode),qi=Zi&&/MSIE 10/.test(navigator.userAgent);function Vi(e){return 11===e?Gi:10===e?qi:Gi||qi}function Yi(e){if(!e)return document.documentElement;for(var t=Vi(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===Bi(n,"position")?Yi(n):n:e?e.ownerDocument.documentElement:document.documentElement}function Ki(e){return null!==e.parentNode?Ki(e.parentNode):e}function Xi(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a=o.commonAncestorContainer;if(e!==a&&t!==a||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||Yi(e.firstElementChild)===e)}(a)?a:Yi(a);var s=Ki(e);return s.host?Xi(s.host,t):Xi(e,Ki(t).host)}function Qi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement,o=e.ownerDocument.scrollingElement||i;return o[n]}return e[n]}function $i(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Qi(t,"top"),i=Qi(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}function Ji(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function eo(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],Vi(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function to(e){var t=e.body,n=e.documentElement,r=Vi(10)&&getComputedStyle(n);return{height:eo("Height",t,n,r),width:eo("Width",t,n,r)}}var no=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ro=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),io=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ao(e){return oo({},e,{right:e.left+e.width,bottom:e.top+e.height})}function so(e){var t={};try{if(Vi(10)){t=e.getBoundingClientRect();var n=Qi(e,"top"),r=Qi(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(d){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?to(e.ownerDocument):{},a=o.width||e.clientWidth||i.width,s=o.height||e.clientHeight||i.height,l=e.offsetWidth-a,u=e.offsetHeight-s;if(l||u){var c=Bi(e);l-=Ji(c,"x"),u-=Ji(c,"y"),i.width-=l,i.height-=u}return ao(i)}function lo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Vi(10),i="HTML"===t.nodeName,o=so(e),a=so(t),s=Wi(e),l=Bi(t),u=parseFloat(l.borderTopWidth),c=parseFloat(l.borderLeftWidth);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=ao({top:o.top-a.top-u,left:o.left-a.left-c,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var f=parseFloat(l.marginTop),h=parseFloat(l.marginLeft);d.top-=u-f,d.bottom-=u-f,d.left-=c-h,d.right-=c-h,d.marginTop=f,d.marginLeft=h}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=$i(d,t)),d}function uo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=lo(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:Qi(n),s=t?0:Qi(n,"left"),l={top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o};return ao(l)}function co(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===Bi(e,"position"))return!0;var n=Hi(e);return!!n&&co(n)}function fo(e){if(!e||!e.parentElement||Vi())return document.documentElement;for(var t=e.parentElement;t&&"none"===Bi(t,"transform");)t=t.parentElement;return t||document.documentElement}function ho(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?fo(e):Xi(e,Ui(t));if("viewport"===r)o=uo(a,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=Wi(Hi(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var l=lo(s,a,i);if("HTML"!==s.nodeName||co(a))o=l;else{var u=to(e.ownerDocument),c=u.height,d=u.width;o.top+=l.top-l.marginTop,o.bottom=c+l.top,o.left+=l.left-l.marginLeft,o.right=d+l.left}}var f="number"===typeof(n=n||0);return o.left+=f?n:n.left||0,o.top+=f?n:n.top||0,o.right-=f?n:n.right||0,o.bottom-=f?n:n.bottom||0,o}function po(e){return e.width*e.height}function vo(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=ho(n,r,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map((function(e){return oo({key:e},s[e],{area:po(s[e])})})).sort((function(e,t){return t.area-e.area})),u=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),c=u.length>0?u[0].key:l[0].key,d=e.split("-")[1];return c+(d?"-"+d:"")}function mo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?fo(t):Xi(t,Ui(n));return lo(n,i,r)}function go(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function yo(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function bo(e,t,n){n=n.split("-")[0];var r=go(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return i[a]=t[a]+t[l]/2-r[l]/2,i[s]=n===s?t[s]-r[u]:t[yo(s)],i}function _o(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function xo(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=_o(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&zi(n)&&(t.offsets.popper=ao(t.offsets.popper),t.offsets.reference=ao(t.offsets.reference),t=n(t,e))})),t}function wo(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=mo(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=vo(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=bo(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=xo(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function So(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function ko(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if("undefined"!==typeof document.body.style[o])return o}return null}function Co(){return this.state.isDestroyed=!0,So(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[ko("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Eo(e){var t=e.ownerDocument;return t?t.defaultView:window}function To(e,t,n,r){var i="BODY"===e.nodeName,o=i?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),i||To(Wi(o.parentNode),t,n,r),r.push(o)}function Po(e,t,n,r){n.updateBound=r,Eo(e).addEventListener("resize",n.updateBound,{passive:!0});var i=Wi(e);return To(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function Io(){this.state.eventsEnabled||(this.state=Po(this.reference,this.options,this.state,this.scheduleUpdate))}function Ro(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Eo(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Oo(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Lo(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Oo(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var Do=Zi&&/Firefox/i.test(navigator.userAgent);function No(e,t,n){var r=_o(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var o="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var Ao=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Mo=Ao.slice(3);function Zo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Mo.indexOf(e),r=Mo.slice(n+1).concat(Mo.slice(0,n));return t?r.reverse():r}var jo="flip",Fo="clockwise",zo="counterclockwise";function Bo(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(_o(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return u=u.map((function(e,r){var i=(1===r?!o:o)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){return ao("%p"===a?n:r)[t]/100*o}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(e,i,t,n)}))})),u.forEach((function(e,t){e.forEach((function(n,r){Oo(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var Ho={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",c={start:io({},l,o[l]),end:io({},l,o[l]+o[u]-a[u])};e.offsets.popper=oo({},a,c[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],l=void 0;return l=Oo(+n)?[+n,0]:Bo(n,o,a,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||Yi(e.instance.popper);e.instance.reference===n&&(n=Yi(n));var r=ko("transform"),i=e.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var l=ho(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=a,i[r]=s,t.boundaries=l;var u=t.priority,c=e.offsets.popper,d={primary:function(e){var n=c[e];return c[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(c[e],l[e])),io({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=c[n];return c[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(c[n],l[e]-("right"===e?c.width:c.height))),io({},n,r)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=oo({},c,d[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",l=a?"left":"top",u=a?"width":"height";return n[s]<o(r[l])&&(e.offsets.popper[l]=o(r[l])-n[u]),n[l]>o(r[s])&&(e.offsets.popper[l]=o(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!No(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,a=o.popper,s=o.reference,l=-1!==["left","right"].indexOf(i),u=l?"height":"width",c=l?"Top":"Left",d=c.toLowerCase(),f=l?"left":"top",h=l?"bottom":"right",p=go(r)[u];s[h]-p<a[d]&&(e.offsets.popper[d]-=a[d]-(s[h]-p)),s[d]+p>a[h]&&(e.offsets.popper[d]+=s[d]+p-a[h]),e.offsets.popper=ao(e.offsets.popper);var v=s[d]+s[u]/2-p/2,m=Bi(e.instance.popper),g=parseFloat(m["margin"+c]),y=parseFloat(m["border"+c+"Width"]),b=v-e.offsets.popper[d]-g-y;return b=Math.max(Math.min(a[u]-p,b),0),e.arrowElement=r,e.offsets.arrow=(io(n={},d,Math.round(b)),io(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(So(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=ho(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=yo(r),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case jo:a=[r,i];break;case Fo:a=Zo(r);break;case zo:a=Zo(r,!0);break;default:a=t.behavior}return a.forEach((function(s,l){if(r!==s||a.length===l+1)return e;r=e.placement.split("-")[0],i=yo(r);var u=e.offsets.popper,c=e.offsets.reference,d=Math.floor,f="left"===r&&d(u.right)>d(c.left)||"right"===r&&d(u.left)<d(c.right)||"top"===r&&d(u.bottom)>d(c.top)||"bottom"===r&&d(u.top)<d(c.bottom),h=d(u.left)<d(n.left),p=d(u.right)>d(n.right),v=d(u.top)<d(n.top),m=d(u.bottom)>d(n.bottom),g="left"===r&&h||"right"===r&&p||"top"===r&&v||"bottom"===r&&m,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===o&&h||y&&"end"===o&&p||!y&&"start"===o&&v||!y&&"end"===o&&m),_=!!t.flipVariationsByContent&&(y&&"start"===o&&p||y&&"end"===o&&h||!y&&"start"===o&&m||!y&&"end"===o&&v),x=b||_;(f||g||x)&&(e.flipped=!0,(f||g)&&(r=a[l+1]),x&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=oo({},e.offsets.popper,bo(e.instance.popper,e.offsets.reference,e.placement)),e=xo(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),e.placement=yo(t),e.offsets.popper=ao(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!No(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=_o(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=_o(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=Yi(e.instance.popper),l=so(s),u={position:i.position},c=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=Math.round,a=Math.floor,s=function(e){return e},l=o(i.width),u=o(r.width),c=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=t?c||d||l%2===u%2?o:a:s,h=t?o:s;return{left:f(l%2===1&&u%2===1&&!d&&t?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:f(r.right)}}(e,window.devicePixelRatio<2||!Do),d="bottom"===n?"top":"bottom",f="right"===r?"left":"right",h=ko("transform"),p=void 0,v=void 0;if(v="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-l.height+c.bottom:c.top,p="right"===f?"HTML"===s.nodeName?-s.clientWidth+c.right:-l.width+c.right:c.left,a&&h)u[h]="translate3d("+p+"px, "+v+"px, 0)",u[d]=0,u[f]=0,u.willChange="transform";else{var m="bottom"===d?-1:1,g="right"===f?-1:1;u[d]=v*m,u[f]=p*g,u.willChange=d+", "+f}var y={"x-placement":e.placement};return e.attributes=oo({},y,e.attributes),e.styles=oo({},u,e.styles),e.arrowStyles=oo({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Lo(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Lo(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var o=mo(i,t,e,n.positionFixed),a=vo(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),Lo(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},Wo={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Ho},Uo=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};no(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=Fi(this.update.bind(this)),this.options=oo({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(oo({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=oo({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return oo({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&zi(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return ro(e,[{key:"update",value:function(){return wo.call(this)}},{key:"destroy",value:function(){return Co.call(this)}},{key:"enableEventListeners",value:function(){return Io.call(this)}},{key:"disableEventListeners",value:function(){return Ro.call(this)}}]),e}();Uo.Utils=("undefined"!==typeof window?window:n.g).PopperUtils,Uo.placements=Ao,Uo.Defaults=Wo;var Go=Uo;function qo(e){return"function"===typeof e?e():e}var Vo="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,Yo={},Ko=t.forwardRef((function(e,n){var r=e.anchorEl,i=e.children,o=e.container,a=e.disablePortal,s=void 0!==a&&a,l=e.keepMounted,u=void 0!==l&&l,c=e.modifiers,d=e.open,f=e.placement,h=void 0===f?"bottom":f,p=e.popperOptions,v=void 0===p?Yo:p,m=e.popperRef,g=e.style,y=e.transition,b=void 0!==y&&y,_=(0,Wn.Z)(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),x=t.useRef(null),w=(0,Kn.Z)(x,n),S=t.useRef(null),k=(0,Kn.Z)(S,m),C=t.useRef(k);Vo((function(){C.current=k}),[k]),t.useImperativeHandle(m,(function(){return S.current}),[]);var E=t.useState(!0),T=E[0],P=E[1],I=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(h,(0,Gn.Z)()),R=t.useState(I),O=R[0],L=R[1];t.useEffect((function(){S.current&&S.current.update()}));var D=t.useCallback((function(){if(x.current&&r&&d){S.current&&(S.current.destroy(),C.current(null));var e=function(e){L(e.placement)},t=(qo(r),new Go(qo(r),x.current,(0,Fn.Z)({placement:I},v,{modifiers:(0,Fn.Z)({},s?{}:{preventOverflow:{boundariesElement:"window"}},c,v.modifiers),onCreate:(0,Jn.Z)(e,v.onCreate),onUpdate:(0,Jn.Z)(e,v.onUpdate)})));C.current(t)}}),[r,s,c,d,I,v]),N=t.useCallback((function(e){(0,Yn.Z)(w,e),D()}),[w,D]),A=function(){S.current&&(S.current.destroy(),C.current(null))};if(t.useEffect((function(){return function(){A()}}),[]),t.useEffect((function(){d||b||A()}),[d,b]),!u&&!d&&(!b||T))return null;var M={placement:O};return b&&(M.TransitionProps={in:d,onEnter:function(){P(!1)},onExited:function(){P(!0),A()}}),t.createElement($n,{disablePortal:s,container:o},t.createElement("div",(0,Fn.Z)({ref:N,role:"tooltip"},_,{style:(0,Fn.Z)({position:"fixed",top:0,left:0,display:d||!u||b?null:"none"},g)}),"function"===typeof i?i(M):i))})),Xo=Ko,Qo=n(2939),$o=n(2497);function Jo(e){return Math.round(1e5*e)/1e5}var ea=!1,ta=null;var na=t.forwardRef((function(e,n){var r=e.arrow,o=void 0!==r&&r,a=e.children,s=e.classes,l=e.disableFocusListener,u=void 0!==l&&l,c=e.disableHoverListener,d=void 0!==c&&c,f=e.disableTouchListener,h=void 0!==f&&f,p=e.enterDelay,v=void 0===p?100:p,m=e.enterNextDelay,g=void 0===m?0:m,y=e.enterTouchDelay,b=void 0===y?700:y,_=e.id,x=e.interactive,w=void 0!==x&&x,S=e.leaveDelay,k=void 0===S?0:S,C=e.leaveTouchDelay,E=void 0===C?1500:C,T=e.onClose,P=e.onOpen,I=e.open,R=e.placement,O=void 0===R?"bottom":R,L=e.PopperComponent,D=void 0===L?Xo:L,N=e.PopperProps,A=e.title,M=e.TransitionComponent,Z=void 0===M?Mi:M,j=e.TransitionProps,F=(0,Wn.Z)(e,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),z=Lr(),B=t.useState(),H=B[0],W=B[1],U=t.useState(null),G=U[0],q=U[1],V=t.useRef(!1),Y=t.useRef(),K=t.useRef(),X=t.useRef(),Q=t.useRef(),$=(0,$o.Z)({controlled:I,default:!1,name:"Tooltip",state:"open"}),J=(0,fn.Z)($,2),ee=J[0],te=J[1],ne=ee,re=(0,Qo.Z)(_);t.useEffect((function(){return function(){clearTimeout(Y.current),clearTimeout(K.current),clearTimeout(X.current),clearTimeout(Q.current)}}),[]);var ie=function(e){clearTimeout(ta),ea=!0,te(!0),P&&P(e)},oe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=a.props;"mouseover"===t.type&&n.onMouseOver&&e&&n.onMouseOver(t),V.current&&"touchstart"!==t.type||(H&&H.removeAttribute("title"),clearTimeout(K.current),clearTimeout(X.current),v||ea&&g?(t.persist(),K.current=setTimeout((function(){ie(t)}),ea?g:v)):ie(t))}},ae=(0,ei.Z)(),se=ae.isFocusVisible,le=ae.onBlurVisible,ue=ae.ref,ce=t.useState(!1),de=ce[0],fe=ce[1],he=function(){de&&(fe(!1),le())},pe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){H||W(t.currentTarget),se(t)&&(fe(!0),oe()(t));var n=a.props;n.onFocus&&e&&n.onFocus(t)}},ve=function(e){clearTimeout(ta),ta=setTimeout((function(){ea=!1}),800+k),te(!1),T&&T(e),clearTimeout(Y.current),Y.current=setTimeout((function(){V.current=!1}),z.transitions.duration.shortest)},me=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=a.props;"blur"===t.type&&(n.onBlur&&e&&n.onBlur(t),he()),"mouseleave"===t.type&&n.onMouseLeave&&t.currentTarget===H&&n.onMouseLeave(t),clearTimeout(K.current),clearTimeout(X.current),t.persist(),X.current=setTimeout((function(){ve(t)}),k)}},ge=function(e){V.current=!0;var t=a.props;t.onTouchStart&&t.onTouchStart(e)},ye=(0,Kn.Z)(W,n),be=(0,Kn.Z)(ue,ye),_e=t.useCallback((function(e){(0,Yn.Z)(be,i.findDOMNode(e))}),[be]),xe=(0,Kn.Z)(a.ref,_e);""===A&&(ne=!1);var we=!ne&&!d,Se=(0,Fn.Z)({"aria-describedby":ne?re:null,title:we&&"string"===typeof A?A:null},F,a.props,{className:(0,Un.Z)(F.className,a.props.className),onTouchStart:ge,ref:xe}),ke={};h||(Se.onTouchStart=function(e){ge(e),clearTimeout(X.current),clearTimeout(Y.current),clearTimeout(Q.current),e.persist(),Q.current=setTimeout((function(){oe()(e)}),b)},Se.onTouchEnd=function(e){a.props.onTouchEnd&&a.props.onTouchEnd(e),clearTimeout(Q.current),clearTimeout(X.current),e.persist(),X.current=setTimeout((function(){ve(e)}),E)}),d||(Se.onMouseOver=oe(),Se.onMouseLeave=me(),w&&(ke.onMouseOver=oe(!1),ke.onMouseLeave=me(!1))),u||(Se.onFocus=pe(),Se.onBlur=me(),w&&(ke.onFocus=pe(!1),ke.onBlur=me(!1)));var Ce=t.useMemo((function(){return(0,Li.Z)({popperOptions:{modifiers:{arrow:{enabled:Boolean(G),element:G}}}},N)}),[G,N]);return t.createElement(t.Fragment,null,t.cloneElement(a,Se),t.createElement(D,(0,Fn.Z)({className:(0,Un.Z)(s.popper,w&&s.popperInteractive,o&&s.popperArrow),placement:O,anchorEl:H,open:!!H&&ne,id:Se["aria-describedby"],transition:!0},ke,Ce),(function(e){var n=e.placement,r=e.TransitionProps;return t.createElement(Z,(0,Fn.Z)({timeout:z.transitions.duration.shorter},r,j),t.createElement("div",{className:(0,Un.Z)(s.tooltip,s["tooltipPlacement".concat((0,Yr.Z)(n.split("-")[0]))],V.current&&s.touch,o&&s.tooltipArrow)},A,o?t.createElement("span",{className:s.arrow,ref:q}):null))})))})),ra=(0,yr.Z)((function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:(0,Jr.Fq)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(Jo(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:(0,Jr.Fq)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(Jo(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:(0,jn.Z)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:(0,jn.Z)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:(0,jn.Z)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:(0,jn.Z)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(na),ia=n(6608),oa=n(184),aa=function(e){return(0,oa.jsxs)(ia.Z,{children:[(0,oa.jsx)("path",{d:"m11.949456,5.46298l0,5.560755",strokeWidth:"2",stroke:e.color||"#000000"}),(0,oa.jsx)("path",{d:"m4.974388,17.593532l4.953309,-2.93155",strokeWidth:"2",stroke:e.color||"#000000"}),(0,oa.jsx)("path",{d:"m14.038607,14.695678l5.020701,2.864158",strokeWidth:"2",stroke:e.color||"#000000"})]})},sa=function(e){return(0,oa.jsxs)(ia.Z,{children:[(0,oa.jsx)("path",{d:"m5.041085,11.962486l5.445918,0",strokeWidth:"2",stroke:e.color||"#000000"}),(0,oa.jsx)("path",{d:"m13.477731,11.962486l5.445918,0",strokeWidth:"2",stroke:e.color||"#000000"})]})},la=function(e){return(0,oa.jsx)(ia.Z,{children:(0,oa.jsx)("path",{d:"m11.983486,6.352277l0,11.23114",strokeWidth:"2",stroke:e.color||"#000000"})})},ua=function(e){return(0,oa.jsxs)(ia.Z,{children:[(0,oa.jsx)("path",{d:"m4.606327,4.629219l-1.762578,1.762578l0,2.128828l0,2.105937l0.915625,0l0.915625,0l0,-1.556562l0,-1.556562l1.442109,-1.419219l1.442109,-1.419219l1.533672,0l1.533672,0l0,-0.915625l0,-0.915625l-2.128828,0l-2.105937,0l-1.785469,1.785469z",fill:e.color||"#000000"}),(0,oa.jsx)("path",{d:"m13.373437,3.759375l0,0.915625l1.556562,0l1.556562,0l1.419219,1.442109l1.419219,1.442109l0,1.533672l0,1.533672l0.915625,0l0.915625,0l0,-2.128828l0,-2.105937l-1.785469,-1.785469l-1.762578,-1.762578l-2.128828,0l-2.105937,0l0,0.915625z",fill:e.color||"#000000"}),(0,oa.jsx)("path",{d:"m2.843749,15.502266l0,2.105937l1.785469,1.785469l1.762578,1.762578l2.128828,0l2.105937,0l0,-0.915625l0,-0.915625l-1.556562,0l-1.556562,0l-1.419219,-1.442109l-1.419219,-1.442109l0,-1.533672l0,-1.533672l-0.915625,0l-0.915625,0l0,2.128828z",fill:e.color||"#000000"}),(0,oa.jsx)("path",{d:"m19.324999,14.93l0,1.556562l-1.442109,1.419219l-1.442109,1.419219l-1.533672,0l-1.533672,0l0,0.915625l0,0.915625l2.128828,0l2.105937,0l1.785469,-1.785469l1.762578,-1.762578l0,-2.128828l0,-2.105937l-0.915625,0l-0.915625,0l0,1.556562z",fill:e.color||"#000000"})]})},ca=function(e){return(0,oa.jsxs)(ia.Z,{children:[(0,oa.jsx)("line",{x1:"5",y1:"5",x2:"10",y2:"10",strokeWidth:"2",stroke:e.color||"#000000"}),(0,oa.jsx)("line",{x1:"19",y1:"5",x2:"14",y2:"10",strokeWidth:"2",stroke:e.color||"#000000"}),(0,oa.jsx)("line",{x1:"10",y1:"14",x2:"5",y2:"19",strokeWidth:"2",stroke:e.color||"#000000"}),(0,oa.jsx)("line",{x1:"14",y1:"14",x2:"19",y2:"19",strokeWidth:"2",stroke:e.color||"#000000"})]})},da=(ia.Z,function(e){return(0,oa.jsx)(ia.Z,{children:(0,oa.jsx)("path",{d:" M 12 18.923 L 8.686 13 L 5.371 7.077 L 12 7.077 L 18.629 7.077 L 15.314 13 L 12 18.923 Z ",fill:"none",strokeWidth:"2",stroke:e.color||"#000000"})})}),fa=function(e){return(0,oa.jsx)(ia.Z,{children:(0,oa.jsx)("path",{d:" M 3.563 11.324 L 3.563 16.203 L 6.582 19.217 L 9.54 16.268 L 14.414 16.268 L 17.371 19.217 L 20.437 16.156 L 20.437 11.324 L 12.105 2.566 L 3.563 11.324 Z ",fill:"none",strokeWidth:"2",stroke:e.color||"#000000"})})},ha=t.forwardRef((function(e,n){var r=e.anchorOrigin,i=void 0===r?{vertical:"top",horizontal:"right"}:r,o=e.badgeContent,a=e.children,s=e.classes,l=e.className,u=e.color,c=void 0===u?"default":u,d=e.component,f=void 0===d?"span":d,h=e.invisible,p=e.max,v=void 0===p?99:p,m=e.overlap,g=void 0===m?"rectangle":m,y=e.showZero,b=void 0!==y&&y,_=e.variant,x=void 0===_?"standard":_,w=(0,Wn.Z)(e,["anchorOrigin","badgeContent","children","classes","className","color","component","invisible","max","overlap","showZero","variant"]),S=h;null==h&&(0===o&&!b||null==o&&"dot"!==x)&&(S=!0);var k="";return"dot"!==x&&(k=o>v?"".concat(v,"+"):o),t.createElement(f,(0,Fn.Z)({className:(0,Un.Z)(s.root,l),ref:n},w),a,t.createElement("span",{className:(0,Un.Z)(s.badge,s["".concat(i.horizontal).concat((0,Yr.Z)(i.vertical),"}")],s["anchorOrigin".concat((0,Yr.Z)(i.vertical)).concat((0,Yr.Z)(i.horizontal)).concat((0,Yr.Z)(g))],"default"!==c&&s["color".concat((0,Yr.Z)(c))],S&&s.invisible,"dot"===x&&s.dot)},k))})),pa=(0,yr.Z)((function(e){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText},dot:{borderRadius:4,height:8,minWidth:8,padding:0},anchorOriginTopRightRectangle:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginTopRightRectangular:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightRectangle:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginBottomRightRectangular:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftRectangle:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginTopLeftRectangular:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftRectangle:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginBottomLeftRectangular:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginTopRightCircle:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginTopRightCircular:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightCircle:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginBottomRightCircular:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftCircle:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginTopLeftCircular:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftCircle:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginBottomLeftCircular:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},invisible:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}}),{name:"MuiBadge"})(ha),va=n(2149),ma=n(1519),ga=n(8019),ya=n(5589),ba=Hn((function(e){return{rootAvatar:{width:20,height:20,right:15,bottom:3,fontSize:12,fontWeight:700,transition:e.transitions.create("color",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})}}}));function _a(e){var n,r,i=ba(),o=Lr(),a=(0,t.useState)({color:o.palette.text.primary,backgroundColor:o.palette.background.paper}),s=(0,fn.Z)(a,2),l=s[0],u=s[1],c=(0,t.useState)(!1),d=(0,fn.Z)(c,2),f=d[0],h=d[1],p=(0,t.useCallback)((function(t){t.stopPropagation(),"DRONE_SLOT"!==e.variant&&e.dispatchSlotsOpen({type:"AMMO",payload:{slotVariant:e.variant,filter:wa(e.item)}}),e.setActiveSlotNumber(e.index),e.setActiveSlot({type:e.variant,index:e.index})}),[e.index,e.variant,e.item]);return(0,t.useEffect)((function(){void 0!==e.count&&e.count.constructor===Number?h("".concat(e.count)):e.charge?ya.Z.validateChargeSlot({item:e.item,charge:e.charge})?(u({color:o.palette.text.primary,backgroundColor:o.palette.background.paper,border:"0.1px solid ".concat(o.palette.divider)}),h((0,oa.jsx)(ga.Z,{fontSize:"small"}))):(u({color:o.palette.background.paper,backgroundColor:o.palette.property.red}),h((0,oa.jsx)(ma.Z,{fontSize:"small"}))):(h((0,oa.jsx)(va.Z,{fontSize:"small"})),u({color:o.palette.text.primary,backgroundColor:o.palette.background.paper,border:"0.1px solid ".concat(o.palette.background.paper)}))}),[null===(n=e.charge)||void 0===n?void 0:n.typeID,null===(r=e.item)||void 0===r?void 0:r.typeID,e.count,o]),(0,oa.jsx)(pa,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:wa(e.item).group.length>0||xa(e.count)?(0,oa.jsx)(Ei,{className:i.rootAvatar,style:(0,Zn.Z)({},l),onClick:p,children:(0,oa.jsx)(vi,{children:f})}):void 0,children:e.children})}function xa(e){return void 0!==e&&e.constructor===Number}function wa(e){var t;if(!e||!e.typeAttributesStats)return{group:[],size:!1};var n=e.typeAttributesStats;return{group:[604,605,606,609,610].map((function(e){var t=n.find((function(t){return t.attributeID===e}));return t?t.value:void 0})).filter((function(e){return e})),size:null===(t=n.find((function(e){return 128===e.attributeID})))||void 0===t?void 0:t.value}}var Sa=Hn((function(e){return{rootAvatar:{width:10,height:10,right:15,top:3,fontSize:1}}}));function ka(e){var t=Sa();return(0,oa.jsx)(pa,{overlap:"circular",anchorOrigin:{vertical:"top",horizontal:"right"},badgeContent:Ca(e.item)&&(0,oa.jsx)(Ei,{style:{backgroundColor:Ca(e.item)},className:t.rootAvatar,children:""}),children:e.children})}function Ca(e){if(e)switch(e.metaGroupID){case 1:default:return;case 2:return"#f59500";case 3:return"#78bf36";case 4:return"#086101";case 5:return"#340E73";case 6:return"#3660bf";case 14:return"#9F3A03";case 15:return"#ad0000"}}var Ea=Hn((function(e){return{root:{borderRadius:0,width:40}}}));function Ta(e){var t=Ea(),n=Lr();return(0,oa.jsx)(vi,(0,Zn.Z)((0,Zn.Z)({},e),{},{classes:{root:t.root},variant:"contained",style:!0===e.disabled?(0,Zn.Z)((0,Zn.Z)({},e.style),{},{backgroundColor:n.palette.action.hover,color:n.palette.background.paper}):(0,Zn.Z)({},e.style),disableElevation:!0,children:e.children}))}function Pa(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Ia(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Ra(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function Oa(e){return"function"===typeof e?e():e}var La=t.forwardRef((function(e,n){var r=e.action,o=e.anchorEl,a=e.anchorOrigin,s=void 0===a?{vertical:"top",horizontal:"left"}:a,l=e.anchorPosition,u=e.anchorReference,c=void 0===u?"anchorEl":u,d=e.children,f=e.classes,h=e.className,p=e.container,v=e.elevation,m=void 0===v?8:v,g=e.getContentAnchorEl,y=e.marginThreshold,b=void 0===y?16:y,_=e.onEnter,x=e.onEntered,w=e.onEntering,S=e.onExit,k=e.onExited,C=e.onExiting,E=e.open,T=e.PaperProps,P=void 0===T?{}:T,I=e.transformOrigin,R=void 0===I?{vertical:"top",horizontal:"left"}:I,O=e.TransitionComponent,L=void 0===O?Mi:O,D=e.transitionDuration,N=void 0===D?"auto":D,A=e.TransitionProps,M=void 0===A?{}:A,Z=(0,Wn.Z)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),j=t.useRef(),F=t.useCallback((function(e){if("anchorPosition"===c)return l;var t=Oa(o),n=(t&&1===t.nodeType?t:(0,Vn.Z)(j.current).body).getBoundingClientRect(),r=0===e?s.vertical:"center";return{top:n.top+Pa(n,r),left:n.left+Ia(n,s.horizontal)}}),[o,s.horizontal,s.vertical,l,c]),z=t.useCallback((function(e){var t=0;if(g&&"anchorEl"===c){var n=g(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[s.vertical,c,g]),B=t.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:Pa(e,R.vertical)+t,horizontal:Ia(e,R.horizontal)}}),[R.horizontal,R.vertical]),H=t.useCallback((function(e){var t=z(e),n={width:e.offsetWidth,height:e.offsetHeight},r=B(n,t);if("none"===c)return{top:null,left:null,transformOrigin:Ra(r)};var i=F(t),a=i.top-r.vertical,s=i.left-r.horizontal,l=a+n.height,u=s+n.width,d=(0,ir.Z)(Oa(o)),f=d.innerHeight-b,h=d.innerWidth-b;if(a<b){var p=a-b;a-=p,r.vertical+=p}else if(l>f){var v=l-f;a-=v,r.vertical+=v}if(s<b){var m=s-b;s-=m,r.horizontal+=m}else if(u>h){var g=u-h;s-=g,r.horizontal+=g}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:Ra(r)}}),[o,c,F,z,B,b]),W=t.useCallback((function(){var e=j.current;if(e){var t=H(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[H]),U=t.useCallback((function(e){j.current=i.findDOMNode(e)}),[]);t.useEffect((function(){E&&W()})),t.useImperativeHandle(r,(function(){return E?{updatePosition:function(){W()}}:null}),[E,W]),t.useEffect((function(){if(E){var e=(0,Br.Z)((function(){W()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[E,W]);var G=N;"auto"!==N||L.muiSupportAuto||(G=void 0);var q=p||(o?(0,Vn.Z)(Oa(o)).body:void 0);return t.createElement(gr,(0,Fn.Z)({container:q,open:E,ref:n,BackdropProps:{invisible:!0},className:(0,Un.Z)(f.root,h)},Z),t.createElement(L,(0,Fn.Z)({appear:!0,in:E,onEnter:_,onEntered:x,onExit:S,onExited:k,onExiting:C,timeout:G},M,{onEntering:(0,Jn.Z)((function(e,t){w&&w(e,t),W()}),M.onEntering)}),t.createElement(Vr,(0,Fn.Z)({elevation:m,ref:U},P,{className:(0,Un.Z)(f.paper,P.className)}),d)))})),Da=(0,yr.Z)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(La);function Na(e){var n,r=(0,t.useState)(!1),i=(0,fn.Z)(r,2),o=i[0],a=i[1],s=(0,t.useRef)(null);return(0,t.useEffect)((function(){e.open||!0!==o||a(!1)}),[e.open]),(0,oa.jsxs)(t.Fragment,{children:[(0,oa.jsx)("div",{ref:s,onClick:function(){!0!==e.menuButton.props.disabled&&a(!o)},children:e.menuButton}),(0,oa.jsx)(Da,{open:e.open&&o,anchorEl:s.current,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:function(){return a(!1)},PaperProps:{style:{width:null===(n=s.current)||void 0===n?void 0:n.clientWidth},elevation:0,square:!0},container:s.current,children:e.children})]})}var Aa=function(e){return(0,oa.jsxs)(ia.Z,{children:[(0,oa.jsx)("path",{d:" M 7.449 2.745 Q 7.108 5.589 9.411 8.575 C 11.991 11.918 6.369 12.954 8.473 15.342 C 10.577 17.731 9.657 19.095 9.212 19.437 C 8.843 19.722 7.165 19.693 6.084 17.731 C 5.004 15.769 4.918 13.466 7.449 11.134 Q 9.98 8.802 6.795 7.523 L 7.449 2.745 Z ",fill:e.color||"#ffffff"}),(0,oa.jsx)("path",{d:" M 11.761 2.745 Q 11.42 5.589 13.723 8.575 C 16.303 11.918 10.681 12.954 12.785 15.342 C 14.889 17.731 13.969 19.095 13.524 19.437 C 13.155 19.722 11.477 19.693 10.396 17.731 C 9.316 15.769 9.231 13.466 11.761 11.134 Q 14.292 8.802 11.107 7.523 L 11.761 2.745 Z ",fill:e.color||"#ffffff"}),(0,oa.jsx)("path",{d:" M 15.978 2.745 Q 15.636 5.589 17.94 8.575 C 20.519 11.918 14.897 12.954 17.001 15.342 C 19.106 17.731 18.185 19.095 17.741 19.437 C 17.371 19.722 15.693 19.693 14.613 17.731 C 13.532 15.769 13.447 13.466 15.978 11.134 Q 18.508 8.802 15.324 7.523 L 15.978 2.745 Z ",fill:e.color||"#ffffff"})]})},Ma=function(e){return(0,oa.jsx)(ia.Z,{children:(0,oa.jsx)("path",{d:" M 16.746 12 L 12 14.74 L 7.254 17.48 L 7.254 12 L 7.254 6.52 L 12 9.26 L 16.746 12 Z ",fill:e.color||"#ffffff"})})},Za=function(e){return(0,oa.jsxs)(ia.Z,{children:[(0,oa.jsx)("line",{x1:"14.742",y1:"6.625",x2:"14.742",y2:"17.375",strokeWidth:"2",stroke:e.color||"#ffffff"}),(0,oa.jsx)("line",{x1:"9.258",y1:"6.625",x2:"9.258",y2:"17.375",strokeWidth:"2",stroke:e.color||"#ffffff"})]})},ja=function(e){return(0,oa.jsx)(ia.Z,{children:(0,oa.jsx)("path",{d:" M 7.073 12 C 7.073 9.281 9.281 7.073 12 7.073 C 14.719 7.073 16.927 9.281 16.927 12 C 16.927 14.719 14.719 16.927 12 16.927 C 9.281 16.927 7.073 14.719 7.073 12 Z ",fill:"none",strokeWidth:"2",stroke:e.color||"#ffffff"})})},Fa=Hn((function(e){return{rootButton:{width:"100%",minWidth:20},overloadButton:{width:"100%",minWidth:20,backgroundColor:e.palette.property.red},activationButton:{width:"100%",minWidth:20,backgroundColor:e.palette.property.green},passiveButton:{width:"100%",minWidth:20,backgroundColor:e.palette.property.org},offlineButton:{width:"100%",minWidth:20,backgroundColor:e.palette.property.grey}}})),za=function(e){var t=Fa(),n=Lr();return(0,oa.jsx)(ra,{title:"Overload",placement:"left",arrow:!0,children:(0,oa.jsx)("div",{children:(0,oa.jsx)(Ta,{className:t.overloadButton,onClick:function(){e.dispatchListItems({type:e.variant,payload:"overload"})},disabled:e.disabled,children:(0,oa.jsx)(Aa,{color:e.disabled?n.palette.background.paper:n.palette.button.color})})})})},Ba=function(e){var t=Fa(),n=Lr();return(0,oa.jsx)(ra,{title:"Active",placement:"left",arrow:!0,children:(0,oa.jsx)("div",{children:(0,oa.jsx)(Ta,{className:t.activationButton,onClick:function(){e.dispatchListItems({type:e.variant,payload:"activation"})},disabled:e.disabled,children:(0,oa.jsx)(Ma,{color:e.disabled?n.palette.background.paper:n.palette.button.color})})})})},Ha=function(e){var t=Fa(),n=Lr();return(0,oa.jsx)(ra,{title:"Online",placement:"left",arrow:!0,children:(0,oa.jsx)("div",{children:(0,oa.jsx)(Ta,{className:t.passiveButton,onClick:function(){e.dispatchListItems({type:e.variant,payload:"passive"})},disabled:e.disabled,children:(0,oa.jsx)(ja,{color:e.disabled?n.palette.background.paper:n.palette.button.color})})})})},Wa=function(e){var t=Fa(),n=Lr();return(0,oa.jsx)(ra,{title:"Offline",placement:"left",arrow:!0,children:(0,oa.jsx)("div",{children:(0,oa.jsx)(Ta,{className:t.offlineButton,onClick:function(){e.dispatchListItems({type:e.variant,payload:"offline"})},disabled:e.disabled,children:(0,oa.jsx)(Za,{color:e.disabled?n.palette.background.paper:n.palette.button.color})})})})};function Ua(e){var n,r,i,o,a,s=Fa(),l=Lr(),u=(0,t.useState)(!0),c=(0,fn.Z)(u,2),d=c[0],f=c[1];return(0,t.useEffect)((function(){switch(ya.Z.getInitialState(e.activeItem)){case"activation":f(!0);break;case"passive":f(!1);break;default:f(void 0)}}),[null===(n=e.activeItem)||void 0===n?void 0:n.typeID]),(0,oa.jsxs)(Na,{open:e.slotsOpen[e.variant].open,menuButton:(0,oa.jsx)(Ta,{className:s.rootButton,style:{backgroundColor:Ga(null===(r=e.activeItem)||void 0===r?void 0:r.typeState,"AMMO"===e.variant,l)},disabled:!(null!==(i=e.activeItem)&&void 0!==i&&i.typeID),children:(0,oa.jsx)(ra,{title:"Item state",placement:"bottom",arrow:!0,children:(0,oa.jsx)("div",{style:{height:24},children:qa(null===(o=e.activeItem)||void 0===o?void 0:o.typeState,"AMMO"===e.variant,!(null!==(a=e.activeItem)&&void 0!==a&&a.typeID),l)})})}),children:[(0,oa.jsx)(za,{variant:e.variant,dispatchListItems:e.dispatchListItems,disabled:!d||"DRONE_SLOT"===e.variant||"AMMO"===e.variant}),(0,oa.jsx)(Ba,{variant:e.variant,dispatchListItems:e.dispatchListItems,disabled:!d||"AMMO"===e.variant}),(0,oa.jsx)(Ha,{variant:e.variant,dispatchListItems:e.dispatchListItems}),(0,oa.jsx)(Wa,{variant:e.variant,dispatchListItems:e.dispatchListItems,disabled:"AMMO"===e.variant})]})}function Ga(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(!0===t)return n.palette.property.org;switch(e){case"overload":return n.palette.property.red;case"activation":return n.palette.property.green;case"passive":return n.palette.property.org;case"offline":return n.palette.property.grey;default:return n.palette.action.hover}}function qa(e,t,n,r){if(!0===t)return(0,oa.jsx)(ja,{color:n?r.palette.background.paper:r.palette.button.color});switch(e){case"overload":return(0,oa.jsx)(Aa,{color:n?r.palette.background.paper:r.palette.button.color});case"activation":return(0,oa.jsx)(Ma,{color:n?r.palette.background.paper:r.palette.button.color});case"passive":return(0,oa.jsx)(ja,{color:n?r.palette.background.paper:r.palette.button.color});default:return(0,oa.jsx)(Za,{color:n?r.palette.background.paper:r.palette.button.color})}}var Va=Hn((function(e){return{root:{height:50,width:"110%",minWidth:60},rootActive:{height:50,width:"110%",minWidth:60,backgroundColor:e.palette.action.hover},rootDiv:{position:"absolute",left:0,top:0},rootAvatarDefault:{width:40,height:40,marginLeft:10,marginTop:4,backgroundColor:e.palette.background.paper,border:"0.1px solid ".concat(e.palette.divider),marginRight:20},stateArcBorder:{width:40,height:40,borderRadius:"50%",border:"3px solid",borderLeftColor:"transparent",borderRightColor:"transparent",borderTopColor:"transparent",borderBottomColor:"transparent",position:"absolute",top:2,left:7}}}));function Ya(e){var n,r,i,o,a,s=Va(),l=Lr(),u=(0,t.useState)(!1),c=(0,fn.Z)(u,2),d=c[0],f=c[1],h=(0,t.useState)(!1),p=(0,fn.Z)(h,2),v=p[0],m=p[1],g=(0,t.useState)(!1),y=(0,fn.Z)(g,2),b=(y[0],y[1],(0,t.useCallback)((function(){switch(e.setActiveSlotNumber(e.index),e.setImportFitText(!1),e.variant){case"RIG_SLOT":e.dispatchSlotsOpen({type:"RIG_SLOT",payload:{filter:Qa(e.slots.ship)}});break;case"DRONE_SLOT":e.dispatchSlotsOpen({type:"DRONE_SLOT",payload:{filter:$a(e.slots.ship)}});break;case"IMPLANT_SLOT":case"DRUG_SLOT":if(!0===e.slotsOpen[e.variant].open)break;default:e.dispatchSlotsOpen({type:e.variant})}}),[null===(n=e.slots.ship)||void 0===n?void 0:n.typeID,e.variant,e.index,e.slotsOpen[e.variant].open]));return(0,t.useEffect)((function(){!0!==e.isActive&&!0!==e.isActive.open||(e.setActiveSlot({type:e.variant,index:e.index}),"IMPLANT_SLOT"===e.variant?e.dispatchSlotsOpen({type:"IMPLANT_SLOT",payload:{filter:{typeSlotNumber:e.index+1}}}):"DRUG_SLOT"===e.variant&&e.dispatchSlotsOpen({type:"DRUG_SLOT",payload:{filter:{typeSlotNumber:Ja(e.index)}}}))}),[e.isActive]),(0,t.useEffect)((function(){var t=e.fetchedItem;t&&t.typeID?f(e.fetchedItem):f(!1)}),[null===(r=e.fetchedItem)||void 0===r?void 0:r.typeID]),(0,t.useEffect)((function(){var t=e.fetchedCharge;t&&t.typeID?m(e.fetchedCharge):m(!1)}),[null===(i=e.fetchedCharge)||void 0===i?void 0:i.typeID]),(0,oa.jsx)(t.Fragment,{children:(0,oa.jsxs)(wi,{className:e.isActive?s.rootActive:s.root,onClick:b,dense:!0,button:!0,children:[(0,oa.jsx)("div",{className:s.rootDiv,children:(0,oa.jsx)(_a,(0,Zn.Z)((0,Zn.Z)({},e),{},{item:d,charge:v,count:null===(o=e.fetchedItem)||void 0===o?void 0:o.typeCount,children:(0,oa.jsxs)(ka,{item:d,children:[(0,oa.jsx)("div",{className:s.stateArcBorder,style:{borderLeftColor:Ga(null===e||void 0===e||null===(a=e.fetchedItem)||void 0===a?void 0:a.typeState,!1,l)}}),(0,oa.jsx)(Ei,{className:s.rootAvatarDefault,children:(0,oa.jsx)(vi,{disableRipple:!0,children:d?Ka(d,v):es(e,l)})})]})}))}),(0,oa.jsx)(Oi,{style:{marginLeft:50},primary:ts(e,d),primaryTypographyProps:{noWrap:!0,variant:"subtitle2"},secondary:!!v&&"".concat(null===v||void 0===v?void 0:v.typeName," ").concat(Xa(d,v)),secondaryTypographyProps:{noWrap:!0,variant:"subtitle2",style:{color:l.palette.text.secondary}}})]})})}function Ka(e,t){return e&&!t?(0,oa.jsx)("img",{draggable:"false",style:{width:"85%",height:"85%",marginLeft:-2},src:"https://images.evetech.net/types/".concat(null===e||void 0===e?void 0:e.typeID,"/icon?size=64")}):e&&t?(0,oa.jsx)("img",{draggable:"false",style:{width:"85%",height:"85%",marginLeft:-2},src:"https://images.evetech.net/types/".concat(null===t||void 0===t?void 0:t.typeID,"/icon?size=64")}):void 0}function Xa(e,t){var n=e.capacity/t.volume||1;return 1===n?"":"x".concat(Math.floor(n))}function Qa(e){var t;if(e)return{size:null===(t=e.typeAttributesStats.find((function(e){return 1547===e.attributeID})))||void 0===t?void 0:t.value}}function $a(e){var t;if(e)return{size:null===(t=e.typeAttributesStats.find((function(e){return 1271===e.attributeID})))||void 0===t?void 0:t.value}}function Ja(e){return e<3?e+1:3===e?11:14}function es(e,t){switch(e.variant){case"SHIP":return(0,oa.jsx)(ra,{open:e.open&&!e.slotsOpen.SHIP.open,title:"Click here to choose ship",placement:"right",arrow:!0,children:(0,oa.jsx)("div",{style:{height:24},children:(0,oa.jsx)(fa,{color:t.palette.text.primary})})});case"MISC_SLOT":return(0,oa.jsx)(da,{color:t.palette.text.primary});case"HIGH_SLOT":return(0,oa.jsx)(aa,{color:t.palette.text.primary});case"MID_SLOT":return(0,oa.jsx)(sa,{color:t.palette.text.primary});case"LOW_SLOT":return(0,oa.jsx)(la,{color:t.palette.text.primary});case"RIG_SLOT":return(0,oa.jsx)(ua,{color:t.palette.text.primary});case"DRONE_SLOT":return(0,oa.jsx)(ca,{color:t.palette.text.primary});case"IMPLANT_SLOT":return function(e,t){return(0,oa.jsx)(Ii,{style:{color:t.palette.text.primary,fontWeight:700},children:"".concat(e.index+1)})}(e,t);case"DRUG_SLOT":return function(e,t){var n=e.index>=3?3===e.index?11:14:e.index+1;return(0,oa.jsx)(Ii,{style:{color:t.palette.text.primary,fontWeight:700},children:"".concat(n)})}(e,t)}}function ts(e,t){return t.typeName||e.variant,t.typeName}var ns=n(6274),rs=n(9359),is=(0,rs.Z)("extractIDs_getTypeNames"),os=(0,rs.Z)("buildFitFromText_getModuleText"),as=(0,rs.Z)("buildFitFromText_buildModules"),ss=(0,rs.Z)("buildFitFromText_buildModule"),ls=(0,rs.Z)("buildFitFromText_buildDrones"),us=(0,rs.Z)("buildFitFromText_divideBy_x"),cs=(0,rs.Z)("buildFitFromText_readoutTextBlock"),ds=(0,rs.Z)("buildTextFromFit_moduleSlots"),fs=(0,rs.Z)("buildTextFromFit_droneSlots"),hs=(0,rs.Z)("buildCompareTextFromFit_moduleSlots"),ps=(0,rs.Z)("buildCompareTextFromFit_droneSlots"),vs=(0,rs.Z)("common_findIdByName"),ms=function(){function e(){(0,gn.Z)(this,e)}return(0,yn.Z)(e,null,[{key:"extractIDs",value:function(t,n){return n?(0,ns.Z)(e,is)[is](t).reduce((function(e,t){var r=n.find((function(e){return e.typeName===t}));return r&&e.push(r.typeID),e}),[]):[]}}]),e}();function gs(e,t){if(e&&e.typeAttributesStats&&e.typeAttributesStats.constructor===Array){var n=e.typeAttributesStats.filter((function(e){return e.attributeID===t}));return 1===n.length?n[0].value:n.length>=2?n.map((function(e){return e.value})):void 0}}Object.defineProperty(ms,is,{writable:!0,value:function(e){var t=e.slice(0,e.indexOf("]")+1),n=e.substring(e.indexOf("]")+1),r=t.replace("[","").split(",")[0],i=(0,nr.Z)(new Set(n.split(/\r?\n/).reduce((function(e,t){var n=t.split(", "),r=t.split(" x");if(2===n.length){var i=n[0],o=n[1];return e.concat([i,o])}if(2===r.length){var a=r[0];return e.concat([a])}return""!==t?e.concat(t):e}),[])));return[r].concat((0,nr.Z)(i))}}),ms.buildFitFromText=function(e,t){var n=e.split("||\n"),r=(0,fn.Z)(n,2),i=r[0],o=r[1],a=i.slice(0,i.indexOf("]")+1).replace("[","").split(",")[0],s=(0,ns.Z)(ms,vs)[vs](a,t),l=i.split(/\r?\n\r?\n\r?\n/),u=(0,ns.Z)(ms,os)[os](l),c=l[1],d=(0,ns.Z)(ms,as)[as](u,o,t),f=(0,ns.Z)(ms,ls)[ls](c,t);return(0,Zn.Z)((0,Zn.Z)({ship:s},d),f)},Object.defineProperty(ms,os,{writable:!0,value:function(e){var t=e[0].indexOf("]")+1;return e[0].substring(t).trimStart()}}),Object.defineProperty(ms,as,{writable:!0,value:function(e,t,n){var r=e.split(/\r?\n\r?\n/),i={};["lowSlots","midSlots","highSlots","rigSlots","miscSlots"].forEach((function(e,t){i[e]=(0,ns.Z)(ms,ss)[ss](r[t],n)}));var o=t?t.split(/\r?\n\r?\n/):[];return["implantSlots","drugSlots"].forEach((function(e,t){i[e]=(0,ns.Z)(ms,ss)[ss](o[t],n)})),i}}),Object.defineProperty(ms,ss,{writable:!0,value:function(e,t){return e?e.split(/\r?\n/).map((function(e){if(-1!==e.indexOf("Empty"))return{item:!1,chage:!1};var n=e.split(", ")[0],r=e.split(", ")[1];return{item:(0,ns.Z)(ms,vs)[vs](n,t),charge:(0,ns.Z)(ms,vs)[vs](r,t)}})):[]}}),Object.defineProperty(ms,ls,{writable:!0,value:function(e,t){return"droneSlots"!==(0,ns.Z)(ms,cs)[cs](e,t)?{}:{droneSlots:e.split(/\r?\n/).filter((function(e){return""!==e})).map((function(e){var n=(0,ns.Z)(ms,us)[us](e),r=n.typeName,i=n.typeCount,o=(0,ns.Z)(ms,vs)[vs](r,t);return{item:(0,Zn.Z)((0,Zn.Z)({},o),{},{typeCount:i}),charge:!1}}))}}}),Object.defineProperty(ms,us,{writable:!0,value:function(e){var t=e.split(" x");return{typeName:t[0],typeCount:Number(t[1])}}}),Object.defineProperty(ms,cs,{writable:!0,value:function(e,t){if(!e)return"undefined";var n=e.slice(0,e.search(/\r?\n/));if(-1!==n.indexOf(" x")){var r=n.split(" x")[0];return!!(0,ns.Z)(ms,vs)[vs](r,t).typeDroneSize&&"droneSlots"}if(-1!==n.indexOf(",")){var i=n.split(", ")[0],o=(0,ns.Z)(ms,vs)[vs](i,t);return o.typeIsHiPower?"highSlots":o.typeIsMedPower?"midSlots":o.typeIsLoPower?"lowSlots":"ship"}return!1}}),ms.buildInternalTextFromFit=function(e){return[ms.buildTextFromFit(e),[(0,ns.Z)(ms,ds)[ds](null===e||void 0===e?void 0:e.implantSlots,"[Empty Implant slot]"),(0,ns.Z)(ms,ds)[ds](null===e||void 0===e?void 0:e.drugSlots,"[Empty Drug slot]")].join("\n\n")].join("||\n")},ms.buildTextFromFit=function(e){var t,n;return[["[".concat(null===e||void 0===e||null===(t=e.ship)||void 0===t?void 0:t.typeName,", ").concat(null===e||void 0===e||null===(n=e.ship)||void 0===n?void 0:n.typeName," fit]"),(0,ns.Z)(ms,ds)[ds](null===e||void 0===e?void 0:e.lowSlots,"[Empty Low slot]"),(0,ns.Z)(ms,ds)[ds](null===e||void 0===e?void 0:e.midSlots,"[Empty Med slot]"),(0,ns.Z)(ms,ds)[ds](null===e||void 0===e?void 0:e.highSlots,"[Empty High slot]"),(0,ns.Z)(ms,ds)[ds](null===e||void 0===e?void 0:e.rigSlots,"[Empty Rig slot]"),(0,ns.Z)(ms,ds)[ds](null===e||void 0===e?void 0:e.miscSlots,"[Empty Subsystem slot]")].filter((function(e){return!!e})).join("\n\n"),(0,ns.Z)(ms,fs)[fs](null===e||void 0===e?void 0:e.droneSlots,"[Empty Subsystem slot]")].join("\n\n\n")},Object.defineProperty(ms,ds,{writable:!0,value:function(e,t){return!(!e||0===e.length)&&e.map((function(e){return e&&e.item?e.charge?e.item.typeName.concat(", ",e.charge.typeName):e.item.typeName:t})).join("\n")}}),Object.defineProperty(ms,fs,{writable:!0,value:function(e){return e?e.map((function(e){return e&&e.item?"".concat(e.item.typeName," x").concat(e.item.typeCount):""})).join("\n"):""}}),ms.buildCompareTextFromFit=function(e){var t,n,r;return null!==e&&void 0!==e&&e.ship?["[".concat(null===e||void 0===e||null===(t=e.ship)||void 0===t?void 0:t.typeName,", ").concat(null===e||void 0===e||null===(n=e.ship)||void 0===n?void 0:n.typeName," fit] ").concat(null===e||void 0===e||null===(r=e.ship)||void 0===r?void 0:r.typeState),(0,ns.Z)(ms,hs)[hs](null===e||void 0===e?void 0:e.miscSlots,"[Empty Misc slot]"),(0,ns.Z)(ms,hs)[hs](null===e||void 0===e?void 0:e.lowSlots,"[Empty Low slot]"),(0,ns.Z)(ms,hs)[hs](null===e||void 0===e?void 0:e.midSlots,"[Empty Med slot]"),(0,ns.Z)(ms,hs)[hs](null===e||void 0===e?void 0:e.highSlots,"[Empty High slot]"),(0,ns.Z)(ms,hs)[hs](null===e||void 0===e?void 0:e.rigSlots,"[Empty Rig slot]"),(0,ns.Z)(ms,hs)[hs](null===e||void 0===e?void 0:e.implantSlots,"[Empty Implant slot]"),(0,ns.Z)(ms,hs)[hs](null===e||void 0===e?void 0:e.drugSlots,"[Empty Drug slot]"),(0,ns.Z)(ms,ps)[ps](null===e||void 0===e?void 0:e.droneSlots),e.skills?"skills":"noSkills"].join("\n\n"):"Invalid_fit"},Object.defineProperty(ms,hs,{writable:!0,value:function(e,t){return e?e.map((function(e){return e&&e.item?e.charge?"".concat(e.item.typeName,", ").concat(e.charge.typeName," ").concat(e.item.typeState):"".concat(e.item.typeName," ").concat(e.item.typeState):t})).join("\n"):""}}),Object.defineProperty(ms,ps,{writable:!0,value:function(e){return e?e.map((function(e){var t=e.item;return"".concat(t.typeName," x").concat(t.typeCount," ").concat(t.typeState)})).join("\n"):""}}),Object.defineProperty(ms,vs,{writable:!0,value:function(e,t){if(!e)return!1;var n=t.find((function(t){return t.typeName===e}));return n||!1}});var ys=t.forwardRef((function(e,n){var r=e.absolute,i=void 0!==r&&r,o=e.classes,a=e.className,s=e.component,l=void 0===s?"hr":s,u=e.flexItem,c=void 0!==u&&u,d=e.light,f=void 0!==d&&d,h=e.orientation,p=void 0===h?"horizontal":h,v=e.role,m=void 0===v?"hr"!==l?"separator":void 0:v,g=e.variant,y=void 0===g?"fullWidth":g,b=(0,Wn.Z)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return t.createElement(l,(0,Fn.Z)({className:(0,Un.Z)(o.root,a,"fullWidth"!==y&&o[y],i&&o.absolute,c&&o.flexItem,f&&o.light,"vertical"===p&&o.vertical),role:m,ref:n},b))})),bs=(0,yr.Z)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:(0,Jr.Fq)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(ys),_s=Hn((function(e){return{root:{position:"relative"},lodingIndicator:{position:"absolute",height:10,width:10,top:2,left:2,backgroundColor:e.palette.property.gre},divider:{width:"200%"}}}));function xs(e){var n,r,i=_s(),o=(0,t.useState)(new Array(e.slotCount).fill(!1)),a=(0,fn.Z)(o,2),s=a[0],l=a[1],u=(0,t.useState)(new Array(e.slotCount).fill(!1)),c=(0,fn.Z)(u,2),d=c[0],f=c[1],h=(0,t.useState)(new Array(e.slotCount).fill(!1)),p=(0,fn.Z)(h,2),v=p[0],m=p[1],g=(0,t.useState)(new Array(e.slotCount).fill(!1)),y=(0,fn.Z)(g,2),b=y[0],_=y[1],x={setRawItems:l,setFetchedItems:m,setRawCharges:f,setFetchedCharges:_},w=(0,t.useState)(0),S=(0,fn.Z)(w,2),k=S[0],C=S[1],E=(0,t.useState)(!0),T=(0,fn.Z)(E,2),P=T[0],I=T[1],R=(0,t.useState)(!1),O=(0,fn.Z)(R,2),L=O[0],D=O[1],N=(0,t.useRef)(0);return(0,t.useEffect)((function(){e.importFitText||"SHIP"===e.variant||(s.length=e.slotCount,l(Array.from(s,(function(e){return e||!1}))),d.length=e.slotCount,f(Array.from(d,(function(e){return e||!1}))))}),[e.slotCount]),(0,t.useEffect)((function(){e.importFitText||"SHIP"===e.variant||(l(new Array(e.slotCount).fill(!1)),f(new Array(e.slotCount).fill(!1)))}),[null===(n=e.slots.ship)||void 0===n?void 0:n.typeID]),(0,t.useEffect)((function(){e.importFitText&&pn(mn().mark((function t(){return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ss(e);case 2:if(!t.sent){t.next=4;break}ws(e,s,d,x);case 4:case"end":return t.stop()}}),t)})))()}),[e.importFitText,null===(r=e.slots.ship)||void 0===r?void 0:r.typeID]),(0,t.useEffect)((function(){switch(e.listItems[e.variant]){case!1:case void 0:return;case"DEL":s[k]=!1,d[k]=!1;break;case"ADD":var t=s[k];return t.typeCount=Ls(t.typeCount,1,6),l((0,nr.Z)(s)),void e.dispatchListItems({type:e.variant,payload:!1});case"activation":Ps(s[k],"activation");break;case"offline":Ps(s[k],"offline");break;case"passive":Ps(s[k],"passive");break;case"overload":Ps(s[k],"overload");break;case"LOOPLOOP":return void I(!P);default:(function(e,t){if(!0!==t.typeIsTurretFitted&&!0!==t.typeIsLauncherFitted)return!0;var n=function(e){var t=0,n=0;return ya.Z.mapSlots(e,(function(e){var r,i,o,a,s=!(null===e||void 0===e||null===(r=e.item)||void 0===r||null===(i=r.typeEffectsStats)||void 0===i||!i.find((function(e){return 42===e.effectID}))),l=!(null===e||void 0===e||null===(o=e.item)||void 0===o||null===(a=o.typeEffectsStats)||void 0===a||!a.find((function(e){return 40===e.effectID})));return!0===s?++t:!0===l?++n:void 0}),{isIterate:{highSlots:!0}}),{turretPointLoad:t,launcherPointLoad:n}}(e);if(!0===t.typeIsTurretFitted)return gs(e.ship,102)>n.turretPointLoad;if(!0===t.typeIsLauncherFitted)return gs(e.ship,101)>n.launcherPointLoad})(e.fit,e.listItems[e.variant])&&(!function(e,t,n,r){t[r]=(0,Zn.Z)({},e.listItems[e.variant]),void 0===n[r]&&(n[r]=!1)}(e,s,d,k),function(e,t){"DRONE_SLOT"===e.variant&&void 0===t.typeCount&&(t.typeCount=1)}(e,s[k]),Ps(s[k],"activation"))}l((0,nr.Z)(s)),f((0,nr.Z)(d)),e.dispatchListItems({type:e.variant,payload:!1}),!0===P&&C(Ls(k,0,e.slotCount,e.variant))}),[e.listItems[e.variant]]),(0,t.useEffect)((function(){switch(e.listItems.AMMO){case!1:case void 0:case"activation":case"offline":case"passive":case"overload":return;case"DEL":d[k]=!1,_((0,nr.Z)(d));break;case"LOOPLOOP":I(!P);break;default:if(e.slotsOpen.AMMO.slotVariant!==e.variant)break;if(!s[k])break;d[k]=e.listItems.AMMO,Ps(d[k],"passive"),f((0,nr.Z)(d))}e.dispatchListItems({type:"AMMO",payload:!1}),!0===P&&C(Ls(k,0,e.slotCount))}),[e.listItems.AMMO]),(0,t.useEffect)((function(){N.current=N.current+1,D(!0),function(){var e=pn(mn().mark((function e(t,n,r,i){var o,a,s;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Es(t,n,r,i));case 2:if(o=e.sent,a=o[o.length-1],s=o.slice(0,o.length-1),a===N.current){e.next=9;break}return e.abrupt("return",void 0);case 9:!1===s||Ts(t,s,n,r,x);case 10:D(!1);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(e,s,d,N.current)}),[Is(s,d)]),e.slotCount>0&&(0,oa.jsx)(t.Fragment,{children:(0,oa.jsxs)("div",{className:i.root,children:[(0,oa.jsx)(bs,{className:i.divider,style:{backgroundColor:e.backgroundColor}}),new Array(e.slotCount).fill(void 0).map((function(t,n){return(0,oa.jsx)(Ya,{variant:e.variant,open:e.open,slotsOpen:e.slotsOpen,slots:e.slots,fetchedItem:v[n],fetchedCharge:b[n],dispatchSlotsOpen:e.dispatchSlotsOpen,setActiveSlot:e.setActiveSlot,isActive:k===n&&(e.slotsOpen[e.variant].open||e.slotsOpen.AMMO.slotVariant===e.variant),index:n,activeSlotNumber:k,setActiveSlotNumber:C,setImportFitText:e.setImportFitText,cache:e.cache},"".concat(e.variant,":").concat(n))})),L&&(0,oa.jsx)(Ei,{className:i.lodingIndicator,children:""})]})})}function ws(e,t,n,r){e.importFitText&&function(){var i=pn(mn().mark((function i(o){var a,s,l,u,c,d;return mn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.cache.wait("/typeIDsTable");case 2:return a=i.sent,s=ms.buildFitFromText(o,a),i.next=6,e.cache.wait("typeID/".concat(s.ship.typeID));case 6:if(l=i.sent,"SHIP"!==e.variant){i.next=11;break}return r.setRawItems([s.ship]),e.dispatchImportStateFlag({type:e.variant}),i.abrupt("return",void 0);case 11:u=Cs({ship:l},s,e),c=new Array(u).fill(!1),d=new Array(u).fill(!1),(s[Kc(e.variant)]||[]).forEach((function(e,t){c[t]=!!e.item&&(0,Zn.Z)((0,Zn.Z)({},e.item),{},{typeState:"activation"}),d[t]=!!e.charge&&(0,Zn.Z)((0,Zn.Z)({},e.charge),{},{typeState:"passive"})})),Is(t,n)===Is(c,d)?e.dispatchImportStateFlag({type:e.variant}):(r.setRawItems(c),r.setRawCharges(d));case 17:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()(e.importFitText)}function Ss(e){return ks.apply(this,arguments)}function ks(){return ks=pn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.importFitText){e.next=2;break}return e.abrupt("return",!1);case 2:if("SHIP"!==t.variant){e.next=4;break}return e.abrupt("return",!0);case 4:return e.next=6,function(){var e=pn(mn().mark((function e(n){var r,i,o,a;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.cache.wait("/typeIDsTable");case 2:return i=e.sent,o=ms.buildFitFromText(n,i),e.next=6,t.cache.wait("typeID/".concat(o.ship.typeID));case 6:if(a=e.sent){e.next=11;break}return e.abrupt("return",!1);case 11:return e.abrupt("return",a.typeID===(null===(r=t.slots.ship)||void 0===r?void 0:r.typeID));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t.importFitText);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),ks.apply(this,arguments)}function Cs(e,t,n){var r;return!0===(963===e.ship.groupID)?null===(r=t[Kc(n.variant)])||void 0===r?void 0:r.length:tl(e,n.variant)}function Es(e,t,n,r){if(t.length!==n.length)return[Promise.resolve(!1),Promise.resolve(r)];var i=t.map((function(t){return!1===t?Promise.resolve(!1):e.cache.wait("typeID/".concat(null===t||void 0===t?void 0:t.typeID))})),o=n.map((function(t){return!1===t?Promise.resolve(!1):e.cache.wait("typeID/".concat(null===t||void 0===t?void 0:t.typeID))})),a=Promise.resolve(r);return[].concat((0,nr.Z)(i),(0,nr.Z)(o),[a])}function Ts(e,t,n,r,i){var o=t.slice(0,t.length/2),a=t.slice(t.length/2),s=new Array(o.length).fill(!1),l=new Array(a.length).fill(!1),u=[];o.forEach((function(e,t){var i,o=null===(i=n[t])||void 0===i?void 0:i.typeCount,c=n[t]?ya.Z.getCurrentState((0,Zn.Z)((0,Zn.Z)({},e),n[t])):void 0,d=!!n[t]&&(0,Zn.Z)((0,Zn.Z)((0,Zn.Z)({},n[t]),e),{},{typeState:c,typeCount:o}),f=!!ya.Z.validateChargeSlot({item:d,charge:a[t]})&&(0,Zn.Z)((0,Zn.Z)({},r[t]),a[t]);s[t]=d,l[t]=f,u.push({item:d,charge:f}),!1===f&&(r[t]=!1),n[t]&&c&&(n[t].typeState=c)})),u.reduce((function(e,t){var n,r,i,o;return!!e&&!(null!==(n=t.item)&&void 0!==n&&n.typeID&&(null===(r=t.item)||void 0===r||!r.typeAttributesStats))&&!(null!==(i=t.charge)&&void 0!==i&&i.typeID&&(null===(o=t.charge)||void 0===o||!o.typeAttributesStats))}),!0)&&e.dispatchSlots({type:e.variant,payload:u}),i.setFetchedCharges((0,nr.Z)(l)),i.setFetchedItems((0,nr.Z)(s)),e.importFitText&&e.dispatchImportStateFlag({type:e.variant})}function Ps(e,t){switch(void 0===e.typeState&&(e.typeState="activation"),t){case"offline":case"overload":case"passive":case"activation":e.typeState=t;break;default:e.typeState="activation"}}function Is(e,t){return[Rs(e),(n=e,n.map((function(e){return e&&e.typeState})).join("-")),Os(e),Rs(t)].join(":");var n}function Rs(e){return e.map((function(e){return e&&e.typeName})).join("-")}function Os(e){return e.map((function(e){return e&&e.typeCount})).join("-")}function Ls(e,t,n,r){return"DRONE_SLOT"===r?e>=n?t:e+1:e+1>=n?t:e+1}var Ds=n(1557),Ns=n(745),As=n(8030),Ms=n(5953),Zs=n(4476);function js(e,t){t.forEach((function(t){e.get("typeID/".concat(t),(function(){var e=localStorage.getItem("typeID/".concat(t));return null!==e?Promise.resolve(JSON.parse(e)):sb.ref("/typeIDs/typeID".concat(t,".json")).getDownloadURL().then(function(){var e=pn(mn().mark((function e(n){var r;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n).then((function(e){return e.json()})).then((function(e){return Mn.decompress(e)}));case 2:return r=e.sent,localStorage.setItem("typeID/".concat(t),JSON.stringify(r)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}))}function Fs(e){return e.substring(2).toLowerCase()}var zs=function(e){var n=e.children,r=e.disableReactTree,o=void 0!==r&&r,a=e.mouseEvent,s=void 0===a?"onClick":a,l=e.onClickAway,u=e.touchEvent,c=void 0===u?"onTouchEnd":u,d=t.useRef(!1),f=t.useRef(null),h=t.useRef(!1),p=t.useRef(!1);t.useEffect((function(){return setTimeout((function(){h.current=!0}),0),function(){h.current=!1}}),[]);var v=t.useCallback((function(e){f.current=i.findDOMNode(e)}),[]),m=(0,Kn.Z)(n.ref,v),g=(0,er.Z)((function(e){var t=p.current;if(p.current=!1,h.current&&f.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e))if(d.current)d.current=!1;else{var n;if(e.composedPath)n=e.composedPath().indexOf(f.current)>-1;else n=!(0,Vn.Z)(f.current).documentElement.contains(e.target)||f.current.contains(e.target);n||!o&&t||l(e)}})),y=function(e){return function(t){p.current=!0;var r=n.props[e];r&&r(t)}},b={ref:m};return!1!==c&&(b[c]=y(c)),t.useEffect((function(){if(!1!==c){var e=Fs(c),t=(0,Vn.Z)(f.current),n=function(){d.current=!0};return t.addEventListener(e,g),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,g),t.removeEventListener("touchmove",n)}}}),[g,c]),!1!==s&&(b[s]=y(s)),t.useEffect((function(){if(!1!==s){var e=Fs(s),t=(0,Vn.Z)(f.current);return t.addEventListener(e,g),function(){t.removeEventListener(e,g)}}}),[g,s]),t.createElement(t.Fragment,null,t.cloneElement(n,b))},Bs=t.forwardRef((function(e,n){var r=e.action,i=e.classes,o=e.className,a=e.message,s=e.role,l=void 0===s?"alert":s,u=(0,Wn.Z)(e,["action","classes","className","message","role"]);return t.createElement(Vr,(0,Fn.Z)({role:l,square:!0,elevation:6,className:(0,Un.Z)(i.root,o),ref:n},u),t.createElement("div",{className:i.message},a),r?t.createElement("div",{className:i.action},r):null)})),Hs=(0,yr.Z)((function(e){var t="light"===e.palette.type?.8:.98,n=(0,Jr._4)(e.palette.background.default,t);return{root:(0,Fn.Z)({},e.typography.body2,(0,jn.Z)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(Bs),Ws=t.forwardRef((function(e,n){var r=e.action,i=e.anchorOrigin,o=(i=void 0===i?{vertical:"bottom",horizontal:"center"}:i).vertical,a=i.horizontal,s=e.autoHideDuration,l=void 0===s?null:s,u=e.children,c=e.classes,d=e.className,f=e.ClickAwayListenerProps,h=e.ContentProps,p=e.disableWindowBlurListener,v=void 0!==p&&p,m=e.message,g=e.onClose,y=e.onEnter,b=e.onEntered,_=e.onEntering,x=e.onExit,w=e.onExited,S=e.onExiting,k=e.onMouseEnter,C=e.onMouseLeave,E=e.open,T=e.resumeHideDuration,P=e.TransitionComponent,I=void 0===P?Mi:P,R=e.transitionDuration,O=void 0===R?{enter:Or.x9.enteringScreen,exit:Or.x9.leavingScreen}:R,L=e.TransitionProps,D=(0,Wn.Z)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),N=t.useRef(),A=t.useState(!0),M=A[0],Z=A[1],j=(0,er.Z)((function(){g&&g.apply(void 0,arguments)})),F=(0,er.Z)((function(e){g&&null!=e&&(clearTimeout(N.current),N.current=setTimeout((function(){j(null,"timeout")}),e))}));t.useEffect((function(){return E&&F(l),function(){clearTimeout(N.current)}}),[E,l,F]);var z=function(){clearTimeout(N.current)},B=t.useCallback((function(){null!=l&&F(null!=T?T:.5*l)}),[l,T,F]);return t.useEffect((function(){if(!v&&E)return window.addEventListener("focus",B),window.addEventListener("blur",z),function(){window.removeEventListener("focus",B),window.removeEventListener("blur",z)}}),[v,B,E]),!E&&M?null:t.createElement(zs,(0,Fn.Z)({onClickAway:function(e){g&&g(e,"clickaway")}},f),t.createElement("div",(0,Fn.Z)({className:(0,Un.Z)(c.root,c["anchorOrigin".concat((0,Yr.Z)(o)).concat((0,Yr.Z)(a))],d),onMouseEnter:function(e){k&&k(e),z()},onMouseLeave:function(e){C&&C(e),B()},ref:n},D),t.createElement(I,(0,Fn.Z)({appear:!0,in:E,onEnter:(0,Jn.Z)((function(){Z(!1)}),y),onEntered:b,onEntering:_,onExit:x,onExited:(0,Jn.Z)((function(){Z(!0)}),w),onExiting:S,timeout:O,direction:"top"===o?"down":"up"},L),u||t.createElement(Hs,(0,Fn.Z)({message:m,action:r},h)))))})),Us=(0,yr.Z)((function(e){var t={top:8},n={bottom:8},r={justifyContent:"flex-end"},i={justifyContent:"flex-start"},o={top:24},a={bottom:24},s={right:24},l={left:24},u={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:(0,Fn.Z)({},t,(0,jn.Z)({},e.breakpoints.up("sm"),(0,Fn.Z)({},o,u))),anchorOriginBottomCenter:(0,Fn.Z)({},n,(0,jn.Z)({},e.breakpoints.up("sm"),(0,Fn.Z)({},a,u))),anchorOriginTopRight:(0,Fn.Z)({},t,r,(0,jn.Z)({},e.breakpoints.up("sm"),(0,Fn.Z)({left:"auto"},o,s))),anchorOriginBottomRight:(0,Fn.Z)({},n,r,(0,jn.Z)({},e.breakpoints.up("sm"),(0,Fn.Z)({left:"auto"},a,s))),anchorOriginTopLeft:(0,Fn.Z)({},t,i,(0,jn.Z)({},e.breakpoints.up("sm"),(0,Fn.Z)({right:"auto"},o,l))),anchorOriginBottomLeft:(0,Fn.Z)({},n,i,(0,jn.Z)({},e.breakpoints.up("sm"),(0,Fn.Z)({right:"auto"},a,l)))}}),{flip:!1,name:"MuiSnackbar"})(Ws),Gs=t.forwardRef((function(e,n){var r=e.classes,i=e.className,o=(0,Wn.Z)(e,["classes","className"]),a=t.useContext(bi);return t.createElement("div",(0,Fn.Z)({className:(0,Un.Z)(r.root,i,"flex-start"===a.alignItems&&r.alignItemsFlexStart),ref:n},o))})),qs=(0,yr.Z)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(Gs),Vs=Hn((function(e){return{button:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary},listItem:{width:300,padding:0},listIcon:{width:35,minWidth:10}}}));function Ys(e){var n=Vs(),r=Lr(),i=(0,t.useState)(!1),o=(0,fn.Z)(i,2),a=o[0],s=o[1],l=(0,t.useState)(""),u=(0,fn.Z)(l,2),c=u[0],d=u[1],f=(0,t.useState)(!1),h=(0,fn.Z)(f,2),p=h[0],v=h[1],m=(0,t.useCallback)(pn(mn().mark((function t(){var n;return mn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.clipboard.readText();case 2:if(n=t.sent,s(!0),v(n),n){t.next=7;break}return t.abrupt("return",d("Permission denied"));case 7:return t.next=9,e.cache.wait("/typeIDsTable").then((function(t){var r=ms.extractIDs(n,t);return!(!r||0===r.length)&&(js(e.cache,r),!0)}));case 9:t.sent?(e.setImportFitText(n),e.dispatchImportStateFlag({type:"START"}),d("Importing EFT")):(e.setImportFitText(!1),d("Unvalid EFT"));case 11:case"end":return t.stop()}}),t)}))),[v,d,s,e.cache]);return(0,t.useEffect)((function(){!1===e.importFitText&&(v(!1),s(!1))}),[e.importFitText]),(0,oa.jsxs)(t.Fragment,{children:[(0,oa.jsx)(ra,{title:"Import",placement:"bottom",arrow:!0,children:(0,oa.jsx)("div",{children:(0,oa.jsx)(Ta,{className:n.button,onClick:m,children:(0,oa.jsx)(Ms.Z,{})})})}),(0,oa.jsx)(ra,{title:"Export",placement:"bottom",arrow:!0,children:(0,oa.jsx)("div",{children:(0,oa.jsx)(Ta,{className:n.button,onClick:function(){navigator.clipboard.writeText(e.exportFitText)},children:(0,oa.jsx)(Zs.Z,{})})})}),(0,oa.jsx)(Us,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:a,onClose:function(){s(!1)},ContentProps:{elevation:3,style:{backgroundColor:Ks(c,r)}},message:(0,oa.jsxs)(wi,{className:n.listItem,children:[(0,oa.jsx)(qs,{children:(0,oa.jsx)(Ms.Z,{style:{color:Xs(c,r)}})}),(0,oa.jsx)(Oi,{primary:c,secondary:p,primaryTypographyProps:{style:{color:Xs(c,r),fontWeight:700}},secondaryTypographyProps:{style:{color:Qs(c,r)}}})]}),autoHideDuration:5e3})]})}function Ks(e,t){switch(e){case"Importing EFT":default:return t.palette.background.paper;case"Unvalid EFT":return t.palette.property.org;case"Permission denied":return t.palette.property.red}}function Xs(e,t){switch(e){case"Importing EFT":default:return t.palette.text.primary;case"Unvalid EFT":case"Permission denied":return t.palette.button.color}}function Qs(e,t){switch(e){case"Importing EFT":default:return t.palette.text.secondary;case"Unvalid EFT":case"Permission denied":return t.palette.button.color}}var $s=Hn((function(e){return{rootClose:{width:0,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflow:"hidden"},rootExpand:{width:300,maxWidth:"80%",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflow:"hidden"},rootRetract:{width:60,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflow:"hidden"},expandButton:{position:"absolute",top:0,right:0,backgroundColor:e.palette.action.opaqueHover,borderRadius:0,opacity:1,"&:hover":{backgroundColor:e.palette.background.paper}},retractButton:{position:"absolute",bottom:0,right:0,backgroundColor:e.palette.action.opaqueHover,zIndex:1,borderRadius:0,"&:hover":{backgroundColor:e.palette.background.paper}},child:{width:"100%",overflowX:"hidden",overflowY:"auto",paddingBottom:35,paddingRight:20}}}));function Js(e){var n=$s();return(0,oa.jsx)(t.Fragment,{children:(0,oa.jsxs)($r,{anchor:"left",open:e.open,variant:"permanent",classes:{paper:n[el(e)]},children:[(0,oa.jsx)(gi,{children:(0,oa.jsx)(Ys,{exportFitText:e.exportFitText,importFitText:e.importFitText,setImportFitText:e.setImportFitText,dispatchImportStateFlag:e.dispatchImportStateFlag,cache:e.cache})}),(0,oa.jsx)(vi,{className:n.expandButton,onClick:function(){return e.setExpand(!e.expand)},children:e.expand?(0,oa.jsx)(Ds.Z,{}):(0,oa.jsx)(Ns.Z,{})}),(0,oa.jsx)("div",{className:n.child,children:(0,oa.jsx)("div",{children:["SHIP","MISC_SLOT","HIGH_SLOT","MID_SLOT","LOW_SLOT","RIG_SLOT","DRONE_SLOT"].map((function(t){return(0,oa.jsx)(xs,(0,Zn.Z)({importFitText:e.importFitText,setImportFitText:e.setImportFitText,dispatchImportStateFlag:e.dispatchImportStateFlag,variant:t,slotCount:tl(e.fit,t)},e),t)}))})}),(0,oa.jsx)(vi,{className:n.retractButton,onClick:function(){e.dispatchSlotsOpen({type:"RESET"}),e.setOpen(!1)},children:(0,oa.jsx)(As.Z,{})})]})})}function el(e){return e.open?e.expand?"rootExpand":"rootRetract":"rootClose"}function tl(e,t){var n,r,i,o;if("SHIP"===t)return 1;if(!e.ship||!e.ship.typeAttributesStats)return 0;var a,s=e.ship,l=s.typeAttributesStats;switch(t){case"MISC_SLOT":switch(s.groupID){case 963:return 4;case 1305:return 1;default:return 0}case"HIGH_SLOT":return(null===(n=l.find((function(e){return 14===e.attributeID})))||void 0===n?void 0:n.value)||0;case"MID_SLOT":return(null===(r=l.find((function(e){return 13===e.attributeID})))||void 0===r?void 0:r.value)||0;case"LOW_SLOT":return(null===(i=l.find((function(e){return 12===e.attributeID})))||void 0===i?void 0:i.value)||0;case"RIG_SLOT":return(null===(o=l.find((function(e){return 1137===e.attributeID})))||void 0===o?void 0:o.value)||0;case"DRONE_SLOT":return(gs((a=e).ship,1271)?a.droneSlots?a.droneSlots.reduce((function(e,t,n){return t.item?n+2:e}),1):1:0)||0;default:return 0}}var nl=n(1348),rl=n(7483);function il(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var ol=t.createContext();var al=ol;function sl(e,t){return parseInt(e[t],10)||0}var ll="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,ul={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},cl=t.forwardRef((function(e,n){var r=e.onChange,i=e.rows,o=e.rowsMax,a=e.rowsMin,s=e.maxRows,l=e.minRows,u=void 0===l?1:l,c=e.style,d=e.value,f=(0,Wn.Z)(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),h=s||o,p=i||a||u,v=t.useRef(null!=d).current,m=t.useRef(null),g=(0,Kn.Z)(n,m),y=t.useRef(null),b=t.useRef(0),_=t.useState({}),x=_[0],w=_[1],S=t.useCallback((function(){var t=m.current,n=window.getComputedStyle(t),r=y.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],o=sl(n,"padding-bottom")+sl(n,"padding-top"),a=sl(n,"border-bottom-width")+sl(n,"border-top-width"),s=r.scrollHeight-o;r.value="x";var l=r.scrollHeight-o,u=s;p&&(u=Math.max(Number(p)*l,u)),h&&(u=Math.min(Number(h)*l,u));var c=(u=Math.max(u,l))+("border-box"===i?o+a:0),d=Math.abs(u-s)<=1;w((function(e){return b.current<20&&(c>0&&Math.abs((e.outerHeightStyle||0)-c)>1||e.overflow!==d)?(b.current+=1,{overflow:d,outerHeightStyle:c}):e}))}),[h,p,e.placeholder]);t.useEffect((function(){var e=(0,Br.Z)((function(){b.current=0,S()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[S]),ll((function(){S()})),t.useEffect((function(){b.current=0}),[d]);return t.createElement(t.Fragment,null,t.createElement("textarea",(0,Fn.Z)({value:d,onChange:function(e){b.current=0,v||S(),r&&r(e)},ref:g,rows:p,style:(0,Fn.Z)({height:x.outerHeightStyle,overflow:x.overflow?"hidden":null},c)},f)),t.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:y,tabIndex:-1,style:(0,Fn.Z)({},ul,c)}))})),dl=cl;function fl(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function hl(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(fl(e.value)&&""!==e.value||t&&fl(e.defaultValue)&&""!==e.defaultValue)}var pl="undefined"===typeof window?t.useEffect:t.useLayoutEffect,vl=t.forwardRef((function(e,n){var r=e["aria-describedby"],i=e.autoComplete,o=e.autoFocus,a=e.classes,s=e.className,l=(e.color,e.defaultValue),u=e.disabled,c=e.endAdornment,d=(e.error,e.fullWidth),f=void 0!==d&&d,h=e.id,p=e.inputComponent,v=void 0===p?"input":p,m=e.inputProps,g=void 0===m?{}:m,y=e.inputRef,b=(e.margin,e.multiline),_=void 0!==b&&b,x=e.name,w=e.onBlur,S=e.onChange,k=e.onClick,C=e.onFocus,E=e.onKeyDown,T=e.onKeyUp,P=e.placeholder,I=e.readOnly,R=e.renderSuffix,O=e.rows,L=e.rowsMax,D=e.rowsMin,N=e.maxRows,A=e.minRows,M=e.startAdornment,Z=e.type,j=void 0===Z?"text":Z,F=e.value,z=(0,Wn.Z)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),B=null!=g.value?g.value:F,H=t.useRef(null!=B).current,W=t.useRef(),U=t.useCallback((function(e){0}),[]),G=(0,Kn.Z)(g.ref,U),q=(0,Kn.Z)(y,G),V=(0,Kn.Z)(W,q),Y=t.useState(!1),K=Y[0],X=Y[1],Q=t.useContext(ol);var $=il({props:e,muiFormControl:Q,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});$.focused=Q?Q.focused:K,t.useEffect((function(){!Q&&u&&K&&(X(!1),w&&w())}),[Q,u,K,w]);var J=Q&&Q.onFilled,ee=Q&&Q.onEmpty,te=t.useCallback((function(e){hl(e)?J&&J():ee&&ee()}),[J,ee]);pl((function(){H&&te({value:B})}),[B,te,H]);t.useEffect((function(){te(W.current)}),[]);var ne=v,re=(0,Fn.Z)({},g,{ref:V});"string"!==typeof ne?re=(0,Fn.Z)({inputRef:V,type:j},re,{ref:null}):_?!O||N||A||L||D?(re=(0,Fn.Z)({minRows:O||A,rowsMax:L,maxRows:N},re),ne=dl):ne="textarea":re=(0,Fn.Z)({type:j},re);return t.useEffect((function(){Q&&Q.setAdornedStart(Boolean(M))}),[Q,M]),t.createElement("div",(0,Fn.Z)({className:(0,Un.Z)(a.root,a["color".concat((0,Yr.Z)($.color||"primary"))],s,$.disabled&&a.disabled,$.error&&a.error,f&&a.fullWidth,$.focused&&a.focused,Q&&a.formControl,_&&a.multiline,M&&a.adornedStart,c&&a.adornedEnd,"dense"===$.margin&&a.marginDense),onClick:function(e){W.current&&e.currentTarget===e.target&&W.current.focus(),k&&k(e)},ref:n},z),M,t.createElement(al.Provider,{value:null},t.createElement(ne,(0,Fn.Z)({"aria-invalid":$.error,"aria-describedby":r,autoComplete:i,autoFocus:o,defaultValue:l,disabled:$.disabled,id:h,onAnimationStart:function(e){te("mui-auto-fill-cancel"===e.animationName?W.current:{value:"x"})},name:x,placeholder:P,readOnly:I,required:$.required,rows:O,value:B,onKeyDown:E,onKeyUp:T},re,{className:(0,Un.Z)(a.input,g.className,$.disabled&&a.disabled,_&&a.inputMultiline,$.hiddenLabel&&a.inputHiddenLabel,M&&a.inputAdornedStart,c&&a.inputAdornedEnd,"search"===j&&a.inputTypeSearch,"dense"===$.margin&&a.inputMarginDense),onBlur:function(e){w&&w(e),g.onBlur&&g.onBlur(e),Q&&Q.onBlur?Q.onBlur(e):X(!1)},onChange:function(e){if(!H){var t=e.target||W.current;if(null==t)throw new Error((0,rl.Z)(1));te({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];g.onChange&&g.onChange.apply(g,[e].concat(r)),S&&S.apply(void 0,[e].concat(r))},onFocus:function(e){$.disabled?e.stopPropagation():(C&&C(e),g.onFocus&&g.onFocus(e),Q&&Q.onFocus?Q.onFocus(e):X(!0))}}))),c,R?R((0,Fn.Z)({},$,{startAdornment:M})):null)})),ml=(0,yr.Z)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,Fn.Z)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(vl),gl=t.forwardRef((function(e,n){var r=e.disableUnderline,i=e.classes,o=e.fullWidth,a=void 0!==o&&o,s=e.inputComponent,l=void 0===s?"input":s,u=e.multiline,c=void 0!==u&&u,d=e.type,f=void 0===d?"text":d,h=(0,Wn.Z)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return t.createElement(ml,(0,Fn.Z)({classes:(0,Fn.Z)({},i,{root:(0,Un.Z)(i.root,!r&&i.underline),underline:null}),fullWidth:a,inputComponent:l,multiline:c,ref:n,type:f},h))}));gl.muiName="Input";var yl=(0,yr.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(gl),bl=t.forwardRef((function(e,n){var r=e.disableUnderline,i=e.classes,o=e.fullWidth,a=void 0!==o&&o,s=e.inputComponent,l=void 0===s?"input":s,u=e.multiline,c=void 0!==u&&u,d=e.type,f=void 0===d?"text":d,h=(0,Wn.Z)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return t.createElement(ml,(0,Fn.Z)({classes:(0,Fn.Z)({},i,{root:(0,Un.Z)(i.root,!r&&i.underline),underline:null}),fullWidth:a,inputComponent:l,multiline:c,ref:n,type:f},h))}));bl.muiName="Input";var _l=(0,yr.Z)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(bl),xl=t.forwardRef((function(e,n){e.children;var r=e.classes,i=e.className,o=e.label,a=e.labelWidth,s=e.notched,l=e.style,u=(0,Wn.Z)(e,["children","classes","className","label","labelWidth","notched","style"]),c="rtl"===Lr().direction?"right":"left";if(void 0!==o)return t.createElement("fieldset",(0,Fn.Z)({"aria-hidden":!0,className:(0,Un.Z)(r.root,i),ref:n,style:l},u),t.createElement("legend",{className:(0,Un.Z)(r.legendLabelled,s&&r.legendNotched)},o?t.createElement("span",null,o):t.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var d=a>0?.75*a+8:.01;return t.createElement("fieldset",(0,Fn.Z)({"aria-hidden":!0,style:(0,Fn.Z)((0,jn.Z)({},"padding".concat((0,Yr.Z)(c)),8),l),className:(0,Un.Z)(r.root,i),ref:n},u),t.createElement("legend",{className:r.legend,style:{width:s?d:.01}},t.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),wl=(0,yr.Z)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(xl),Sl=t.forwardRef((function(e,n){var r=e.classes,i=e.fullWidth,o=void 0!==i&&i,a=e.inputComponent,s=void 0===a?"input":a,l=e.label,u=e.labelWidth,c=void 0===u?0:u,d=e.multiline,f=void 0!==d&&d,h=e.notched,p=e.type,v=void 0===p?"text":p,m=(0,Wn.Z)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return t.createElement(ml,(0,Fn.Z)({renderSuffix:function(e){return t.createElement(wl,{className:r.notchedOutline,label:l,labelWidth:c,notched:"undefined"!==typeof h?h:Boolean(e.startAdornment||e.filled||e.focused)})},classes:(0,Fn.Z)({},r,{root:(0,Un.Z)(r.root,r.underline),notchedOutline:null}),fullWidth:o,inputComponent:s,multiline:f,ref:n,type:v},m))}));Sl.muiName="Input";var kl=(0,yr.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(Sl);function Cl(){return t.useContext(al)}var El=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.className,a=(e.color,e.component),s=void 0===a?"label":a,l=(e.disabled,e.error,e.filled,e.focused,e.required,(0,Wn.Z)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),u=il({props:e,muiFormControl:Cl(),states:["color","required","focused","disabled","error","filled"]});return t.createElement(s,(0,Fn.Z)({className:(0,Un.Z)(i.root,i["color".concat((0,Yr.Z)(u.color||"primary"))],o,u.disabled&&i.disabled,u.error&&i.error,u.filled&&i.filled,u.focused&&i.focused,u.required&&i.required),ref:n},l),r,u.required&&t.createElement("span",{"aria-hidden":!0,className:(0,Un.Z)(i.asterisk,u.error&&i.error)},"\u2009","*"))})),Tl=(0,yr.Z)((function(e){return{root:(0,Fn.Z)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(El),Pl=t.forwardRef((function(e,n){var r=e.classes,i=e.className,o=e.disableAnimation,a=void 0!==o&&o,s=(e.margin,e.shrink),l=(e.variant,(0,Wn.Z)(e,["classes","className","disableAnimation","margin","shrink","variant"])),u=Cl(),c=s;"undefined"===typeof c&&u&&(c=u.filled||u.focused||u.adornedStart);var d=il({props:e,muiFormControl:u,states:["margin","variant"]});return t.createElement(Tl,(0,Fn.Z)({"data-shrink":c,className:(0,Un.Z)(r.root,i,u&&r.formControl,!a&&r.animated,c&&r.shrink,"dense"===d.margin&&r.marginDense,{filled:r.filled,outlined:r.outlined}[d.variant]),classes:{focused:r.focused,disabled:r.disabled,error:r.error,required:r.required,asterisk:r.asterisk},ref:n},l))})),Il=(0,yr.Z)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(Pl),Rl=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.className,a=e.color,s=void 0===a?"primary":a,l=e.component,u=void 0===l?"div":l,c=e.disabled,d=void 0!==c&&c,f=e.error,h=void 0!==f&&f,p=e.fullWidth,v=void 0!==p&&p,m=e.focused,g=e.hiddenLabel,y=void 0!==g&&g,b=e.margin,_=void 0===b?"none":b,x=e.required,w=void 0!==x&&x,S=e.size,k=e.variant,C=void 0===k?"standard":k,E=(0,Wn.Z)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),T=t.useState((function(){var e=!1;return r&&t.Children.forEach(r,(function(t){if((0,yi.Z)(t,["Input","Select"])){var n=(0,yi.Z)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),P=T[0],I=T[1],R=t.useState((function(){var e=!1;return r&&t.Children.forEach(r,(function(t){(0,yi.Z)(t,["Input","Select"])&&hl(t.props,!0)&&(e=!0)})),e})),O=R[0],L=R[1],D=t.useState(!1),N=D[0],A=D[1],M=void 0!==m?m:N;d&&M&&A(!1);var Z=t.useCallback((function(){L(!0)}),[]),j={adornedStart:P,setAdornedStart:I,color:s,disabled:d,error:h,filled:O,focused:M,fullWidth:v,hiddenLabel:y,margin:("small"===S?"dense":void 0)||_,onBlur:function(){A(!1)},onEmpty:t.useCallback((function(){L(!1)}),[]),onFilled:Z,onFocus:function(){A(!0)},registerEffect:undefined,required:w,variant:C};return t.createElement(al.Provider,{value:j},t.createElement(u,(0,Fn.Z)({className:(0,Un.Z)(i.root,o,"none"!==_&&i["margin".concat((0,Yr.Z)(_))],v&&i.fullWidth),ref:n},E),r))})),Ol=(0,yr.Z)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(Rl),Ll=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.className,a=e.component,s=void 0===a?"p":a,l=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,(0,Wn.Z)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),u=il({props:e,muiFormControl:Cl(),states:["variant","margin","disabled","error","filled","focused","required"]});return t.createElement(s,(0,Fn.Z)({className:(0,Un.Z)(i.root,("filled"===u.variant||"outlined"===u.variant)&&i.contained,o,u.disabled&&i.disabled,u.error&&i.error,u.filled&&i.filled,u.focused&&i.focused,u.required&&i.required,"dense"===u.margin&&i.marginDense),ref:n},l)," "===r?t.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):r)})),Dl=(0,yr.Z)((function(e){return{root:(0,Fn.Z)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(Ll),Nl=n(5352),Al=n(1002),Ml=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.className,a=e.component,s=void 0===a?"ul":a,l=e.dense,u=void 0!==l&&l,c=e.disablePadding,d=void 0!==c&&c,f=e.subheader,h=(0,Wn.Z)(e,["children","classes","className","component","dense","disablePadding","subheader"]),p=t.useMemo((function(){return{dense:u}}),[u]);return t.createElement(bi.Provider,{value:p},t.createElement(s,(0,Fn.Z)({className:(0,Un.Z)(i.root,o,u&&i.dense,!d&&i.padding,f&&i.subheader),ref:n},h),f,r))})),Zl=(0,yr.Z)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(Ml);function jl(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Fl(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function zl(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Bl(e,t,n,r,i,o){for(var a=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(a)return;a=!0}var l=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&zl(s,o)&&!l)return void s.focus();s=i(e,s,n)}}var Hl="undefined"===typeof window?t.useEffect:t.useLayoutEffect,Wl=t.forwardRef((function(e,n){var r=e.actions,o=e.autoFocus,a=void 0!==o&&o,s=e.autoFocusItem,l=void 0!==s&&s,u=e.children,c=e.className,d=e.disabledItemsFocusable,f=void 0!==d&&d,h=e.disableListWrap,p=void 0!==h&&h,v=e.onKeyDown,m=e.variant,g=void 0===m?"selectedMenu":m,y=(0,Wn.Z)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),b=t.useRef(null),_=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Hl((function(){a&&b.current.focus()}),[a]),t.useImperativeHandle(r,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!b.current.style.width;if(e.clientHeight<b.current.clientHeight&&n){var r="".concat(rr(),"px");b.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,b.current.style.width="calc(100% + ".concat(r,")")}return b.current}}}),[]);var x=t.useCallback((function(e){b.current=i.findDOMNode(e)}),[]),w=(0,Kn.Z)(x,n),S=-1;t.Children.forEach(u,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===S)&&(S=n))}));var k=t.Children.map(u,(function(e,n){if(n===S){var r={};return l&&(r.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===g&&(r.tabIndex=0),t.cloneElement(e,r)}return e}));return t.createElement(Zl,(0,Fn.Z)({role:"menu",ref:w,className:c,onKeyDown:function(e){var t=b.current,n=e.key,r=(0,Vn.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Bl(t,r,p,f,jl);else if("ArrowUp"===n)e.preventDefault(),Bl(t,r,p,f,Fl);else if("Home"===n)e.preventDefault(),Bl(t,null,p,f,jl);else if("End"===n)e.preventDefault(),Bl(t,null,p,f,Fl);else if(1===n.length){var i=_.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var s=r&&!i.repeating&&zl(r,i);i.previousKeyMatched&&(s||Bl(t,r,!1,f,jl,i))?e.preventDefault():i.previousKeyMatched=!1}v&&v(e)},tabIndex:a?0:-1},y),k)})),Ul=Wl,Gl={vertical:"top",horizontal:"right"},ql={vertical:"top",horizontal:"left"},Vl=t.forwardRef((function(e,n){var r=e.autoFocus,o=void 0===r||r,a=e.children,s=e.classes,l=e.disableAutoFocusItem,u=void 0!==l&&l,c=e.MenuListProps,d=void 0===c?{}:c,f=e.onClose,h=e.onEntering,p=e.open,v=e.PaperProps,m=void 0===v?{}:v,g=e.PopoverClasses,y=e.transitionDuration,b=void 0===y?"auto":y,_=e.TransitionProps,x=(_=void 0===_?{}:_).onEntering,w=(0,Wn.Z)(_,["onEntering"]),S=e.variant,k=void 0===S?"selectedMenu":S,C=(0,Wn.Z)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),E=Lr(),T=o&&!u&&p,P=t.useRef(null),I=t.useRef(null),R=-1;t.Children.map(a,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("menu"!==k&&e.props.selected||-1===R)&&(R=n))}));var O=t.Children.map(a,(function(e,n){return n===R?t.cloneElement(e,{ref:function(t){I.current=i.findDOMNode(t),(0,Yn.Z)(e.ref,t)}}):e}));return t.createElement(Da,(0,Fn.Z)({getContentAnchorEl:function(){return I.current},classes:g,onClose:f,TransitionProps:(0,Fn.Z)({onEntering:function(e,t){P.current&&P.current.adjustStyleForScrollbar(e,E),h&&h(e,t),x&&x(e,t)}},w),anchorOrigin:"rtl"===E.direction?Gl:ql,transformOrigin:"rtl"===E.direction?Gl:ql,PaperProps:(0,Fn.Z)({},m,{classes:(0,Fn.Z)({},m.classes,{root:s.paper})}),open:p,ref:n,transitionDuration:b},C),t.createElement(Ul,(0,Fn.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),f&&f(e,"tabKeyDown"))},actions:P,autoFocus:o&&(-1===R||u),autoFocusItem:T,variant:k},d,{className:(0,Un.Z)(s.list,d.className)}),O))})),Yl=(0,yr.Z)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(Vl);function Kl(e,t){return"object"===(0,Al.Z)(t)&&null!==t?e===t:String(e)===String(t)}var Xl=t.forwardRef((function(e,n){var r=e["aria-label"],i=e.autoFocus,o=e.autoWidth,a=e.children,s=e.classes,l=e.className,u=e.defaultValue,c=e.disabled,d=e.displayEmpty,f=e.IconComponent,h=e.inputRef,p=e.labelId,v=e.MenuProps,m=void 0===v?{}:v,g=e.multiple,y=e.name,b=e.onBlur,_=e.onChange,x=e.onClose,w=e.onFocus,S=e.onOpen,k=e.open,C=e.readOnly,E=e.renderValue,T=e.SelectDisplayProps,P=void 0===T?{}:T,I=e.tabIndex,R=(e.type,e.value),O=e.variant,L=void 0===O?"standard":O,D=(0,Wn.Z)(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),N=(0,$o.Z)({controlled:R,default:u,name:"Select"}),A=(0,fn.Z)(N,2),M=A[0],Z=A[1],j=t.useRef(null),F=t.useState(null),z=F[0],B=F[1],H=t.useRef(null!=k).current,W=t.useState(),U=W[0],G=W[1],q=t.useState(!1),V=q[0],Y=q[1],K=(0,Kn.Z)(n,h);t.useImperativeHandle(K,(function(){return{focus:function(){z.focus()},node:j.current,value:M}}),[z,M]),t.useEffect((function(){i&&z&&z.focus()}),[i,z]),t.useEffect((function(){if(z){var e=(0,Vn.Z)(z).getElementById(p);if(e){var t=function(){getSelection().isCollapsed&&z.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[p,z]);var X,Q,$=function(e,t){e?S&&S(t):x&&x(t),H||(G(o?null:z.clientWidth),Y(e))},J=t.Children.toArray(a),ee=function(e){return function(t){var n;if(g||$(!1,t),g){n=Array.isArray(M)?M.slice():[];var r=M.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),M!==n&&(Z(n),_&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:y}}),_(t,e)))}},te=null!==z&&(H?k:V);delete D["aria-invalid"];var ne=[],re=!1;(hl({value:M})||d)&&(E?X=E(M):re=!0);var ie=J.map((function(e){if(!t.isValidElement(e))return null;var n;if(g){if(!Array.isArray(M))throw new Error((0,rl.Z)(2));(n=M.some((function(t){return Kl(t,e.props.value)})))&&re&&ne.push(e.props.children)}else(n=Kl(M,e.props.value))&&re&&(Q=e.props.children);return n&&!0,t.cloneElement(e,{"aria-selected":n?"true":void 0,onClick:ee(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})}));re&&(X=g?ne.join(", "):Q);var oe,ae=U;!o&&H&&z&&(ae=z.clientWidth),oe="undefined"!==typeof I?I:c?null:0;var se=P.id||(y?"mui-component-select-".concat(y):void 0);return t.createElement(t.Fragment,null,t.createElement("div",(0,Fn.Z)({className:(0,Un.Z)(s.root,s.select,s.selectMenu,s[L],l,c&&s.disabled),ref:B,tabIndex:oe,role:"button","aria-disabled":c?"true":void 0,"aria-expanded":te?"true":void 0,"aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[p,se].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!C){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),$(!0,e))}},onMouseDown:c||C?null:function(e){0===e.button&&(e.preventDefault(),z.focus(),$(!0,e))},onBlur:function(e){!te&&b&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:M,name:y}}),b(e))},onFocus:w},P,{id:se}),function(e){return null==e||"string"===typeof e&&!e.trim()}(X)?t.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):X),t.createElement("input",(0,Fn.Z)({value:Array.isArray(M)?M.join(","):M,name:y,ref:j,"aria-hidden":!0,onChange:function(e){var t=J.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=J[t];Z(n.props.value),_&&_(e,n)}},tabIndex:-1,className:s.nativeInput,autoFocus:i},D)),t.createElement(f,{className:(0,Un.Z)(s.icon,s["icon".concat((0,Yr.Z)(L))],te&&s.iconOpen,c&&s.disabled)}),t.createElement(Yl,(0,Fn.Z)({id:"menu-".concat(y||""),anchorEl:z,open:te,onClose:function(e){$(!1,e)}},m,{MenuListProps:(0,Fn.Z)({"aria-labelledby":p,role:"listbox",disableListWrap:!0},m.MenuListProps),PaperProps:(0,Fn.Z)({},m.PaperProps,{style:(0,Fn.Z)({minWidth:ae},null!=m.PaperProps?m.PaperProps.style:null)})}),ie))})),Ql=Xl,$l=(0,Si.Z)(t.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Jl=t.forwardRef((function(e,n){var r=e.classes,i=e.className,o=e.disabled,a=e.IconComponent,s=e.inputRef,l=e.variant,u=void 0===l?"standard":l,c=(0,Wn.Z)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return t.createElement(t.Fragment,null,t.createElement("select",(0,Fn.Z)({className:(0,Un.Z)(r.root,r.select,r[u],i,o&&r.disabled),disabled:o,ref:s||n},c)),e.multiple?null:t.createElement(a,{className:(0,Un.Z)(r.icon,r["icon".concat((0,Yr.Z)(u))],o&&r.disabled)}))})),eu=Jl,tu=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},nu=t.createElement(yl,null),ru=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.IconComponent,a=void 0===o?$l:o,s=e.input,l=void 0===s?nu:s,u=e.inputProps,c=(e.variant,(0,Wn.Z)(e,["children","classes","IconComponent","input","inputProps","variant"])),d=il({props:e,muiFormControl:Cl(),states:["variant"]});return t.cloneElement(l,(0,Fn.Z)({inputComponent:eu,inputProps:(0,Fn.Z)({children:r,classes:i,IconComponent:a,variant:d.variant,type:void 0},u,l?l.props.inputProps:{}),ref:n},c))}));ru.muiName="Select";(0,yr.Z)(tu,{name:"MuiNativeSelect"})(ru);var iu=tu,ou=t.createElement(yl,null),au=t.createElement(_l,null),su=t.forwardRef((function e(n,r){var i=n.autoWidth,o=void 0!==i&&i,a=n.children,s=n.classes,l=n.displayEmpty,u=void 0!==l&&l,c=n.IconComponent,d=void 0===c?$l:c,f=n.id,h=n.input,p=n.inputProps,v=n.label,m=n.labelId,g=n.labelWidth,y=void 0===g?0:g,b=n.MenuProps,_=n.multiple,x=void 0!==_&&_,w=n.native,S=void 0!==w&&w,k=n.onClose,C=n.onOpen,E=n.open,T=n.renderValue,P=n.SelectDisplayProps,I=n.variant,R=void 0===I?"standard":I,O=(0,Wn.Z)(n,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),L=S?eu:Ql,D=il({props:n,muiFormControl:Cl(),states:["variant"]}).variant||R,N=h||{standard:ou,outlined:t.createElement(kl,{label:v,labelWidth:y}),filled:au}[D];return t.cloneElement(N,(0,Fn.Z)({inputComponent:L,inputProps:(0,Fn.Z)({children:a,IconComponent:d,variant:D,type:void 0,multiple:x},S?{id:f}:{autoWidth:o,displayEmpty:u,labelId:m,MenuProps:b,onClose:k,onOpen:C,open:E,renderValue:T,SelectDisplayProps:(0,Fn.Z)({id:f},P)},p,{classes:p?(0,Nl.Z)({baseClasses:s,newClasses:p.classes,Component:e}):s},h?h.props.inputProps:{}),ref:r},O))}));su.muiName="Select";var lu=(0,yr.Z)(iu,{name:"MuiSelect"})(su),uu={standard:yl,filled:_l,outlined:kl},cu=t.forwardRef((function(e,n){var r=e.autoComplete,i=e.autoFocus,o=void 0!==i&&i,a=e.children,s=e.classes,l=e.className,u=e.color,c=void 0===u?"primary":u,d=e.defaultValue,f=e.disabled,h=void 0!==f&&f,p=e.error,v=void 0!==p&&p,m=e.FormHelperTextProps,g=e.fullWidth,y=void 0!==g&&g,b=e.helperText,_=e.hiddenLabel,x=e.id,w=e.InputLabelProps,S=e.inputProps,k=e.InputProps,C=e.inputRef,E=e.label,T=e.multiline,P=void 0!==T&&T,I=e.name,R=e.onBlur,O=e.onChange,L=e.onFocus,D=e.placeholder,N=e.required,A=void 0!==N&&N,M=e.rows,Z=e.rowsMax,j=e.maxRows,F=e.minRows,z=e.select,B=void 0!==z&&z,H=e.SelectProps,W=e.type,U=e.value,G=e.variant,q=void 0===G?"standard":G,V=(0,Wn.Z)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]);var Y={};if("outlined"===q&&(w&&"undefined"!==typeof w.shrink&&(Y.notched=w.shrink),E)){var K,X=null!==(K=null===w||void 0===w?void 0:w.required)&&void 0!==K?K:A;Y.label=t.createElement(t.Fragment,null,E,X&&"\xa0*")}B&&(H&&H.native||(Y.id=void 0),Y["aria-describedby"]=void 0);var Q=b&&x?"".concat(x,"-helper-text"):void 0,$=E&&x?"".concat(x,"-label"):void 0,J=uu[q],ee=t.createElement(J,(0,Fn.Z)({"aria-describedby":Q,autoComplete:r,autoFocus:o,defaultValue:d,fullWidth:y,multiline:P,name:I,rows:M,rowsMax:Z,maxRows:j,minRows:F,type:W,value:U,id:x,inputRef:C,onBlur:R,onChange:O,onFocus:L,placeholder:D,inputProps:S},Y,k));return t.createElement(Ol,(0,Fn.Z)({className:(0,Un.Z)(s.root,l),disabled:h,error:v,fullWidth:y,hiddenLabel:_,ref:n,required:A,color:c,variant:q},V),E&&t.createElement(Il,(0,Fn.Z)({htmlFor:x,id:$},w),E),B?t.createElement(lu,(0,Fn.Z)({"aria-describedby":Q,id:x,labelId:$,value:U,input:ee},H),a):ee,b&&t.createElement(Dl,(0,Fn.Z)({id:Q},m),b))})),du=(0,yr.Z)({root:{}},{name:"MuiTextField"})(cu);function fu(e){return(0,oa.jsx)("div",{style:{marginTop:4,width:"70%"},children:(0,oa.jsx)(du,{style:{width:"100%"},label:(0,oa.jsx)(Ii,{noWrap:!0,style:{width:"100%"},children:hu(e.attr.unitID)?"".concat(e.attr.attributeName," (").concat(hu(e.attr.unitID),")"):e.attr.attributeName}),defaultValue:e.attr.value,InputProps:{readOnly:!0,disableUnderline:!0}})})}function hu(e){if(!e)return!1;var t=pu.find((function(t){return t.unitID===e}));return void 0===t&&console.log("ERROR","unitID:".concat(e," not found. dear developer please update database!")),null===t||void 0===t?void 0:t.displayName}var pu=[{unitID:1,displayName:"m"},{unitID:2,displayName:"kg"},{unitID:3,displayName:"sec"},{unitID:4,displayName:"A"},{unitID:5,displayName:"K"},{unitID:6,displayName:"mol"},{unitID:7,displayName:"cd"},{unitID:8,displayName:"m2"},{unitID:9,displayName:"m3"},{unitID:10,displayName:"m/sec"},{unitID:11,displayName:"m/sec"},{unitID:12,displayName:"m-1"},{unitID:13,displayName:"kg/m3"},{unitID:14,displayName:"m3/kg"},{unitID:15,displayName:"A/m2"},{unitID:16,displayName:"A/m"},{unitID:17,displayName:"mol/m3"},{unitID:18,displayName:"cd/m2"},{unitID:19,displayName:"kg/kg = 1"},{unitID:101,displayName:"s"},{unitID:102,displayName:"mm"},{unitID:103,displayName:"MegaPascals"},{unitID:104,displayName:"x"},{unitID:105,displayName:"%"},{unitID:106,displayName:"tf"},{unitID:107,displayName:"MW"},{unitID:108,displayName:"%"},{unitID:109,displayName:"%"},{unitID:111,displayName:"%"},{unitID:112,displayName:"rad/sec"},{unitID:113,displayName:"HP"},{unitID:114,displayName:"GJ"},{unitID:115,displayName:"groupID"},{unitID:116,displayName:"typeID"},{unitID:117,displayName:"Sizeclass"},{unitID:118,displayName:"Ore units"},{unitID:119,displayName:"attributeID"},{unitID:120,displayName:"points"},{unitID:121,displayName:"%"},{unitID:122,displayName:"Fitting slots"},{unitID:123,displayName:"sec"},{unitID:124,displayName:"%"},{unitID:125,displayName:"N"},{unitID:126,displayName:"ly"},{unitID:127,displayName:"%"},{unitID:128,displayName:"Mbit/sec"},{unitID:129,displayName:"Hours"},{unitID:133,displayName:"ISK"},{unitID:134,displayName:"m3/hour"},{unitID:135,displayName:"AU"},{unitID:136,displayName:"Slot"},{unitID:137,displayName:"Boolean"},{unitID:138,displayName:"units"},{unitID:139,displayName:"+"},{unitID:140,displayName:"Level"},{unitID:141,displayName:"hardpoints"},{unitID:142,displayName:"1=Male 2=Unisex 3=Female"},{unitID:143,displayName:"Datetime"}];function vu(e){var n=(0,t.useState)(!1),r=(0,fn.Z)(n,2),i=r[0],o=r[1],a=(0,t.useState)(!1),s=(0,fn.Z)(a,2),l=s[0],u=s[1],c=(0,t.useState)(!1),d=(0,fn.Z)(c,2),f=d[0],h=d[1],p=(0,t.useState)(!1),v=(0,fn.Z)(p,2),m=v[0],g=v[1];return(0,t.useEffect)((function(){e.cache.wait("/attributesCategories").then((function(e){u(e)}))}),[]),(0,t.useEffect)((function(){o(e.type)}),[e.type]),(0,t.useEffect)((function(){i&&l&&(h(i.typeName),g(function(e,n){var r=["Miscellaneous","Required Skills","Graphics","NULL"],i=function(e,t){if(!e||!e.typeAttributesStats)return;var n=e.typeAttributesStats,r=n.reduce((function(e,t){return t.attributeCategoryID>e?t.attributeCategoryID:e}),1)+1,i=new Array(r).fill(void 0).map((function(e,n){var r;return{name:null===(r=t[n])||void 0===r?void 0:r.name,attributes:[]}}));return n.forEach((function(e){e.attributeCategoryID?i[e.attributeCategoryID].attributes.push(e):i[0].attributes.push(e)})),i}(e,n).reduce((function(e,t){return r.includes(t.name)?e.etc[r.indexOf(t.name)]=t:e.main.push(t),e}),{main:[],etc:new Array(r.length).fill(void 0)});return[].concat((0,nr.Z)(i.main),(0,nr.Z)(i.etc)).map((function(e){if(e&&e.name&&0!==e.attributes.length){var n=e.attributes,r=e.name,i=[];return(0,oa.jsxs)(t.Fragment,{children:[(0,oa.jsx)(Ii,{style:{fontSize:20,fontWeight:1e3,letterSpacing:-1.5,lineHeight:1,marginRight:20,marginTop:20},variant:"h4",align:"right",children:r}),n.map((function(e){var t="".concat(e.attributeName,":").concat(e.value);if(!i.includes(t))return i.push(t),(0,oa.jsx)(fu,{attr:e},t)}))]},r)}}))}(i,l)))}),[l,i]),(0,oa.jsxs)(t.Fragment,{children:[(0,oa.jsx)(Ii,{style:{fontSize:26,fontWeight:1e3,letterSpacing:-1.5,lineHeight:1,marginRight:20,textDecoration:"underline"},variant:"h4",align:"right",children:f}),(0,oa.jsx)("div",{style:{marginTop:20},children:m})]})}var mu=Hn((function(e){return{rootPaper:{width:300,maxWidth:"80%",height:"100%",overflow:"hidden"},child:{width:"100%",height:"100%",overflowY:"scroll",padding:"10px 20px 0px 10px",marginBottom:40,overflowX:"hidden"},retractButton:{position:"absolute",bottom:0,right:0,backgroundColor:e.palette.action.hover,borderRadius:0},rootButton:{paddingRight:20}}}));function gu(e){var n,r,i,o,a=mu(),s=Lr(),l=(0,t.useState)(0),u=(0,fn.Z)(l,2),c=u[0],d=u[1],f=(0,t.useCallback)((function(e){var t=s.palette.action.hover,n=s.palette.text.disabled;return c===e&&(t=s.palette.action.selected,n=s.palette.text.primary),{backgroundColor:t,color:n,marginBottom:10}}),[c]);return(0,oa.jsxs)($r,{anchor:e.anchor?e.anchor:"right",open:e.open,variant:"temporary",classes:{paper:a.rootPaper},onClose:function(){e.dispatchSlotsOpen({type:"STAT",payload:{open:!1}}),d(0)},children:[(0,oa.jsxs)("div",{className:a.child,children:[!(null===(n=e.slot)||void 0===n||!n.charge)&&(0,oa.jsxs)(gi,{style:{width:280},fullWidth:!0,variant:"text",children:[(0,oa.jsx)(vi,{style:f(0),onClick:function(){return d(0)},children:"ITEM"}),(0,oa.jsx)(vi,{style:f(1),onClick:function(){return d(1)},children:"CHARGE"})]}),(0,oa.jsx)("div",{hidden:0!==c,children:(0,oa.jsx)(vu,{type:void 0!==(null===(r=e.slot)||void 0===r?void 0:r.typeID)?e.slot:null===(i=e.slot)||void 0===i?void 0:i.item,cache:e.cache})}),(0,oa.jsx)("div",{hidden:1!==c,children:(0,oa.jsx)(vu,{type:null===(o=e.slot)||void 0===o?void 0:o.charge,cache:e.cache})})]}),(0,oa.jsx)(vi,{className:a.retractButton,onClick:function(){return e.dispatchSlotsOpen({type:"RESET"})},children:(0,oa.jsx)(nl.Z,{})})]})}var yu=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.className,a=e.collapsedHeight,s=e.collapsedSize,l=void 0===s?"0px":s,u=e.component,c=void 0===u?"div":u,d=e.disableStrictModeCompat,f=void 0!==d&&d,h=e.in,p=e.onEnter,v=e.onEntered,m=e.onEntering,g=e.onExit,y=e.onExited,b=e.onExiting,_=e.style,x=e.timeout,w=void 0===x?Or.x9.standard:x,S=e.TransitionComponent,k=void 0===S?Rr:S,C=(0,Wn.Z)(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),E=Lr(),T=t.useRef(),P=t.useRef(null),I=t.useRef(),R="number"===typeof(a||l)?"".concat(a||l,"px"):a||l;t.useEffect((function(){return function(){clearTimeout(T.current)}}),[]);var O=E.unstable_strictMode&&!f,L=t.useRef(null),D=(0,Kn.Z)(n,O?L:void 0),N=function(e){return function(t,n){if(e){var r=O?[L.current,t]:[t,n],i=(0,fn.Z)(r,2),o=i[0],a=i[1];void 0===a?e(o):e(o,a)}}},A=N((function(e,t){e.style.height=R,p&&p(e,t)})),M=N((function(e,t){var n=P.current?P.current.clientHeight:0,r=Nr({style:_,timeout:w},{mode:"enter"}).duration;if("auto"===w){var i=E.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(i,"ms"),I.current=i}else e.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");e.style.height="".concat(n,"px"),m&&m(e,t)})),Z=N((function(e,t){e.style.height="auto",v&&v(e,t)})),j=N((function(e){var t=P.current?P.current.clientHeight:0;e.style.height="".concat(t,"px"),g&&g(e)})),F=N(y),z=N((function(e){var t=P.current?P.current.clientHeight:0,n=Nr({style:_,timeout:w},{mode:"exit"}).duration;if("auto"===w){var r=E.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(r,"ms"),I.current=r}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height=R,b&&b(e)}));return t.createElement(k,(0,Fn.Z)({in:h,onEnter:A,onEntered:Z,onEntering:M,onExit:j,onExited:F,onExiting:z,addEndListener:function(e,t){var n=O?e:t;"auto"===w&&(T.current=setTimeout(n,I.current||0))},nodeRef:O?L:void 0,timeout:"auto"===w?null:w},C),(function(e,n){return t.createElement(c,(0,Fn.Z)({className:(0,Un.Z)(i.root,i.container,o,{entered:i.entered,exited:!h&&"0px"===R&&i.hidden}[e]),style:(0,Fn.Z)({minHeight:R},_),ref:D},n),t.createElement("div",{className:i.wrapper,ref:P},t.createElement("div",{className:i.wrapperInner},r)))}))}));yu.muiSupportAuto=!0;var bu=(0,yr.Z)((function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(yu),_u=t.forwardRef((function(e,n){var r=e.edge,i=void 0!==r&&r,o=e.children,a=e.classes,s=e.className,l=e.color,u=void 0===l?"default":l,c=e.disabled,d=void 0!==c&&c,f=e.disableFocusRipple,h=void 0!==f&&f,p=e.size,v=void 0===p?"medium":p,m=(0,Wn.Z)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return t.createElement(hi,(0,Fn.Z)({className:(0,Un.Z)(a.root,s,"default"!==u&&a["color".concat((0,Yr.Z)(u))],d&&a.disabled,"small"===v&&a["size".concat((0,Yr.Z)(v))],{start:a.edgeStart,end:a.edgeEnd}[i]),centerRipple:!0,focusRipple:!h,disabled:d,ref:n},m),t.createElement("span",{className:a.label},o))})),xu=(0,yr.Z)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,Jr.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,Jr.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,Jr.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(_u),wu=n(7595),Su=t.forwardRef((function(e,n){var r=e.classes,i=e.className,o=(0,Wn.Z)(e,["classes","className"]),a=t.useContext(bi);return t.createElement("div",(0,Fn.Z)({className:(0,Un.Z)(r.root,i,"flex-start"===a.alignItems&&r.alignItemsFlexStart),ref:n},o))})),ku=(0,yr.Z)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(Su),Cu=Hn((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper,padding:0,margin:0},expand:{transform:"rotate(0deg)",right:"10%",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{right:"10%",transform:"rotate(180deg)"},nested:{padding:0,margin:0,paddingLeft:e.spacing(1),backgroundColor:e.palette.action.hover}}}));function Eu(e){var n=Cu(),r=t.useState(e.opened),i=(0,fn.Z)(r,2),o=i[0],a=i[1],s=t.useState(""),l=(0,fn.Z)(s,2),u=l[0],c=l[1],d=function(){a(!o)};return(0,t.useEffect)((function(){return!0===e.opened&&a(!0),function(){a(!1)}}),[e.opened]),(0,t.useEffect)((function(){var t,n=!0;return 3584===e.itemData.iconTypeID?e.cache.get("/icons/".concat(e.itemData.iconFileName),(function(){return sb.ref("eveIcons/".concat(e.itemData.iconFileName)).getDownloadURL().then(function(){var e=pn(mn().mark((function e(t){return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.arrayBuffer()})).then((function(e){return Tu(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(e){return!!n&&c(e)})):c((t=e.itemData,"https://images.evetech.net/types/".concat(null===t||void 0===t?void 0:t.iconTypeID,"/icon?size=32"))),function(){n=!1}}),[e.cache,e.itemData]),(0,oa.jsxs)(Zl,{className:n.root,dense:!0,children:[(0,oa.jsxs)(wi,{button:!0,onClick:d,children:[(0,oa.jsx)(ku,{children:(0,oa.jsx)(Ei,{style:{width:30,height:30},src:u,children:"?"})}),(0,oa.jsx)(Oi,{primary:e.itemData.marketGroupName,primaryTypographyProps:{variant:"subtitle2"}}),(0,oa.jsx)(xu,{className:(0,Un.Z)(n.expand,(0,jn.Z)({},n.expandOpen,o)),onClick:d,children:(0,oa.jsx)(wu.Z,{})})]}),(0,oa.jsx)(bu,{in:o,timeout:"auto",unmountOnExit:!0,children:(0,oa.jsx)(Zl,{className:n.nested,children:e.children})})]})}function Tu(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),"data:image/jpeg;base64,"+window.btoa(t)}var Pu=Hn((function(e){return{root:{padding:"8px 16px 8px 16px",backgroundColor:"rgba(0, 0, 0, 0)"},rootAvatar:{width:10,height:10,marginRight:10}}}));function Iu(e){var t=Pu(),n=Lr();return(0,oa.jsxs)(wi,{className:t.root,button:!0,onClick:Ru(e),children:[(0,oa.jsx)(Ei,{style:{backgroundColor:Ou(e.itemData,n)},className:t.rootAvatar,children:""}),(0,oa.jsx)(Oi,{primary:e.itemData.typeName,primaryTypographyProps:{variant:"caption"}})]},e.itemData.typeName)}var Ru=function(e){return function(){e.setItem&&e.setItem(e.itemData),e.outboundSetItem&&e.outboundSetItem(e.itemData)}};function Ou(e,t){if(e)switch(e.typeMetaGroupID){case 1:default:return t.palette.action.hover;case 2:return"#f59500";case 3:return"#78bf36";case 4:return"#086101";case 5:return"#340E73";case 6:return"#3660bf";case 14:return"#9F3A03";case 15:return"#ad0000"}}var Lu=n(181);function Du(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Lu.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Nu(e){if(e.table.invTypesTable){var t=e.filter.allowedAttributes;if(t.constructor===Array){var n=e.table.invTypesTable;return t.forEach((function(e){n=function(e,t){return e.attributeName?t.filter((function(t){var n;switch(null===e||void 0===e||null===(n=e.value)||void 0===n?void 0:n.constructor){case Boolean:case Number:return 0===e.value&&void 0===t[e.attributeName]||t[e.attributeName]===e.value;case Array:return e.value.includes(t[e.attributeName]);case String:return t[e.attributeName].toLowerCase().includes(e.value.toLowerCase());default:return!0}})):t}(e,n)})),n}return e.table.invTypesTable}}function Au(e){if(e.rootMarketGroupID)return e.table.invTypesTable=Nu(e),e.table.invTypesTable.length>50&&(e.opened=!1),e.rootMarketGroupID.constructor===Number?Mu(e):e.rootMarketGroupID.constructor===Array?e.rootMarketGroupID.map((function(t){return Mu((0,Zn.Z)((0,Zn.Z)({},e),{},{rootMarketGroupID:t}))})):void 0}function Mu(e){return!!function(e){return!(!e.table.marketGroupTable||!e.table.invTypesTable)}(e)&&(function(e){if(e.table.marketGroupTable&&void 0!==e.rootMarketGroupID)return e.table.marketGroupTable.find((function(t){return t.marketGroupID===e.rootMarketGroupID})).hasTypes}(e)?function(e){return function(e){if(!e.table.invTypesTable)return[];var t=e.table.invTypesTable,n=e.rootMarketGroupID;return function(e){var t,n=e.length;do{t=!1;for(var r=0;r<n-1;r++)if(e[r].typeMetaGroupID>e[r+1].typeMetaGroupID){var i=e[r];e[r]=e[r+1],e[r+1]=i,t=!0}}while(t);return e}(t.filter((function(e){return e.marketGroupID===n})))}(e).map((function(t){return(0,oa.jsx)(Iu,{setItem:e.state.setItem,outboundSetItem:e.state.outboundSetItem,itemData:t},t.typeName)}))}(e):function(e){return function(e){return e.table.marketGroupTable?e.table.marketGroupTable.filter((function(t){return t.parentGroupID===e.rootMarketGroupID})):[]}(e).map((function(t){var n=Mu((0,Zn.Z)((0,Zn.Z)({},e),{},{rootMarketGroupID:t.marketGroupID}));return function(e){if(0===e.length)return!1;var t,n=Du(e);try{for(n.s();!(t=n.n()).done;)if(void 0!==t.value)return!0}catch(r){n.e(r)}finally{n.f()}return!1}(n)?(0,oa.jsx)(Eu,{opened:!!e.opened,itemData:t,eveListConfig:e,cache:e.cache,children:n},t.marketGroupName):void 0}))}(e))}var Zu={opened:!1,rootMarketGroupID:2,table:{marketGroupTable:!1,invTypesTable:!1},filter:{allowedAttributes:[{attributeName:!1,value:!1}]},state:{item:!1,setItem:!1,outboundSetItem:!1}},ju=Hn((function(e){return{root:{width:"100%",minWidth:350,height:"100%",backgroundColor:e.palette.background.paper,paddingTop:0}}})),Fu=t.memo((function(e){var n=ju(),r=(0,t.useState)(!1),i=(0,fn.Z)(r,2),o=i[0],a=i[1],s=(0,t.useState)(!1),l=(0,fn.Z)(s,2),u=l[0],c=l[1],d=(0,t.useState)(!1),f=(0,fn.Z)(d,2),h=f[0],p=f[1],v=(0,t.useState)({eveList:!1}),m=(0,fn.Z)(v,2),g=m[0],y=m[1];return(0,t.useEffect)((function(){e.cache.wait("/marketCategories").then((function(e){c(e)}))}),[]),(0,t.useEffect)((function(){e.cache.wait("/typeIDsTable").then((function(e){return p(e)}))}),[]),(0,t.useEffect)((function(){null!==o&&void 0!==o&&o.typeID&&e.cache.get("typeID/".concat(o.typeID),(function(){var e=localStorage.getItem("typeID/".concat(o.typeID));return null!==e?Promise.resolve(JSON.parse(e)):sb.ref("/typeIDs/typeID".concat(o.typeID,".json")).getDownloadURL().then(function(){var e=pn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).then((function(e){return Mn.decompress(e)}));case 2:return n=e.sent,localStorage.setItem("typeID/".concat(o.typeID),JSON.stringify(n)),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(e){a(e)}))}),[null===o||void 0===o?void 0:o.typeID]),(0,t.useEffect)((function(){u&&h&&y({eveList:Au((0,Zn.Z)((0,Zn.Z)((0,Zn.Z)({},Zu),e.eveListConfig),{},{state:{item:o,setItem:a,outboundSetItem:e.eveListConfig.state.outboundSetItem},rootMarketGroupID:e.eveListConfig.rootMarketGroupID,filter:e.eveListConfig.filter,table:{marketGroupTable:u,invTypesTable:h},cache:e.cache}))})}),[e.eveListConfig,e.cache,u,h,a]),(0,oa.jsx)(Zl,{className:n.root,dense:!0,children:(0,oa.jsx)(bu,{in:!0,timeout:"auto",children:g.eveList})})})),zu=[0,1,2,3,4,5,6,7,8,9,10],Bu=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function Hu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var Wu=t.forwardRef((function(e,n){var r=e.alignContent,i=void 0===r?"stretch":r,o=e.alignItems,a=void 0===o?"stretch":o,s=e.classes,l=e.className,u=e.component,c=void 0===u?"div":u,d=e.container,f=void 0!==d&&d,h=e.direction,p=void 0===h?"row":h,v=e.item,m=void 0!==v&&v,g=e.justify,y=e.justifyContent,b=void 0===y?"flex-start":y,_=e.lg,x=void 0!==_&&_,w=e.md,S=void 0!==w&&w,k=e.sm,C=void 0!==k&&k,E=e.spacing,T=void 0===E?0:E,P=e.wrap,I=void 0===P?"wrap":P,R=e.xl,O=void 0!==R&&R,L=e.xs,D=void 0!==L&&L,N=e.zeroMinWidth,A=void 0!==N&&N,M=(0,Wn.Z)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),Z=(0,Un.Z)(s.root,l,f&&[s.container,0!==T&&s["spacing-xs-".concat(String(T))]],m&&s.item,A&&s.zeroMinWidth,"row"!==p&&s["direction-xs-".concat(String(p))],"wrap"!==I&&s["wrap-xs-".concat(String(I))],"stretch"!==a&&s["align-items-xs-".concat(String(a))],"stretch"!==i&&s["align-content-xs-".concat(String(i))],"flex-start"!==(g||b)&&s["justify-content-xs-".concat(String(g||b))],!1!==D&&s["grid-xs-".concat(String(D))],!1!==C&&s["grid-sm-".concat(String(C))],!1!==S&&s["grid-md-".concat(String(S))],!1!==x&&s["grid-lg-".concat(String(x))],!1!==O&&s["grid-xl-".concat(String(O))]);return t.createElement(c,(0,Fn.Z)({className:Z,ref:n},M))})),Uu=(0,yr.Z)((function(e){return(0,Fn.Z)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return zu.forEach((function(r){var i=e.spacing(r);0!==i&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(Hu(i,2)),width:"calc(100% + ".concat(Hu(i),")"),"& > $item":{padding:Hu(i,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};Bu.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?(0,Fn.Z)(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(Wu),Gu=Uu,qu=n(14),Vu=n(7656),Yu=n(1659),Ku=n(417),Xu=n(8215),Qu=Hn((function(e){return{deleteButton:{width:"100%",minWidth:20,backgroundColor:e.palette.property.red,color:e.palette.button.color},ammoDeleteButton:{width:"100%",minWidth:20,backgroundColor:e.palette.property.org,color:e.palette.button.color},showInfoButton:{width:"100%",minWidth:20,backgroundColor:e.palette.property.blue,color:e.palette.button.color},addButton:{width:"100%",minWidth:20,backgroundColor:e.palette.property.green,color:e.palette.button.color},loopOrNotButton:{width:"100%",minWidth:20,color:e.palette.button.color}}})),$u=function(e){var t,n=Qu();return(0,oa.jsx)(ra,{title:"Delete",placement:"bottom",arrow:!0,children:(0,oa.jsx)("div",{children:(0,oa.jsx)(Ta,{className:n.deleteButton,onClick:function(){return e.setItem("DEL")},disabled:!(null!==(t=e.activeItem)&&void 0!==t&&t.typeID),children:(0,oa.jsx)(qu.Z,{})})})})},Ju=function(e){var t,n=Qu();return(0,oa.jsx)(ra,{title:"Delete ammo",placement:"bottom",arrow:!0,children:(0,oa.jsx)("div",{children:(0,oa.jsx)(Ta,{className:n.ammoDeleteButton,onClick:function(){e.dispatchListItems({type:"AMMO",payload:"DEL"})},disabled:!(null!==(t=e.activeCharge)&&void 0!==t&&t.typeID),children:(0,oa.jsx)(ma.Z,{})})})})},ec=function(e){var t,n=Qu();return(0,oa.jsx)(ra,{title:"Information",placement:"bottom",arrow:!0,children:(0,oa.jsx)("div",{children:(0,oa.jsx)(Ta,{className:n.showInfoButton,onClick:function(){e.dispatchSlotsOpen({type:"STAT",payload:{open:!0,slotVariant:e.activeSlot.type,slotNumber:e.activeSlot.index}})},disabled:!(null!==(t=e.activeItem)&&void 0!==t&&t.typeID),children:(0,oa.jsx)(Vu.Z,{})})})})},tc=function(e){var t,n=Qu();return(0,oa.jsx)(ra,{title:"Add drone",placement:"bottom",arrow:!0,children:(0,oa.jsx)("div",{children:(0,oa.jsx)(Ta,{className:n.addButton,onClick:function(){e.dispatchListItems({type:"DRONE_SLOT",payload:"ADD"})},disabled:!(null!==(t=e.activeItem)&&void 0!==t&&t.typeID),children:(0,oa.jsx)(Yu.Z,{})})})})},nc=function(e){var n=(0,t.useState)(!0),r=(0,fn.Z)(n,2),i=r[0],o=r[1],a=Qu(),s=Lr();return(0,t.useEffect)((function(){e.liftedIsLoop!==i&&o(e.liftedIsLoop)}),[e.liftedIsLoop]),(0,oa.jsx)(ra,{title:"Loop through slots",placement:"bottom",arrow:!0,children:(0,oa.jsx)("div",{children:(0,oa.jsx)(Ta,{className:a.loopOrNotButton,style:{backgroundColor:i?s.palette.property.green:s.palette.property.red},onClick:function(){e.setItem("LOOPLOOP"),e.setLiftedIsLoop(!i),o(!i)},children:i?(0,oa.jsx)(Ku.Z,{}):(0,oa.jsx)(Xu.Z,{})})})})};function rc(e){return(0,oa.jsxs)(Gu,{container:!0,children:[(0,oa.jsx)(Gu,{item:!0,xs:2,children:(0,oa.jsx)($u,(0,Zn.Z)({},e))}),(0,oa.jsx)(Gu,{item:!0,xs:2,children:(0,oa.jsx)(Ju,(0,Zn.Z)({},e))}),(0,oa.jsx)(Gu,{item:!0,xs:2,children:(0,oa.jsx)(ec,(0,Zn.Z)({},e))}),(0,oa.jsx)(Gu,{item:!0,xs:2,children:(0,oa.jsx)(Ua,(0,Zn.Z)({},e))}),"DRONE_SLOT"===e.variant?(0,oa.jsx)(Gu,{item:!0,xs:2,children:(0,oa.jsx)(tc,(0,Zn.Z)({},e))}):(0,oa.jsx)(Gu,{item:!0,xs:2}),(0,oa.jsx)(Gu,{item:!0,xs:2,children:(0,oa.jsx)(nc,(0,Zn.Z)({},e))})]})}var ic=Hn((function(e){return{textField:{margin:"3px 12px 0px 16px"},textFieldInputLabel:{fontWeight:700,fontSize:"14px"},textFieldinputLabel:{fontWeight:700,padding:"3px 0px 3px 1px",height:26},popperVisible:{transition:"".concat(e.transitions.create(["opacity"],{duration:150}))},popperHidden:{transition:"".concat(e.transitions.create(["opacity"],{duration:150}),",").concat(e.transitions.create(["z-index"],{duration:300}))},popperPaper:{width:300,overflow:"hidden"},popperChild:{width:"100%",height:"100%",maxHeight:600,overflowY:"auto",paddingRight:20,overflowX:"hidden"}}})),oc=(0,yr.Z)({root:{"& input:valid + fieldset":{borderWidth:2},"& input:invalid + fieldset":{borderWidth:2},"& input:valid:focus + fieldset":{borderLeftWidth:6,padding:"4px !important"},width:"90%"}})(du);function ac(e){var n=ic(),r=(0,t.useRef)(null),i=(0,t.useState)({}),o=(0,fn.Z)(i,2),a=o[0],s=o[1],l=(0,t.useState)(!1),u=(0,fn.Z)(l,2),c=u[0],d=u[1],f=(0,t.useState)(!1),h=(0,fn.Z)(f,2),p=h[0],v=h[1],m=(0,t.useState)(""),g=(0,fn.Z)(m,2),y=g[0],b=g[1],_=(0,t.useCallback)((function(e){b(e.target.value),e.target.value&&(d(!0),v(!0))}));return(0,t.useEffect)((function(){s(function(e,t){if(!t)return e;var n=(0,nr.Z)(e.filter.allowedAttributes);return n.push({attributeName:"typeName",value:t}),(0,Zn.Z)((0,Zn.Z)({},e),{},{opened:!0,filter:{allowedAttributes:n}})}(e.eveListConfig,y))}),[e.eveListConfig,y]),(0,oa.jsx)(zs,{onClickAway:function(){v(!1)},children:(0,oa.jsxs)("div",{children:[(0,oa.jsx)(oc,{ref:r,className:n.textField,InputLabelProps:{className:n.textFieldInputLabel},inputProps:{className:n.textFieldinputLabel},label:"Search",onChange:_,onFocus:_}),(0,oa.jsx)(Xo,{style:{opacity:p?1:0,zIndex:p?2e3:-1e3},className:p?n.popperVisible:n.popperHidden,open:c,anchorEl:r.current,placement:"bottom-start",children:(0,oa.jsx)(Vr,{className:n.popperPaper,elevation:3,children:(0,oa.jsx)("div",{className:n.popperChild,children:(0,oa.jsx)(Fu,{eveListConfig:a,cache:e.cache})})})})]})})}var sc=Hn((function(e){return{rootPaper:{width:300,height:"100%",overflow:"hidden"},child:{width:"100%",height:"100%",overflowY:"auto",paddingRight:20,overflowX:"hidden"},retractButton:{position:"absolute",bottom:0,right:0,backgroundColor:e.palette.action.opaqueHover,borderRadius:0,"&:hover":{backgroundColor:e.palette.background.paper}}}}));function lc(e){var n,r=sc(),i=(0,t.useState)({}),o=(0,fn.Z)(i,2),a=o[0],s=o[1],l=(0,t.useState)(!1),u=(0,fn.Z)(l,2),c=u[0],d=u[1],f=(0,t.useState)(0),h=(0,fn.Z)(f,2),p=h[0],v=h[1];return(0,t.useEffect)((function(){s({rootMarketGroupID:uc(e.slots,e.variant),state:{outboundSetItem:d},filter:{allowedAttributes:[].concat((0,nr.Z)(cc(e.variant)),(0,nr.Z)(e.filter))},tag:e.tag})}),[d,e.variant,(n=e.filter,n.map((function(e){return"".concat(e.attributeName,":").concat(e.value)})).join("-")),uc(e.slots,e.variant)]),(0,t.useEffect)((function(){v(window.innerWidth);var e=function(e){v(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,t.useEffect)((function(){c&&(e.dispatchListItems({type:e.variant,payload:c}),d(!1))}),[c]),(0,oa.jsxs)($r,{classes:{paper:r.rootPaper},PaperProps:{style:{marginLeft:!0===e.expand?300:60}},anchor:p<1e3?"right":"left",open:e.open,variant:"persistent",children:[(0,oa.jsx)(rc,(0,Zn.Z)({setItem:d},e)),(0,oa.jsx)(ac,{eveListConfig:a,cache:e.cache}),(0,oa.jsx)("div",{className:r.child,children:(0,oa.jsx)(Fu,{eveListConfig:a,cache:e.cache})}),(0,oa.jsx)(vi,{className:r.retractButton,onClick:function(t){return e.dispatchSlotsOpen({type:"RESET"})},children:p<1e3?(0,oa.jsx)(nl.Z,{}):(0,oa.jsx)(As.Z,{})})]})}function uc(e,t){switch(t){case"SHIP":return 4;case"MISC_SLOT":return function(e){var t;switch(null===(t=e.ship)||void 0===t?void 0:t.typeID){case 34317:return 10001;case 34828:return 10002;case 35683:return 10003;case 34562:return 10004;case 29986:return 1610;case 29984:return 1625;case 29988:return 1627;case 29990:return 1626;default:return 9}}(e);case"HIGH_SLOT":case"MID_SLOT":case"LOW_SLOT":return 9;case"RIG_SLOT":return 1111;case"AMMO":return 11;case"DRONE_SLOT":return 157;case"IMPLANT_SLOT":return 27;case"DRUG_SLOT":return 977}}function cc(e){switch(e){case"HIGH_SLOT":return[{attributeName:"typeIsHiPower",value:!0}];case"MID_SLOT":return[{attributeName:"typeIsMedPower",value:!0}];case"LOW_SLOT":return[{attributeName:"typeIsLoPower",value:!0}];default:return[]}}var dc=t.memo((function(e){var n=(0,t.useState)(!1),r=(0,fn.Z)(n,2),i=r[0],o=r[1],a=(0,t.useState)(!1),s=(0,fn.Z)(a,2),l=s[0],u=s[1],c=(0,t.useState)(!0),d=(0,fn.Z)(c,2),f=d[0],h=d[1];return(0,t.useEffect)((function(){var t=function(e,t){return!1===t.type||!1===t.index?{item:!1,charge:!1}:"SHIP"===t.type?{item:e.ship}:e[Kc(t.type)][t.index]}(e.fit,e.activeSlot);o(null===t||void 0===t?void 0:t.item),u(null===t||void 0===t?void 0:t.charge)}),[e.fitID,e.activeSlot]),(0,oa.jsx)(t.Fragment,{children:["SHIP","MISC_SLOT","HIGH_SLOT","MID_SLOT","LOW_SLOT","RIG_SLOT","AMMO","DRONE_SLOT","IMPLANT_SLOT","DRUG_SLOT"].map((function(t){return(0,oa.jsx)(lc,(0,Zn.Z)({tag:e.tag,variant:t,activeItem:i,activeCharge:l,liftedIsLoop:f,setLiftedIsLoop:h,expand:e.expand,open:e.slotsOpen[t].open,filter:fc(e.slots,e.slotsOpen,t)},e),t)}))})}));function fc(e,t,n){switch(n){case"AMMO":var r=t.AMMO.filter;return r.group&&0!==r.group.length?[{attributeName:"typeGroupID",value:r.group},{attributeName:"typeChargeSize",value:r.size}]:[];case"RIG_SLOT":var i=t.RIG_SLOT.filter;return i&&i.size?[{attributeName:"typeRigSize",value:i.size}]:[];case"DRONE_SLOT":var o=t.DRONE_SLOT.filter;return!1===o.size||void 0===o.size?[]:[{attributeName:"typeDroneSize",value:(0,nr.Z)(new Array(o.size+1).keys())}];case"IMPLANT_SLOT":var a=t.IMPLANT_SLOT.filter;return null!==a&&void 0!==a&&a.typeSlotNumber?[{attributeName:"typeSlotNumber",value:a.typeSlotNumber}]:[];case"DRUG_SLOT":var s=t.DRUG_SLOT.filter;return null!==s&&void 0!==s&&s.typeSlotNumber?[{attributeName:"typeSlotNumber",value:s.typeSlotNumber}]:[];default:return[]}}function hc(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function pc(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){hc(o,r,i,a,s,"next",e)}function s(e){hc(o,r,i,a,s,"throw",e)}a(void 0)}))}}function vc(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mc(Object(n),!0).forEach((function(t){_c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yc(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function bc(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){yc(o,r,i,a,s,"next",e)}function s(e){yc(o,r,i,a,s,"throw",e)}a(void 0)}))}}function _c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xc=Symbol.for("RemoteUi::Retain"),wc=Symbol.for("RemoteUi::Release"),Sc=Symbol.for("RemoteUi::RetainedBy"),kc=function(){function e(){(0,gn.Z)(this,e),this.memoryManaged=new Set}return(0,yn.Z)(e,[{key:"add",value:function(e){this.memoryManaged.add(e),e[Sc].add(this),e[xc]()}},{key:"release",value:function(){var e,t=Du(this.memoryManaged);try{for(t.s();!(e=t.n()).done;){var n=e.value;n[Sc].delete(this),n[wc]()}}catch(r){t.e(r)}finally{t.f()}this.memoryManaged.clear()}}]),e}();function Cc(e){return Boolean(e&&e[xc]&&e[wc])}var Ec="_@f";function Tc(e){var t=new Map,n=new Map,r=new Map;return{encode:function r(i){if("object"===typeof i){if(null==i)return[i];var o=[];if(Array.isArray(i)){var a=i.map((function(e){var t=r(e),n=(0,fn.Z)(t,2),i=n[0],a=n[1],s=void 0===a?[]:a;return o.push.apply(o,(0,nr.Z)(s)),i}));return[a,o]}var s=Object.keys(i).reduce((function(e,t){var n=r(i[t]),a=(0,fn.Z)(n,2),s=a[0],l=a[1],u=void 0===l?[]:l;return o.push.apply(o,(0,nr.Z)(u)),gc(gc({},e),{},(0,jn.Z)({},t,s))}),{});return[s,o]}if("function"===typeof i){if(t.has(i)){var l=t.get(i);return[(0,jn.Z)({},Ec,l)]}var u=e.uuid();return t.set(i,u),n.set(u,i),[(0,jn.Z)({},Ec,u)]}return[i]},decode:i,call:function(e,t){return bc(vn.mark((function r(){var o,a,s,l;return vn.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=new kc,null!=(a=n.get(e))){r.next=4;break}throw new Error("You attempted to call a function that was already released.");case 4:return r.prev=4,s=Cc(a)?[o].concat((0,nr.Z)(a[Sc])):[o],r.next=8,a.apply(void 0,(0,nr.Z)(i(t,s)));case 8:return l=r.sent,r.abrupt("return",l);case 10:return r.prev=10,o.release(),r.finish(10);case 13:case"end":return r.stop()}}),r,null,[[4,,10,13]])})))()},release:function(e){var r=n.get(e);r&&(n.delete(e),t.delete(r))},terminate:function(){t.clear(),n.clear(),r.clear()}};function i(t,n){if("object"===typeof t){if(null==t)return t;if(Array.isArray(t))return t.map((function(e){return i(e,n)}));if(Ec in t){var o,a=t["_@f"];if(r.has(a))return r.get(a);var s=0,l=!1,u=new Set(n),c=function(){if(l)throw new Error("You attempted to call a function that was already released.");if(!r.has(a))throw new Error("You attempted to call a function that was already revoked.");for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.call(a,n)};Object.defineProperties(c,(o={},(0,jn.Z)(o,wc,{value:function(){0===(s-=1)&&(l=!0,r.delete(a),e.release(a))},writable:!1}),(0,jn.Z)(o,xc,{value:function(){s+=1},writable:!1}),(0,jn.Z)(o,Sc,{value:u,writable:!1}),o));var d,f=Du(u);try{for(f.s();!(d=f.n()).done;){d.value.add(c)}}catch(h){f.e(h)}finally{f.f()}return r.set(a,c),c}return Object.keys(t).reduce((function(e,r){return gc(gc({},e),{},(0,jn.Z)({},r,i(t[r],n)))}),{})}return t}}function Pc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.uuid,r=void 0===n?Ic:n,i=t.createEncoder,o=void 0===i?Tc:i,a=t.callable,s=!1,l=e,u=new Map,c=new Map,d=Oc(m,a),f=o({uuid:r,release:function(e){h(3,[e])},call:function(e,t,n){var i=r(),o=g(i,n),a=f.encode(t),s=(0,fn.Z)(a,2);return h(5,[i,e,s[0]],s[1]),o}});return l.addEventListener("message",p),{call:d,replace:function(e){var t=l;l=e,t.removeEventListener("message",p),e.addEventListener("message",p)},expose:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],i=e[r];"function"===typeof i?u.set(r,i):u.delete(r)}},callable:function(){if(null!=a){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];Object.defineProperty(d,o,{value:m(o),writable:!1,configurable:!0,enumerable:!0})}}},terminate:function(){y(),l.terminate?l.terminate():h(2,[])}};function h(e,t,n){l.postMessage([e,t],n)}function p(e){return v.apply(this,arguments)}function v(){return(v=bc(vn.mark((function e(t){var n,r,i,o,a,s,l,d,p,v,m,g,b,_,x,w,S,k,C,E,T,P,I,R,O,L,D,N,A,M,Z,j;return vn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(n=t.data)&&Array.isArray(n)){e.next=3;break}return e.abrupt("return");case 3:e.t0=n[0],e.next=2===e.t0?6:0===e.t0?8:1===e.t0?34:3===e.t0?38:6===e.t0?41:5===e.t0?45:60;break;case 6:return y(),e.abrupt("break",60);case 8:if(r=new kc,i=(0,fn.Z)(n[1],3),o=i[0],a=i[1],s=i[2],l=u.get(a),e.prev=11,null!=l){e.next=14;break}throw new Error("No '".concat(a,"' method is exposed on this endpoint"));case 14:return e.t1=f,e.next=17,l.apply(void 0,(0,nr.Z)(f.decode(s,[r])));case 17:e.t2=e.sent,d=e.t1.encode.call(e.t1,e.t2),p=(0,fn.Z)(d,2),v=p[0],m=p[1],h(1,[o,void 0,v],m),e.next=30;break;case 25:throw e.prev=25,e.t3=e.catch(11),g=e.t3.name,b=e.t3.message,_=e.t3.stack,h(1,[o,{name:g,message:b,stack:_}]),e.t3;case 30:return e.prev=30,r.release(),e.finish(30);case 33:case 59:return e.abrupt("break",60);case 34:return x=(0,fn.Z)(n[1],1),w=x[0],c.get(w).apply(void 0,(0,nr.Z)(n[1])),c.delete(w),e.abrupt("break",60);case 38:return S=(0,fn.Z)(n[1],1),k=S[0],f.release(k),e.abrupt("break",60);case 41:return C=(0,fn.Z)(n[1],1),E=C[0],c.get(E).apply(void 0,(0,nr.Z)(n[1])),c.delete(E),e.abrupt("break",60);case 45:return T=(0,fn.Z)(n[1],3),P=T[0],I=T[1],R=T[2],e.prev=46,e.next=49,f.call(I,R);case 49:O=e.sent,L=f.encode(O),D=(0,fn.Z)(L,2),N=D[0],A=D[1],h(6,[P,void 0,N],A),e.next=59;break;case 54:throw e.prev=54,e.t4=e.catch(46),M=e.t4.name,Z=e.t4.message,j=e.t4.stack,h(6,[P,{name:M,message:Z,stack:j}]),e.t4;case 60:case"end":return e.stop()}}),e,null,[[11,25,30,33],[46,54]])})))).apply(this,arguments)}function m(e){return function(){if(s)throw new Error("You attempted to call a function on a terminated web worker.");if("string"!==typeof e&&"number"!==typeof e)throw new Error("Can\u2019t call a symbol method on a remote endpoint: ".concat(e.toString()));for(var t=r(),n=g(t),i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var l=f.encode(o),u=(0,fn.Z)(l,2),c=u[0],d=u[1];return h(0,[t,e,c],d),n}}function g(e,t){return new Promise((function(n,r){c.set(e,(function(e,i,o){if(null==i)n(o&&f.decode(o,t));else{var a=new Error;Object.assign(a,i),r(a)}}))}))}function y(){var e;s=!0,u.clear(),c.clear(),null===(e=f.terminate)||void 0===e||e.call(f),l.removeEventListener("message",p)}}function Ic(){return"".concat(Rc(),"-").concat(Rc(),"-").concat(Rc(),"-").concat(Rc())}function Rc(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)}function Oc(e,t){var n;if(null==t){if("function"!==typeof Proxy)throw new Error("You must pass an array of callable methods in environments without Proxies.");var r=new Map;n=new Proxy({},{get:function(t,n){if(r.has(n))return r.get(n);var i=e(n);return r.set(n,i),i}})}else{n={};var i,o=Du(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;Object.defineProperty(n,a,{value:e(a),writable:!1,configurable:!0,enumerable:!0})}}catch(s){o.e(s)}finally{o.f()}}return n}function Lc(e){var t=URL.createObjectURL(new Blob(["importScripts(".concat(JSON.stringify(e.href),")")])),n=new Worker(t),r=n.terminate.bind(n);return n.terminate=function(){URL.revokeObjectURL(t),r()},n}var Dc=["createMessenger"],Nc=new WeakMap;var Ac=Hn((function(e){return{rootClose:{width:0,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflow:"hidden"},rootExpand:{width:300,maxWidth:"80%",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflow:"hidden"},rootRetract:{width:60,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflow:"hidden"},expandButton:{position:"absolute",top:0,right:0,backgroundColor:e.palette.action.opaqueHover,borderRadius:0,opacity:1,"&:hover":{backgroundColor:e.palette.background.paper}},retractButton:{position:"absolute",bottom:0,right:0,backgroundColor:e.palette.action.opaqueHover,zIndex:1,borderRadius:0,"&:hover":{backgroundColor:e.palette.background.paper}},child:{width:"100%",overflowX:"hidden",overflowY:"auto",paddingBottom:35,paddingRight:20}}}));function Mc(e){var n=Ac();return(0,oa.jsx)(t.Fragment,{children:(0,oa.jsxs)($r,{anchor:"left",open:e.open,variant:"permanent",classes:{paper:n[Zc(e)]},children:[(0,oa.jsx)(gi,{children:(0,oa.jsx)(vi,{children:"TEMPORARY"})}),(0,oa.jsx)(vi,{className:n.expandButton,onClick:function(){return e.setExpand(!e.expand)},children:e.expand?(0,oa.jsx)(Ds.Z,{}):(0,oa.jsx)(Ns.Z,{})}),(0,oa.jsx)("div",{className:n.child,children:(0,oa.jsx)("div",{children:["IMPLANT_SLOT","DRUG_SLOT"].map((function(t){return(0,oa.jsx)(xs,(0,Zn.Z)({importFitText:e.importFitText,setImportFitText:e.setImportFitText,dispatchImportStateFlag:e.dispatchImportStateFlag,variant:t,slotCount:jc(e.fit,t)},e),t)}))})}),(0,oa.jsx)(vi,{className:n.retractButton,onClick:function(){e.dispatchSlotsOpen({type:"RESET"}),e.setOpen(!1)},children:(0,oa.jsx)(As.Z,{})})]})})}function Zc(e){return e.open?e.expand?"rootExpand":"rootRetract":"rootClose"}function jc(e,t){switch(t){case"IMPLANT_SLOT":return 10;case"DRUG_SLOT":return 5;default:return 0}}!function(e){var t=function(e){return"undefined"===typeof window||"string"!==typeof e?void 0:new URL(e,window.location.href)}(e);function n(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.createMessenger,i=void 0===r?Lc:r,o=vc(n,Dc);if(t){var a=Pc(i(t),o),s=a.call;return Nc.set(s,a),s}if("function"===typeof e)return new Proxy({},{get:function(t,n){return function(){var t=pc(vn.mark((function t(){var r,i=arguments;return vn.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:return r=t.sent,t.abrupt("return",r[n].apply(r,i));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}});if("undefined"===typeof window)return new Proxy({},{get:function(e,t){return function(){throw new Error("You can\u2019t call a method on a worker on the server.")}}});throw new Error("Could not create a suitable fallback")}Reflect.defineProperty(n,"url",{value:t})}((function(){return n.e(578).then(n.bind(n,6578))}));var Fc={skills:!1,ship:!1,miscSlots:[],lowSlots:[],midSlots:[],highSlots:[],rigSlots:[],droneSlots:[],implantSlots:[],drugSlots:[]};function zc(e,t){var n;switch(t.type){case"SKILL":return(0,Zn.Z)((0,Zn.Z)({},e),{},{skills:t.payload});case"SHIP":return(0,Zn.Z)((0,Zn.Z)({},e),{},{ship:void 0!==(null===(n=t.payload[0])||void 0===n?void 0:n.item)&&t.payload[0].item});case"MISC_SLOT":case"LOW_SLOT":case"MID_SLOT":case"HIGH_SLOT":case"RIG_SLOT":case"DRONE_SLOT":case"IMPLANT_SLOT":case"DRUG_SLOT":return(0,Zn.Z)((0,Zn.Z)({},e),{},(0,jn.Z)({},Kc(t.type),t.payload));default:return e}}var Bc={SHIP:{open:!1},MISC_SLOT:{open:!1},HIGH_SLOT:{open:!1},MID_SLOT:{open:!1},LOW_SLOT:{open:!1},RIG_SLOT:{open:!1,filter:!1},DRONE_SLOT:{open:!1,filter:!1},IMPLANT_SLOT:{open:!1,filter:!1},DRUG_SLOT:{open:!1,filter:!1},AMMO:{open:!1,slotVariant:!1,filter:!1},STAT:{open:!1,slotVariant:!1,slotNumber:!1,filter:!1}};function Hc(e,t){var n;switch(t.type){case"SHIP":case"MISC_SLOT":case"HIGH_SLOT":case"MID_SLOT":case"LOW_SLOT":return(0,Zn.Z)((0,Zn.Z)({},Bc),{},(0,jn.Z)({},t.type,{open:!0}));case"DRONE_SLOT":case"RIG_SLOT":case"DRUG_SLOT":case"IMPLANT_SLOT":return(0,Zn.Z)((0,Zn.Z)({},Bc),{},(0,jn.Z)({},t.type,{open:!0,filter:null===(n=t.payload)||void 0===n?void 0:n.filter}));case"AMMO":return(0,Zn.Z)((0,Zn.Z)({},Bc),{},{AMMO:{open:!0,slotVariant:t.payload.slotVariant,filter:t.payload.filter}});case"STAT":return(0,Zn.Z)((0,Zn.Z)({},e),{},{STAT:{open:t.payload.open,slotVariant:t.payload.slotVariant,slotNumber:t.payload.slotNumber,filter:t.payload.filter}});default:return Bc}}var Wc={SHIP:!1,MISC_SLOT:!1,HIGH_SLOT:!1,MID_SLOT:!1,LOW_SLOT:!1,RIG_SLOT:!1,DRONE_SLOT:!1,IMPLANT_SLOT:!1,DRUG_SLOT:!1,AMMO:!1};function Uc(e,t){switch(t.type){case"SHIP":case"MISC_SLOT":case"HIGH_SLOT":case"MID_SLOT":case"LOW_SLOT":case"RIG_SLOT":case"DRONE_SLOT":case"IMPLANT_SLOT":case"DRUG_SLOT":case"AMMO":return(0,Zn.Z)((0,Zn.Z)({},e),{},(0,jn.Z)({},t.type,t.payload));default:return e}}var Gc={SHIP:!1,MISC_SLOT:!1,HIGH_SLOT:!1,MID_SLOT:!1,LOW_SLOT:!1,RIG_SLOT:!1,DRONE_SLOT:!1,IMPLANT_SLOT:!1,DRUG_SLOT:!1};function qc(e,t){return"START"===t.type?Gc:(0,Zn.Z)((0,Zn.Z)({},e),{},(0,jn.Z)({},t.type,!0))}function Vc(e){var n=(0,t.useState)({type:!1,index:!1}),r=(0,fn.Z)(n,2),i=r[0],o=r[1],a=(0,t.useReducer)(zc,Fc),s=(0,fn.Z)(a,2),l=s[0],u=s[1],c=(0,t.useReducer)(Hc,Bc),d=(0,fn.Z)(c,2),f=d[0],h=d[1],p=(0,t.useReducer)(Uc,Wc),v=(0,fn.Z)(p,2),m=v[0],g=v[1],y=(0,t.useState)(!1),b=(0,fn.Z)(y,2),_=b[0],x=b[1],w=(0,t.useState)(!1),S=(0,fn.Z)(w,2),k=S[0],C=S[1],E=(0,t.useState)(!1),T=(0,fn.Z)(E,2),P=T[0],I=T[1],R=(0,t.useReducer)(qc,Gc),O=(0,fn.Z)(R,2),L=O[0],D=O[1];return(0,t.useEffect)((function(){Object.values(L).includes(!1)||I(!1)}),[L]),(0,t.useEffect)((function(){var t,n=JSON.parse(localStorage.getItem("".concat(e.tag,"SLOTS"))),r=localStorage.getItem("".concat(e.tag,"EFT"));null!==n&&void 0!==n&&null!==(t=n.ship)&&void 0!==t&&t.typeID&&r&&(e.cache.set("typeID/".concat(n.ship.typeID),n.ship),ya.Z.mapSlots(n,(function(t){var n,r,i,o;null!==(n=t.item)&&void 0!==n&&n.typeID&&null!==(r=t.item)&&void 0!==r&&r.typeAttributesStats&&e.cache.set("typeID/".concat(t.item.typeID),t.item),null!==(i=t.charge)&&void 0!==i&&i.typeID&&null!==(o=t.charge)&&void 0!==o&&o.typeAttributesStats&&e.cache.set("typeID/".concat(t.charge.typeID),t.charge)}),{isIterate:{miscSlots:!0,highSlots:!0,midSlots:!0,lowSlots:!0,rigSlots:!0,droneSlots:!0,implantSlots:!0,drugSlots:!0}}),I(r),D({type:"START"}))}),[]),(0,t.useEffect)((function(){e.cache.wait("/skillsStaticBoard").then((function(e){return u({type:"SKILL",payload:e})}))}),[]),(0,t.useEffect)((function(){!0===e.fitOpen?(h({type:"SHIP"}),e.setCharacterOpen(!1)):!0===e.characterOpen?h({type:"IMPLANT_SLOT"}):h({type:"RESET"})}),[e.fitOpen]),(0,t.useEffect)((function(){e.characterOpen?e.setFitOpen(!1):!0===e.fitOpen?h({type:"SHIP"}):h({type:"RESET"})}),[e.characterOpen]),(0,t.useEffect)((function(){var t;if(!1===P&&l.skills){var n=ya.Z.apply(l.ship?l:Fc);if(x(n),e.setFit(n),e.setFitID(ms.buildCompareTextFromFit(l)),e.setSlots(l),null!==(t=l.ship)&&void 0!==t&&t.typeID){var r=ms.buildInternalTextFromFit(n),i=ms.buildTextFromFit(n),o=(0,Zn.Z)((0,Zn.Z)({},l),{},{skills:void 0});C(i),localStorage.setItem("".concat(e.tag,"SLOTS"),JSON.stringify(o)),localStorage.setItem("".concat(e.tag,"EFT"),r)}}}),[ms.buildCompareTextFromFit(l),P]),(0,oa.jsxs)(t.Fragment,{children:[(0,oa.jsx)(dc,{tag:e.tag,expand:e.expand,slotsOpen:f,fit:_,slots:l,activeSlot:i,dispatchListItems:g,dispatchSlotsOpen:h,fitID:e.fitID,cache:e.cache}),(0,oa.jsx)(Js,{fit:_,slots:l,open:e.fitOpen,setOpen:e.setFitOpen,expand:e.expand,setExpand:e.setExpand,backgroundColor:e.backgroundColor,exportFitText:k,importFitText:P,importStateFlag:L,dispatchImportStateFlag:D,setImportFitText:I,slotsOpen:f,dispatchSlotsOpen:h,listItems:m,dispatchListItems:g,dispatchSlots:u,setActiveSlot:o,cache:e.cache}),(0,oa.jsx)(gu,{open:f.STAT.open,dispatchSlotsOpen:h,slot:Yc(_,f.STAT),cache:e.cache}),(0,oa.jsx)(Mc,{tag:e.tag,fit:_,slots:l,open:e.characterOpen,setOpen:e.setCharacterOpen,expand:e.expand,setExpand:e.setExpand,backgroundColor:e.backgroundColor,exportFitText:k,importFitText:P,importStateFlag:L,dispatchImportStateFlag:D,setImportFitText:I,slotsOpen:f,dispatchSlotsOpen:h,listItems:m,dispatchListItems:g,dispatchSlots:u,setActiveSlot:o,cache:e.cache})]})}function Yc(e,t){if(t.slotVariant)switch(t.slotVariant){case"SHIP":return e.ship;case"MISC_SLOT":case"HIGH_SLOT":case"MID_SLOT":case"LOW_SLOT":case"RIG_SLOT":case"IMPLANT_SLOT":case"DRUG_SLOT":return e[Kc(t.slotVariant)][t.slotNumber];default:return}}function Kc(e){switch(e){case"SHIP":return"ship";case"MISC_SLOT":return"miscSlots";case"HIGH_SLOT":return"highSlots";case"MID_SLOT":return"midSlots";case"LOW_SLOT":return"lowSlots";case"RIG_SLOT":return"rigSlots";case"DRONE_SLOT":return"droneSlots";case"IMPLANT_SLOT":return"implantSlots";case"DRUG_SLOT":return"drugSlots";default:return}}var Xc=t.forwardRef((function(e,n){var r=e.classes,i=e.className,o=e.raised,a=void 0!==o&&o,s=(0,Wn.Z)(e,["classes","className","raised"]);return t.createElement(Vr,(0,Fn.Z)({className:(0,Un.Z)(r.root,i),elevation:a?8:1,ref:n},s))})),Qc=(0,yr.Z)({root:{overflow:"hidden"}},{name:"MuiCard"})(Xc),$c=t.memo((function(e){return(0,oa.jsx)(ia.Z,{children:(0,oa.jsx)("path",{d:"m6.86886,11.73771l1.459,-2.65575c0.01641,0.00001 -0.01638,-0.7213 0.24591,-1.14753c0.2623,-0.42623 0.45902,-0.68852 0.88525,-0.7541c0.42623,-0.06557 -1.01639,-1.01639 -0.09836,-1.96721c0.91803,-0.95082 1.90164,-1.31148 3.2459,-0.55738c1.34426,0.7541 2.78686,2.29506 2.83605,2.29507l0.15574,3.29509c-0.41393,2.35245 -0.7377,3.4918 -0.7459,3.49179c0.0164,0.00001 2.11477,1.01641 2.86886,4.32788l-3.55739,-1.44263c0.01641,0.00001 -2.86884,2.19673 -2.88524,2.19672c0.0164,0.00001 -3.65573,-0.42622 -3.67213,-0.42623c0.0164,0.00001 -0.34425,-2.2295 -0.36065,-2.22951c0.0164,0.00001 2.21312,-2.06556 2.19671,-2.06557l-2.57375,-2.36064z",fill:e.color||"#000000"})})})),Jc=t.memo((function(e){return(0,oa.jsx)(ia.Z,{children:(0,oa.jsx)("path",{d:" M 15.023 17.29 Q 13.407 18.645 12.078 18.723 Q 10.593 18.723 8.925 17.29 Q 7.257 15.857 6.788 14.866 L 6.788 5.277 Q 10.198 6.134 12.078 6.137 Q 13.959 6.14 17.212 5.277 L 17.212 14.866 Q 16.638 15.935 15.023 17.29 Z ",fill:e.color||"#000000"})})})),ed=t.memo((function(e){return(0,oa.jsxs)(ia.Z,{children:[(0,oa.jsx)("path",{d:" M 12.266 19.395 L 8.944 17.478 L 5.623 15.56 L 5.623 11.725 L 5.623 7.89 L 8.944 5.972 L 12.266 4.054 L 15.587 5.972 L 18.908 7.89 L 18.908 11.725 L 18.908 15.56 L 15.587 17.478 L 12.266 19.395 Z ",fill:"none",strokeWidth:"2",stroke:e.color||"#000000"}),(0,oa.jsx)("line",{x1:"6.771",y1:"8.587",x2:"17.862",y2:"14.945",strokeWidth:"1",stroke:e.color||"#000000"}),(0,oa.jsx)("line",{x1:"17.862",y1:"8.587",x2:"6.606",y2:"15.11",strokeWidth:"1",stroke:e.color||"#000000"}),(0,oa.jsx)("line",{x1:"12.266",y1:"5.257",x2:"12.266",y2:"18.33",strokeWidth:"1",stroke:e.color||"#000000"})]})})),td=function(e){return(0,oa.jsx)(ia.Z,{children:(0,oa.jsx)("path",{d:" M 17.856 11.92 L 17.856 11.92 Q 18.168 11.92 18.348 12.208 L 18.348 12.208 L 18.348 12.208 Q 18.528 12.496 18.528 13 L 18.528 13 L 18.528 13 Q 18.528 13.96 18.072 14.488 L 18.072 14.488 L 18.072 14.488 Q 17.184 15.568 15.564 16.48 L 15.564 16.48 L 15.564 16.48 Q 13.944 17.392 12.096 17.392 L 12.096 17.392 L 12.096 17.392 Q 9.576 17.392 8.184 16.024 L 8.184 16.024 L 8.184 16.024 Q 6.792 14.656 6.792 12.28 L 6.792 12.28 L 6.792 12.28 Q 6.792 10.624 7.488 9.196 L 7.488 9.196 L 7.488 9.196 Q 8.184 7.768 9.42 6.928 L 9.42 6.928 L 9.42 6.928 Q 10.656 6.088 12.216 6.088 L 12.216 6.088 L 12.216 6.088 Q 13.608 6.088 14.448 6.916 L 14.448 6.916 L 14.448 6.916 Q 15.288 7.744 15.288 9.16 L 15.288 9.16 L 15.288 9.16 Q 15.288 10.816 14.1 12.004 L 14.1 12.004 L 14.1 12.004 Q 12.912 13.192 10.08 13.888 L 10.08 13.888 L 10.08 13.888 Q 10.68 14.992 12.36 14.992 L 12.36 14.992 L 12.36 14.992 Q 13.44 14.992 14.82 14.236 L 14.82 14.236 L 14.82 14.236 Q 16.2 13.48 17.208 12.256 L 17.208 12.256 L 17.208 12.256 Q 17.496 11.92 17.856 11.92 L 17.856 11.92 L 17.856 11.92 Z  M 11.808 8.44 L 11.808 8.44 Q 10.92 8.44 10.308 9.472 L 10.308 9.472 L 10.308 9.472 Q 9.696 10.504 9.696 11.968 L 9.696 11.968 L 9.696 12.016 L 9.696 12.016 Q 11.112 11.68 11.928 11.008 L 11.928 11.008 L 11.928 11.008 Q 12.744 10.336 12.744 9.448 L 12.744 9.448 L 12.744 9.448 Q 12.744 8.992 12.492 8.716 L 12.492 8.716 L 12.492 8.716 Q 12.24 8.44 11.808 8.44 L 11.808 8.44 L 11.808 8.44 Z ",fill:e.color||"#000000"})})},nd=t.forwardRef((function(e,n){var r=e.classes,i=e.className,o=e.color,a=void 0===o?"primary":o,s=e.value,l=e.valueBuffer,u=e.variant,c=void 0===u?"indeterminate":u,d=(0,Wn.Z)(e,["classes","className","color","value","valueBuffer","variant"]),f=Lr(),h={},p={bar1:{},bar2:{}};if("determinate"===c||"buffer"===c)if(void 0!==s){h["aria-valuenow"]=Math.round(s),h["aria-valuemin"]=0,h["aria-valuemax"]=100;var v=s-100;"rtl"===f.direction&&(v=-v),p.bar1.transform="translateX(".concat(v,"%)")}else 0;if("buffer"===c)if(void 0!==l){var m=(l||0)-100;"rtl"===f.direction&&(m=-m),p.bar2.transform="translateX(".concat(m,"%)")}else 0;return t.createElement("div",(0,Fn.Z)({className:(0,Un.Z)(r.root,r["color".concat((0,Yr.Z)(a))],i,{determinate:r.determinate,indeterminate:r.indeterminate,buffer:r.buffer,query:r.query}[c]),role:"progressbar"},h,{ref:n},d),"buffer"===c?t.createElement("div",{className:(0,Un.Z)(r.dashed,r["dashedColor".concat((0,Yr.Z)(a))])}):null,t.createElement("div",{className:(0,Un.Z)(r.bar,r["barColor".concat((0,Yr.Z)(a))],("indeterminate"===c||"query"===c)&&r.bar1Indeterminate,{determinate:r.bar1Determinate,buffer:r.bar1Buffer}[c]),style:p.bar1}),"determinate"===c?null:t.createElement("div",{className:(0,Un.Z)(r.bar,("indeterminate"===c||"query"===c)&&r.bar2Indeterminate,"buffer"===c?[r["color".concat((0,Yr.Z)(a))],r.bar2Buffer]:r["barColor".concat((0,Yr.Z)(a))]),style:p.bar2}))})),rd=(0,yr.Z)((function(e){var t=function(t){return"light"===e.palette.type?(0,Jr.$n)(t,.62):(0,Jr._j)(t,.5)},n=t(e.palette.primary.main),r=t(e.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4,"@media print":{colorAdjust:"exact"}},colorPrimary:{backgroundColor:n},colorSecondary:{backgroundColor:r},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(n," 0%, ").concat(n," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:e.palette.primary.main},barColorSecondary:{backgroundColor:e.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0 -23px"},"50%":{opacity:0,backgroundPosition:"0 -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}}),{name:"MuiLinearProgress"})(nd),id=Hn((function(e){return{root:{height:20,position:"relative",width:"100%"},rootGrid:{width:"100%",height:"100%",position:"absolute",top:0,left:0},progress:{width:"100%",height:"100%"},rootProgress:function(t){return{width:"100%",height:"100%",backgroundColor:t.backgroundColor?t.backgroundColor:e.palette.background.paper}},rootBar:function(t){return{backgroundColor:t.color?t.color:e.palette.background.paper}},dashedBar:function(t){return{borderRight:"dashed ".concat(e.palette.text.primary," 0.1px"),backgroundColor:t.color?t.color:e.palette.background.paper}},childGrid:{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},label:{fontSize:12,color:"#ffffff"},description:{fontSize:14,fontWeight:700,color:e.palette.text.secondary}}}));function od(e){var t=id(e);return(0,oa.jsxs)(Gu,{className:t.root,children:[(0,oa.jsx)(Gu,{className:t.rootGrid,children:(0,oa.jsx)(rd,{classes:{root:t.rootProgress,bar:e.showDivider?t.dashedBar:t.rootBar},className:t.progress,variant:"determinate",value:e.value})}),(0,oa.jsxs)(Gu,{className:t.childGrid,children:[e.Icon,(0,oa.jsx)(Ii,(0,Zn.Z)((0,Zn.Z)({className:t.label},e.typographyProps),{},{children:e.label})),(0,oa.jsx)(Ii,{className:t.description,style:{paddingLeft:e.description?5:0},children:e.description})]})]})}var ad=t.forwardRef((function(e,n){var r,i,o,a,s,l,u,c,d=Lr(),f=(0,t.useState)(!1),h=(0,fn.Z)(f,2),p=h[0],v=h[1];return(0,oa.jsxs)(Gu,{container:!0,onMouseEnter:function(){v(!0)},onMouseLeave:function(){v(!1)},children:[(0,oa.jsx)(Gu,{innerRef:n,item:!0,xs:12,children:(0,oa.jsx)(wi,{style:{width:"100%",padding:0},button:!!e.button,children:(0,oa.jsx)(od,{value:0,label:ld(e),description:sd(e),backgroundColor:d.palette.background.paper,Icon:(0,oa.jsx)(ra,{open:p,title:e.tooltip||"",placement:"left",arrow:!0,children:e.Icon}),typographyProps:{style:{fontSize:14,fontWeight:700,color:d.palette.text.primary}}})})}),(0,oa.jsx)(Gu,{item:!0,xs:3,children:(0,oa.jsx)(od,{value:null===(r=e.resistance)||void 0===r?void 0:r.EM,label:"".concat(null===(i=e.resistance)||void 0===i?void 0:i.EM.toFixed(1),"%"),backgroundColor:d.palette.property.blueSecondary,color:d.palette.property.blue})}),(0,oa.jsx)(Gu,{item:!0,xs:3,children:(0,oa.jsx)(od,{value:null===(o=e.resistance)||void 0===o?void 0:o.TH,label:"".concat(null===(a=e.resistance)||void 0===a?void 0:a.TH.toFixed(1),"%"),backgroundColor:d.palette.property.redSecondary,color:d.palette.property.red})}),(0,oa.jsx)(Gu,{item:!0,xs:3,children:(0,oa.jsx)(od,{value:null===(s=e.resistance)||void 0===s?void 0:s.KI,label:"".concat(null===(l=e.resistance)||void 0===l?void 0:l.KI.toFixed(1),"%"),backgroundColor:d.palette.property.greySecondary,color:d.palette.property.grey})}),(0,oa.jsx)(Gu,{item:!0,xs:3,children:(0,oa.jsx)(od,{value:null===(u=e.resistance)||void 0===u?void 0:u.EX,label:"".concat(null===(c=e.resistance)||void 0===c?void 0:c.EX.toFixed(1),"%"),backgroundColor:d.palette.property.orgSecondary,color:d.palette.property.org})})]})}));function sd(e){var t,n,r,i,o=(r=e.damageType,i=e.resistance,r&&i?100*(r.EM+r.TH+r.KI+r.EX)/(r.EM*(100-i.EM)+r.TH*(100-i.TH)+r.KI*(100-i.KI)+r.EX*(100-i.EX)):1);return 1!==o&&o?e.passiveBonus||e.activeBonus?"".concat(((null===(n=e.resistance)||void 0===n?void 0:n.HP)*o).toFixed(0)," + ").concat((e.passiveBonus*o+e.activeBonus*o).toFixed(1),"/s"):"".concat(((null===(t=e.resistance)||void 0===t?void 0:t.HP)*o).toFixed(0)," "):""}function ld(e){var t,n;return e.label?e.label:e.passiveBonus||e.activeBonus?"".concat((null===(n=e.resistance)||void 0===n?void 0:n.HP).toFixed(0)," + ").concat((e.passiveBonus+e.activeBonus).toFixed(1),"/s"):"".concat((null===(t=e.resistance)||void 0===t?void 0:t.HP).toFixed(0)," ")}var ud=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=document.createElement("div");e.appendChild(t);var n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n}(),cd=Hn((function(e){return{root:{width:"100%"},popperPaper:{width:300,overflow:"hidden"},popperChild:{width:300+ud,maxHeight:400,overflowY:"auto",overflowX:"hidden",paddingRight:ud},listItem:{padding:0}}}));function dd(e){var t=cd();return(0,oa.jsx)(Zl,{className:t.list,component:"div",children:hd.map((function(n){return(0,oa.jsx)(wi,{className:t.listItem,button:!0,onClick:function(){e.setDamageType((0,Zn.Z)({},n))},children:(0,oa.jsx)(ad,{label:n.name,resistance:n})},n.name)}))})}function fd(e){var n=Lr(),r=cd(),i=(0,t.useRef)(null),o=(0,t.useState)(!1),a=(0,fn.Z)(o,2),s=a[0],l=a[1];return(0,oa.jsx)(zs,{onClickAway:function(){l(!1)},children:(0,oa.jsxs)("div",{className:r.root,children:[(0,oa.jsx)("div",{ref:i,onClick:function(){l(!s)},children:(0,oa.jsx)(ad,{label:e.damageType.name||"Omni",Icon:(0,oa.jsx)("div",{style:{height:24},children:(0,oa.jsx)(td,{color:n.palette.text.primary})}),resistance:e.damageType,button:!0})}),(0,oa.jsx)(Xo,{open:s,anchorEl:i.current,placement:"bottom",children:(0,oa.jsx)(Vr,{className:r.popperPaper,elevation:3,children:(0,oa.jsx)("div",{className:r.popperChild,children:(0,oa.jsx)(dd,{setDamageType:e.setDamageType})})})})]})})}var hd=[{name:"Omni",EM:25,TH:25,KI:25,EX:25},{name:"Amarr",EM:60,TH:40,KI:0,EX:0},{name:"Minmatar",EM:25,TH:25,KI:25,EX:25},{name:"Caldari",EM:25,TH:25,KI:25,EX:25},{name:"Gallente",EM:25,TH:40,KI:60,EX:25},{name:"Angel Cartel",EM:7,TH:9,KI:22,EX:62},{name:"Blood Raiders",EM:50,TH:48,KI:1,EX:1},{name:"Drones",EM:6,TH:6,KI:20,EX:68},{name:"EoM",EM:0,TH:26,KI:74,EX:0},{name:"Guristas",EM:2,TH:18,KI:79,EX:1},{name:"Mercenaries",EM:51,TH:9,KI:33,EX:7},{name:"Mordu's Region",EM:30,TH:0,KI:70,EX:0},{name:"Sansha",EM:53,TH:47,KI:0,EX:0},{name:"Blood",EM:0,TH:55,KI:45,EX:0},{name:"Electro Magnetic",EM:100,TH:0,KI:0,EX:0},{name:"Thermal",EM:0,TH:100,KI:0,EX:0},{name:"Kinetic",EM:0,TH:0,KI:100,EX:0},{name:"Explosive",EM:0,TH:0,KI:0,EX:100}];function pd(e){var n=Lr(),r=(0,t.useState)({EM:25,TH:25,KI:25,EX:25}),i=(0,fn.Z)(r,2),o=i[0],a=i[1];return(0,oa.jsx)(t.Fragment,{children:(0,oa.jsxs)(Gu,{container:!0,children:[(0,oa.jsx)(ad,{variant:"shield",Icon:(0,oa.jsx)("div",{style:{height:24},children:(0,oa.jsx)(Jc,{color:n.palette.text.primary})}),tooltip:vd(e.stat.defense,o),resistance:e.stat.defense.resistance.shield,passiveBonus:e.stat.defense.passive.shieldBonus,activeBonus:e.stat.defense.active.shieldBonus,damageType:o}),(0,oa.jsx)(ad,{variant:"armor",Icon:(0,oa.jsx)("div",{style:{height:24},children:(0,oa.jsx)($c,{color:n.palette.text.primary})}),resistance:e.stat.defense.resistance.armor,activeBonus:e.stat.defense.active.armorBonus,damageType:o}),(0,oa.jsx)(ad,{variant:"structure",Icon:(0,oa.jsx)("div",{style:{height:24},children:(0,oa.jsx)(ed,{color:n.palette.text.primary})}),resistance:e.stat.defense.resistance.structure,activeBonus:e.stat.defense.active.structureBonus,damageType:o}),(0,oa.jsx)(fd,{damageType:o,setDamageType:a})]})})}function vd(e,t){var n=function(e,t){return e&&t?100*(e.EM+e.TH+e.KI+e.EX)/(e.EM*(100-t.EM)+e.TH*(100-t.TH)+e.KI*(100-t.KI)+e.EX*(100-t.EX)):1}(t,e.resistance.shield);return n?(0,oa.jsx)("span",{style:{whiteSpace:"pre-line"},children:"Passive +".concat(e.passive.shieldBonus.toFixed(1)," HP/s \n  Active +").concat(e.active.shieldBonus.toFixed(1)," HP/s\n  Passive +").concat((e.passive.shieldBonus*n).toFixed(1)," EHP/s \n  Active +").concat((e.active.shieldBonus*n).toFixed(1)," EHP/s")}):""}var md=function(e){return(0,oa.jsxs)(ia.Z,{children:[(0,oa.jsx)("line",{x1:"5.284",y1:"12.303",x2:"15.248",y2:"7.431",strokeWidth:"2",stroke:e.color||"#000000",strokeLinecap:"round"}),(0,oa.jsx)("path",{d:" M 7.734 10.073 L 7.761 9.55 L 9.413 8.725 L 9.688 8.092 L 14.835 6 Q 15.523 5.697 16.294 6 Q 17.064 6.303 18.33 8.092 L 16.459 10.514 L 17.174 10.817 L 17.174 11.642 L 16.459 12.303 L 15.908 12.303 L 15.771 12.716 L 14.835 13.404 L 14.835 14.725 L 15.55 15.055 L 15.55 15.633 L 16.459 16.018 L 16.459 16.514 L 11.615 18.798 L 10.486 18.55 L 9.413 18.55 L 8.284 17.807 L 8.284 17.257 L 7.761 16.844 L 9.11 15.633 L 9.688 15.248 L 10.651 14.725 L 10.651 12.716 L 11.45 12.303 L 11.45 11.862 L 10.486 12.303 L 10.651 11.642 L 9.688 12.138 L 8.477 11.862 L 7.734 10.073 Z ",fill:e.color||"#000000"})]})},gd=function(e){return(0,oa.jsx)(ia.Z,{children:(0,oa.jsx)("path",{d:" M 9.589 13.688 L 9.364 14.101 L 10.819 14.79 L 10.819 15.552 L 8.081 15.552 L 7.343 16.019 L 7.343 17.59 L 16.708 17.59 L 18.766 16.019 L 18.766 15.257 L 17.95 14.79 L 18.553 13.363 L 18.979 12.316 L 7.542 6.41 L 5.021 11.36 L 9.589 13.688 Z ",fill:e.color||"#000000"})})},yd=function(e){return(0,oa.jsxs)(ia.Z,{children:[(0,oa.jsx)("path",{d:" M 6.635 7.496 C 7.188 5.819 8.854 4.859 10.353 5.353 C 11.853 5.847 12.621 7.61 12.068 9.288 C 11.515 10.965 9.849 11.925 8.349 11.431 C 6.85 10.937 6.082 9.174 6.635 7.496 Z ",fill:"none",strokeWidth:"2",stroke:e.color||"#000000"}),(0,oa.jsx)("path",{d:" M 19.368 9.482 Q 19.128 8.823 18.536 8.151 L 12.74 7.818 L 11.895 7.426 L 11.532 9.871 L 9.57 11.411 L 7.125 10.596 L 6.129 11.139 L 3.955 10.384 Q 2.899 10.958 2.929 12.679 L 16.634 18.777 L 17.359 17.901 L 18.536 18.264 Q 19.351 17.751 18.989 16.392 L 17.812 16.09 L 17.812 15.426 L 9.027 12.135 L 9.027 11.984 L 10.838 11.984 L 11.895 11.743 L 18.536 12.528 Q 19.294 11.724 19.476 10.898 L 20.8 10.898 Q 21.344 10.203 20.8 9.539 L 19.368 9.482 Z ",fill:e.color||"#000000"})]})},bd=function(e){return(0,oa.jsxs)(ia.Z,{children:[(0,oa.jsx)("path",{d:" M 5.97 12 C 5.97 8.72 8.672 6.057 12 6.057 C 15.328 6.057 18.03 8.72 18.03 12 C 18.03 15.28 15.328 17.943 12 17.943 C 8.672 17.943 5.97 15.28 5.97 12 Z ",fill:"none",strokeWidth:"1",strokeLinecap:"square",stroke:e.color||"#000000"}),(0,oa.jsx)("line",{x1:"7.281",y1:"6.953",x2:"9.328",y2:"9.164",strokeWidth:"2",strokeLinecap:"square",stroke:e.color||"#000000"}),(0,oa.jsx)("line",{x1:"16.719",y1:"6.953",x2:"14.602",y2:"9.164",strokeWidth:"2",strokeLinecap:"square",stroke:e.color||"#000000"}),(0,oa.jsx)("line",{x1:"9.328",y1:"14.789",x2:"7.281",y2:"17.047",strokeLinecap:"square",strokeWidth:"2",stroke:e.color||"#000000"}),(0,oa.jsx)("line",{x1:"14.602",y1:"14.789",x2:"16.719",y2:"17.047",strokeWidth:"2",strokeLinecap:"square",stroke:e.color||"#000000"})]})},_d=function(e){return(0,oa.jsxs)(ia.Z,{children:[(0,oa.jsx)("path",{d:" M 14.484 4.922 L 11.76 11.074 L 15.012 11.074 L 10.441 19.002 L 19.195 9.879 L 14.906 9.879 L 19.635 4.922 L 14.484 4.922 Z ",fill:e.color||"#000000"}),(0,oa.jsx)("line",{x1:"7.041",y1:"6.915",x2:"9.635",y2:"9.728",strokeWidth:"2",stroke:e.color||"#000000"}),(0,oa.jsx)("line",{x1:"9.635",y1:"14.118",x2:"7.041",y2:"17.009",strokeWidth:"2",stroke:e.color||"#000000"}),(0,oa.jsx)("line",{x1:"15.844",y1:"16.281",x2:"16.479",y2:"17.009",strokeWidth:"2",stroke:e.color||"#000000"})]})},xd=(0,rs.Z)("getDroneAccracy_getAccuracyModifier"),wd=(0,rs.Z)("getTurretAcurracy_trackingPart"),Sd=(0,rs.Z)("getTurretAcurracy_distancePart"),kd=(0,rs.Z)("getTurretAcurracy_angularVelocuty"),Cd=(0,rs.Z)("getTurretAcurracy_innerProduct"),Ed=(0,rs.Z)("getTurretAcurracy_validateVector"),Td=(0,rs.Z)("common_makeUnitVector"),Pd=(0,rs.Z)("common_makeRandomUnitVector"),Id=(0,rs.Z)("common_getVelocity"),Rd=function(){function e(){(0,gn.Z)(this,e)}return(0,yn.Z)(e,null,[{key:"getAmbientChargeRateMath",value:function(e,t,n){return 10*e/n*(Math.sqrt(t/e)-t/e)||0}},{key:"getTurretAcurracy",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=n.summary.location.vector,a=r.summary.location.vector,s={x:r.summary.location.anchors.anchor1X-n.summary.location.anchors.anchor1X,y:r.summary.location.anchors.anchor1Y-n.summary.location.anchors.anchor1Y},l=1e3*Math.sqrt(Math.pow(s.x,2)+Math.pow(s.y,2))/100,u=t.range.tracking*(4e4/t.range.signatureResolution),c=r.summary.capacity.misc.signatureRadius,d=(0,ns.Z)(e,kd)[kd](l,s,o,a),f=(0,ns.Z)(e,wd)[wd](d,u,c),h=Math.pow(.5,f),p=e.getRangeModifier(t,n,r);return i.push({type:"turret_accuracy",value:(h*p).toFixed(3),payload:{distance:l,optimalRange:t.range.optimalRange,falloffRange:t.range.falloffRange,tracking:t.range.tracking,signatureRadius:c,angularVelocity:d}}),(h*p).toFixed(3)}},{key:"getLauncherAccuracy",value:function(e,t,n){var r={x:n.summary.location.anchors.anchor1X-t.summary.location.anchors.anchor1X,y:n.summary.location.anchors.anchor1Y-t.summary.location.anchors.anchor1Y},i=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2))/100;return e.range.optimalRange<1e3*i?0:1}},{key:"getDroneAccuracy",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=(0,ns.Z)(e,Id)[Id](r),a=(0,ns.Z)(e,Pd)[Pd](),s=t.capacity.propulsion.maximumVelocity,l=t.capacity.propulsion.orbitVelocity,u={summary:{location:{}}};if(t.isSentry)return u.summary.location=(0,Zn.Z)((0,Zn.Z)({},n.summary.location),{},{vector:{x:0,y:0}}),e.getTurretAcurracy(t,u,r,i);if(s<o)return 0;u.summary.location={anchors:{anchor1X:r.summary.location.anchors.anchor1X+a.y*t.capacity.propulsion.orbitRange/10,anchor1Y:r.summary.location.anchors.anchor1Y+-a.x*t.capacity.propulsion.orbitRange/10},vector:{x:a.x*l/3,y:a.y*l/3}};var c=e.getTurretAcurracy(t,u,r,i),d=l<o?(0,ns.Z)(e,xd)[xd](t,o):1;return i.push({type:"drone_speculated_accuracy_modifier",value:d}),d*c}},{key:"getLauncherDamageModifier",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t.summary.capacity.misc.signatureRadius,i=e.range.explosionRadius,o=e.range.explosionVelocity,a=e.range.damageReductionFactor,s=3*Math.sqrt(Math.pow(t.summary.location.vector.x,2)+Math.pow(t.summary.location.vector.y,2)),l=r/i,u=Math.pow(r*o/(i*s),a);return n.push({type:"launcher_damage_modifier",value:Math.min(1,l,u),payload:{signatureRadius:r,explosionRadius:i,explosionVelocity:o,damageReductionFactor:a,targetVelocity:s}}),Math.min(1,l,u)}},{key:"getTurretRandomDamageModifier",value:function(){var e=Math.random();return e<.01?3:e+.49}},{key:"getRangeModifier",value:function(e,t,n){var r={x:n.summary.location.anchors.anchor1X-t.summary.location.anchors.anchor1X,y:n.summary.location.anchors.anchor1Y-t.summary.location.anchors.anchor1Y},i=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2))/100,o=e.range.optimalRange,a=e.range.falloffRange;if(1e3*i>o+3*a)return 0;var s=a,l=Math.max(0,1e3*i-o),u=Math.pow(l/s,2);return Math.pow(.5,u)}}]),e}();Object.defineProperty(Rd,xd,{writable:!0,value:function(e,t){var n=1-t/(e.capacity.propulsion.maximumVelocity-e.capacity.propulsion.orbitVelocity);return n>=1?1:n>=0?n:.01}}),Object.defineProperty(Rd,wd,{writable:!0,value:function(e,t,n){var r=t*n,i=4e4*e;return Math.pow(i/r,2)}}),Object.defineProperty(Rd,Sd,{writable:!0,value:function(e,t,n){var r=t,i=Math.max(0,1e3*n-e);return Math.pow(i/r,2)}}),Object.defineProperty(Rd,kd,{writable:!0,value:function(e,t,n,r){if((0,ns.Z)(Rd,Ed)[Ed](t)&&(0,ns.Z)(Rd,Ed)[Ed](n)&&(0,ns.Z)(Rd,Ed)[Ed](r)){var i={x:-t.y,y:t.x},o=(0,ns.Z)(Rd,Td)[Td](i),a=(0,ns.Z)(Rd,Cd)[Cd](o,r);return 3*((0,ns.Z)(Rd,Cd)[Cd](o,n)-a)/e}return!1}}),Object.defineProperty(Rd,Cd,{writable:!0,value:function(e,t){return e.x*t.x+e.y*t.y}}),Object.defineProperty(Rd,Ed,{writable:!0,value:function(e){return void 0!==e.x&&void 0!==e.y}}),Object.defineProperty(Rd,Td,{writable:!0,value:function(e){if(e.x,0===e.y)return{x:1,y:0};var t=Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2));return{x:e.x/t,y:e.y/t}}}),Object.defineProperty(Rd,Pd,{writable:!0,value:function(){var e=2*Math.PI*Math.random();return{x:Math.cos(e),y:Math.sin(e)}}}),Object.defineProperty(Rd,Id,{writable:!0,value:function(e){return 3*Math.sqrt(Math.pow(e.summary.location.vector.x,2)+Math.pow(e.summary.location.vector.y,2))}});var Od=(0,rs.Z)("damage_turrets"),Ld=(0,rs.Z)("damage_launchers"),Dd=(0,rs.Z)("damage_drones"),Nd=(0,rs.Z)("capacitor_getUseRate"),Ad=(0,rs.Z)("capacitor_getAmbientChargeRate"),Md=(0,rs.Z)("capacitor_getBoosterChargeRate"),Zd=(0,rs.Z)("defense_resistance_decimal_fix"),jd=(0,rs.Z)("defense_active"),Fd=(0,rs.Z)("defense_passive"),zd=(0,rs.Z)("miscellaneous_maximumVelocity"),Bd=(0,rs.Z)("getActivationInfo_isTypeNeedCharge"),Hd=(0,rs.Z)("getActivationInfo_isChargeNegligible"),Wd=function(){function e(){(0,gn.Z)(this,e)}return(0,yn.Z)(e,null,[{key:"stat",value:function(t){var n=e.capacitor(t);return{damage:e.damage(t),defense:e.defense(t),capacitor:(0,Zn.Z)((0,Zn.Z)({},n),{},{stableLevel:e.capacitor_stableLevel(t,n)}),engineering:e.engineering(t),resource:e.resource(t),miscellaneous:e.miscellaneous(t)}}},{key:"damage",value:function(t){if(!t.highSlots)return{turretLauncherDamage:{max:0,effective:0,alpha:0},turretLauncherRange:[],droneDamage:{max:0,effective:0,alpha:0}};var n=(0,ns.Z)(e,Od)[Od](t),r=(0,ns.Z)(e,Ld)[Ld](t),i=(0,ns.Z)(e,Dd)[Dd](t),o=[].concat((0,nr.Z)(n),(0,nr.Z)(r)).map((function(t){return e.damage_getSummary(t.item,t.charge)})),a=o.reduce((function(e,t){var n=t.damagePerAct.alpha,r=n/t.activationInfo.duration||0,i=n/t.activationInfo.e_duration||0;return{max:e.max+r,effective:e.effective+i,alpha:e.alpha+n}}),{max:0,effective:0,alpha:0}),s=o.reduce((function(e,t){var n=t.range.optimalRange,r=t.range.falloffRange,i=e.find((function(e){return e.optimalRange===n&&e.falloffRange===r}));return i?i.debug.push(t.slot):e.push({optimalRange:n,falloffRange:r,debug:[t.slot]}),e}),[]),l=i.map((function(t){return e.damage_getSummary(t.item,t.item)}));return{turretLauncherDamage:a,turretLauncherRange:s,droneDamage:l.reduce((function(e,t){var n=t.typeCount,r=t.damagePerAct.alpha,i=r/t.activationInfo.duration||0,o=r/t.activationInfo.e_duration||0;return{max:e.max+i*n,effective:e.effective+o,alpha:e.alpha+r}}),{max:0,effective:0,alpha:0}),damageSummaries:[].concat((0,nr.Z)(o),(0,nr.Z)(l))}}},{key:"capacitor",value:function(t){if(!t)return{ambientChargeRate:0,boosterChargeRate:0,activationUseRate:0};var n=[],r=ya.Z.mapSlots(t,(function(e){return e}),{isIterate:{highSlots:!0,midSlots:!0,lowSlots:!0}}).reduce((function(t,r){var i=(0,ns.Z)(e,Nd)[Nd](r);return i>0&&n.push({typeName:r.item.typeName,capacitorUsePerSec:i,dominID:r.item.domainID}),t+i}),0),i=(0,ns.Z)(e,Ad)[Ad](t,25),o=(0,ns.Z)(e,Md)[Md](t);return n.push({activationUseRate:r,ambientChargeRate:i,boosterChargeRate:o}),{ambientChargeRate:i,boosterChargeRate:o,activationUseRate:r}}},{key:"capacitor_stableLevel",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===(n=t.ship)||void 0===n||!n.typeID)return 0;for(var i=r||e.capacitor(t),o=gs(t.ship,482),a=gs(t.ship,55)/1e3,s=[],l=200;l<1001;l++){var u=o*(l/1e3);s.push({capacitorLevel:l/10,delta:e.getAmbientChargeRateMath(o,u,a)+i.boosterChargeRate-i.activationUseRate})}var c=s.sort((function(e,t){return e.delta-t.delta})).filter((function(e){return e.delta>=0}));return void 0===c[0]?0:c[0].capacitorLevel}},{key:"capacitor_getBonusPerAct_self",value:function(e,t){return e&&t?gs(t,67):{capacitorBonus:0}}},{key:"defense",value:function(t){return t&&t.ship?{resistance:e.defense_resistance(t),active:(0,ns.Z)(e,jd)[jd](t),passive:(0,ns.Z)(e,Fd)[Fd](t)}:{resistance:{armor:{HP:0,EM:0,TH:0,KI:0,EX:0},shield:{HP:0,EM:0,TH:0,KI:0,EX:0},structure:{HP:0,EM:0,TH:0,KI:0,EX:0}},active:{shieldBonus:0,armorBonus:0,structureBonus:0},passive:{shieldBonus:0}}}},{key:"engineering",value:function(e){var t;if(null===(t=e.ship)||void 0===t||!t.typeID)return{pg:{load:0,output:0},cpu:{load:0,output:0}};var n=gs(e.ship,15),r=gs(e.ship,11),i=gs(e.ship,49),o=gs(e.ship,48);return{pg:{load:Number(n.toFixed(1)),output:r},cpu:{load:Number(i.toFixed(1)),output:o}}}},{key:"resource",value:function(e){if(!e.ship||!e.ship.typeAttributesStats)return{capacity:{turret:0,launcher:0,calibration:0,droneBandwidth:0,droneBay:0,droneActive:5},load:{turret:0,launcher:0,calibration:0,droneBandwidth:0,droneBay:0,droneActive:0}};var t=gs(e.ship,102),n=gs(e.ship,101),r=gs(e.ship,1132),i=gs(e.ship,283),o=gs(e.ship,1271),a=e.highSlots.reduce((function(e,t){var n,r;return!(null===t||void 0===t||null===(n=t.item)||void 0===n||null===(r=n.typeEffectsStats)||void 0===r||!r.find((function(e){return 42===e.effectID})))&&"offline"!==t.item.typeState?++e:e}),0),s=e.highSlots.reduce((function(e,t){var n,r;return!(null===t||void 0===t||null===(n=t.item)||void 0===n||null===(r=n.typeEffectsStats)||void 0===r||!r.find((function(e){return 40===e.effectID})))&&"offline"!==t.item.typeState?++e:e}),0),l=e.rigSlots.reduce((function(e,t){var n=gs(t.item,1153);return n&&"offline"!==t.item.typeState?e+n:e}),0),u=e.droneSlots.reduce((function(e,t){var n=gs(t.item,1272);return n&&"activation"===t.item.typeState?e+n*t.item.typeCount:e}),0);return{capacity:{turret:t,launcher:n,calibration:r,droneBay:i,droneBandwidth:o,droneActive:5},load:{turret:a,launcher:s,calibration:l,droneBay:e.droneSlots.reduce((function(e,t){var n=t.item.volume;return n&&"offline"!==t.item.typeState?e+n*t.item.typeCount:e}),0),droneBandwidth:u,droneActive:e.droneSlots.reduce((function(e,t){return"activation"===t.item.typeState?e+(t.item.typeCount||0):e}),0)}}}},{key:"miscellaneous",value:function(t){var n;if(null===t||void 0===t||null===(n=t.ship)||void 0===n||!n.typeID)return{sensor:{scanResolution:0,maximumLockedTarget:0,maximumTargetingRange:0,strength:{gravimetric:0,magnetometric:0,ladar:0,radar:0}},propulsion:{inertialModifier:0,maximumVelocity:0,warpSpeedMultiplier:0},misc:{cargoBayCapacity:0,signatureRadius:0}};var r=t.ship,i=gs(r,564),o=gs(r,552),a=gs(r,211),s=gs(r,210),l=gs(r,209),u=gs(r,208);return{sensor:{scanResolution:i,maximumLockedTarget:gs(r,192),maximumTargetingRange:gs(r,76),strength:{gravimetric:a,magnetometric:s,ladar:l,radar:u}},propulsion:{inertialModifier:gs(r,70),maximumVelocity:(0,ns.Z)(e,zd)[zd](t),warpSpeedMultiplier:gs(r,600)},misc:{signatureRadius:o,cargoBayCapacity:gs(r.capacity)}}}},{key:"getActivationInfo",value:function(t,n){if(!t)return{duration:1/0,e_duration:1/0,activationLimit:0,reloadTime:0,activationCost:0};var r=gs(t,6)||0,i=(gs(t,1795)||void 0)/1e3,o=(gs(t,73)||gs(t,51))/1e3,a=(0,ns.Z)(e,Hd)[Hd](t);if(!i||!(0,ns.Z)(e,Bd)[Bd](t))return{duration:o,e_duration:o,activationLimit:1/0,reloadTime:0,activationCost:r};if(!ya.Z.validateChargeSlot({item:t,charge:n})&&!a)return{duration:1/0,e_duration:1/0,activationLimit:0,reloadTime:0,activationCost:r};var s=t.capacity,l=n.volume,u=gs(t,56),c=u&&l*u||0,d=Math.floor(s/c);return{duration:o,e_duration:o+(i&&s&&l?i/d:0),activationLimit:d,reloadTime:i,activationCost:r,isChargeNegligible:a}}}]),e}();Wd.defaultStat={damage:{turretLauncherDamage:{max:0,effective:0,alpha:0},turretLauncherRange:[],droneDamage:{max:0,effective:0,alpha:0}},defense:{resistance:{armor:{HP:0,EM:0,TH:0,KI:0,EX:0},shield:{HP:0,EM:0,TH:0,KI:0,EX:0},structure:{HP:0,EM:0,TH:0,KI:0,EX:0}},active:{shieldBonus:0,armorBonus:0,structureBonus:0},passive:{shieldBonus:0}},capacitor:{ambientChargeRate:0,boosterChargeRate:0,activationUseRate:0,stableLevel:0},resource:{capacity:{turret:0,launcher:0,calibration:0,droneBandwidth:0,droneBay:0,droneActive:5},load:{turret:0,launcher:0,calibration:0,droneBandwidth:0,droneBay:0,droneActive:0}},engineering:{pg:{load:0,output:0},cpu:{load:0,output:0}},miscellaneous:{sensor:{scanResolution:0,maximumLockedTarget:0,maximumTargetingRange:0,strength:{gravimetric:0,magnetometric:0,ladar:0,radar:0}},propulsion:{inertialModifier:0,maximumVelocity:0,warpSpeedMultiplier:0},misc:{cargoBayCapacity:0,signatureRadius:0}}},Object.defineProperty(Wd,Od,{writable:!0,value:function(e){return ya.Z.mapSlots(e,(function(e){var t,n,r=!(null===e||void 0===e||null===(t=e.item)||void 0===t||null===(n=t.typeEffectsStats)||void 0===n||!n.find((function(e){return 42===e.effectID}))),i="activation"===e.item.typeState;return r&&ya.Z.validateChargeSlot(e)&&i?e:void 0}),{isIterate:{highSlots:!0}}).filter((function(e){return!!e}))}}),Object.defineProperty(Wd,Ld,{writable:!0,value:function(e){return ya.Z.mapSlots(e,(function(e){var t,n,r=!(null===e||void 0===e||null===(t=e.item)||void 0===t||null===(n=t.typeEffectsStats)||void 0===n||!n.find((function(e){return 40===e.effectID}))),i="activation"===e.item.typeState;return r&&ya.Z.validateChargeSlot(e)&&i?e:void 0}),{isIterate:{highSlots:!0}}).filter((function(e){return!!e}))}}),Object.defineProperty(Wd,Dd,{writable:!0,value:function(e){return ya.Z.mapSlots(e,(function(e){return"activation"===e.item.typeState?e:void 0}),{isIterate:{droneSlots:!0}}).filter((function(e){return!!e}))}}),Wd.damage_getSummary=function(e,t){if(!e)return!1;var n=Wd.damage_damagePerAct(e,t);return{activationInfo:Wd.getActivationInfo(e,t),damagePerAct:n,range:Wd.damage_range(e,t),typeCount:e.typeCount,slot:{item:e,charge:t}}},Wd.damage_damagePerAct=function(e,t){var n=gs(e,64)||1,r=gs(t,114),i=gs(t,118),o=gs(t,117),a=gs(t,116);return{alpha:n*(r+i+o+a),EM:r*n,TH:i*n,KI:o*n,EX:a*n}},Wd.damage_range=function(e,t){var n,r,i=!(null===e||void 0===e||null===(n=e.typeEffectsStats)||void 0===n||!n.find((function(e){return 42===e.effectID}))),o=!(null===e||void 0===e||null===(r=e.typeEffectsStats)||void 0===r||!r.find((function(e){return 40===e.effectID}))),a=void 0!==(null===e||void 0===e?void 0:e.typeDroneSize);return i||a?{optimalRange:gs(e,54),falloffRange:gs(e,158),tracking:gs(e,160),signatureResolution:gs(e,620)}:o?{optimalRange:gs(t,37)*(gs(t,281)/1e3),falloffRange:0,explosionVelocity:gs(t,653),explosionRadius:gs(t,654),damageReductionFactor:gs(t,1353)}:{optimalRange:0,falloffRange:0}},Object.defineProperty(Wd,Nd,{writable:!0,value:function(e){if("activation"!==e.item.typeState)return 0;var t=gs(e.item,6);return void 0===t?0:t/Wd.getActivationInfo(e.item,e.charge).e_duration}}),Object.defineProperty(Wd,Ad,{writable:!0,value:function(e,t){var n=Wd.capacitor_getChargeInfo(e),r=n.HP,i=n.bonusRate,o=r*t/100;return Wd.getAmbientChargeRateMath(r,o,i)}}),Wd.capacitor_getChargeInfo=function(e){return{HP:gs(e.ship,482)||0,bonusRate:gs(e.ship,55)/1e3||0}},Object.defineProperty(Wd,Md,{writable:!0,value:function(e){return ya.Z.mapSlots(e,(function(e){return e}),{isIterate:{midSlots:!0}}).filter((function(e){var t;return!(null===e||void 0===e||null===(t=e.item)||void 0===t||!t.typeEffectsStats)&&e.item.typeEffectsStats.find((function(e){return 48===e.effectID}))})).reduce((function(e,t){var n=Wd.getActivationInfo(t.item,t.charge);return e+(Wd.capacitor_getBonusPerAct_self(t.item,t.charge)/n.e_duration||0)}),0)}}),Wd.defense_resistance=function(e){if(!e.ship||!e.ship.typeAttributesStats)return{armor:{HP:0,EM:0,TH:0,KI:0,EX:0},shield:{HP:0,EM:0,TH:0,KI:0,EX:0},structure:{HP:0,EM:0,TH:0,KI:0,EX:0}};var t=e.ship.typeAttributesStats,n=t.find((function(e){return 265===e.attributeID})),r=t.find((function(e){return 267===e.attributeID})),i=t.find((function(e){return 270===e.attributeID})),o=t.find((function(e){return 269===e.attributeID})),a=t.find((function(e){return 268===e.attributeID})),s=t.find((function(e){return 263===e.attributeID})),l=t.find((function(e){return 271===e.attributeID})),u=t.find((function(e){return 274===e.attributeID})),c=t.find((function(e){return 273===e.attributeID})),d=t.find((function(e){return 272===e.attributeID})),f=t.find((function(e){return 479===e.attributeID})).value/1e3||0,h=t.find((function(e){return 9===e.attributeID})),p=t.find((function(e){return 113===e.attributeID})),v=t.find((function(e){return 110===e.attributeID})),m=t.find((function(e){return 109===e.attributeID})),g=t.find((function(e){return 111===e.attributeID}));return{armor:{HP:n.value,EM:(0,ns.Z)(Wd,Zd)[Zd](r),TH:(0,ns.Z)(Wd,Zd)[Zd](i),KI:(0,ns.Z)(Wd,Zd)[Zd](o),EX:(0,ns.Z)(Wd,Zd)[Zd](a)},shield:{HP:s.value,EM:(0,ns.Z)(Wd,Zd)[Zd](l),TH:(0,ns.Z)(Wd,Zd)[Zd](u),KI:(0,ns.Z)(Wd,Zd)[Zd](c),EX:(0,ns.Z)(Wd,Zd)[Zd](d),bonusRate:f},structure:{HP:h.value,EM:(0,ns.Z)(Wd,Zd)[Zd](p),TH:(0,ns.Z)(Wd,Zd)[Zd](v),KI:(0,ns.Z)(Wd,Zd)[Zd](m),EX:(0,ns.Z)(Wd,Zd)[Zd](g)}}},Object.defineProperty(Wd,Zd,{writable:!0,value:function(e){var t=100-100*e.value;return t>0?t:0}}),Wd.defense_getSummary=function(e,t){return!!e&&{activationInfo:Wd.getActivationInfo(e,t),bonusPerAct:Wd.defense_getBonusPerAct(e,t),slot:{item:e,charge:t}}},Wd.defense_getBonusPerAct=function(e,t){return e?{shield:gs(e,68)||0,armor:gs(e,84)||0,structure:gs(e,83)||0}:{shieldBonus:0,armorBonus:0,structureBonus:0}},Object.defineProperty(Wd,jd,{writable:!0,value:function(e){var t={shieldBonus:0,armorBonus:0,structureBonus:0};return e.ship&&e.ship.typeAttributesStats?(ya.Z.mapSlots(e,(function(e){if(e.item.typeAttributesStats){var n=gs(e.item,73),r=gs(e.item,68);if(r)t.shieldBonus+=r/n*1e3;else{var i=gs(e.item,84);if(i)t.armorBonus+=i/n*1e3;else{var o=gs(e.item,83);o&&(t.structureBonus+=o/n*1e3)}}}}),{isIterate:{midSlots:!0,lowSlots:!0}}),t):t}}),Object.defineProperty(Wd,Fd,{writable:!0,value:function(e){var t={shieldBonus:0};if(!e.ship||!e.ship.typeAttributesStats)return t;var n=e.ship.typeAttributesStats,r=n.find((function(e){return 263===e.attributeID})).value,i=n.find((function(e){return 479===e.attributeID})).value/1e3||0,o=Rd.getAmbientChargeRateMath(r,.25*r,i);return t.shieldBonus=o,t}}),Object.defineProperty(Wd,zd,{writable:!0,value:function(e){var t=ya.Z.mapSlots(e,(function(e){var t,n,r=!(null===(t=e.item)||void 0===t||null===(n=t.typeEffectsStats)||void 0===n||!n.find((function(e){return[6730,6731].includes(e.effectID)})));return"activation"===e.item.typeState&&r?e.item:void 0}),{isIterate:{midSlots:!0}}).filter((function(e){return!!e})),n=gs(e.ship,37);if(0===t.length)return n;var r=gs(t[0],20)/100,i=gs(t[0],567),o=i/3,a=gs(e.ship,4);return n*(1+r*i/(ya.Z.mapSlots(e,(function(e){return e}),{isIterate:{highSlots:!0,midSlots:!0,lowSlots:!0}}).reduce((function(e,t){return t.item.mass?e+t.item.mass:e}),0)+o+a))}}),Object.defineProperty(Wd,Bd,{writable:!0,value:function(e){if(!e||!e.typeEffectsStats)return!1;var t=[42,40,48,4936,5275];return e.typeEffectsStats.reduce((function(e,n){return!!t.includes(n.effectID)||e}),!1)}}),Object.defineProperty(Wd,Hd,{writable:!0,value:function(e){var t=[4936,5275];return e.typeEffectsStats.reduce((function(e,n){return!!t.includes(n.effectID)||e}),!1)}}),Wd.getAmbientChargeRateMath=function(e,t,n){return 10*e/n*(Math.sqrt(t/e)-t/e)||0};var Ud=Hn((function(e){return{root:{padding:0,marginBottom:8,width:"100%",paddingLeft:10},boldTypography:{fontSize:14,fontWeight:700}}})),Gd=function(e){var t=Ud();return(0,oa.jsx)(Gu,{style:{flexBasis:140,maxWidth:140},children:(0,oa.jsx)(du,{label:(0,oa.jsx)(Ii,{className:t.boldTypography,noWrap:!0,children:e.children}),value:e.value||0,InputProps:{readOnly:!0,disableUnderline:!0},inputProps:{style:{padding:"2px 0px 2px 0px",fontSize:14,fontWeight:700}}})})};function qd(e){var n,r,i,o,a,s,l,u=Ud(),c=(0,t.useState)(Wd.defaultStat.miscellaneous),d=(0,fn.Z)(c,2),f=d[0],h=d[1];return(0,t.useEffect)((function(){h(e.stat.miscellaneous)}),[e.stat.miscellaneous]),(0,oa.jsx)(wi,{className:u.root,children:(0,oa.jsxs)(Gu,{justifyContent:"center",container:!0,children:[(0,oa.jsx)(Gd,{value:f.sensor.maximumLockedTarget,children:"Max Locked Target"}),(0,oa.jsx)(Gd,{value:f.sensor.maximumTargetingRange,children:"Max Trageting Range (m)"}),(0,oa.jsx)(Gd,{value:f.sensor.scanResolution,children:"Scan Resolution (mm)"}),(0,oa.jsx)(Gd,{value:null===(n=f.sensor.strength.gravimetric)||void 0===n?void 0:n.toFixed(1),children:"Gravimetric (point)"}),(0,oa.jsx)(Gd,{value:null===(r=f.sensor.strength.magnetometric)||void 0===r?void 0:r.toFixed(1),children:"Magnetometric (point)"}),(0,oa.jsx)(Gd,{value:null===(i=f.sensor.strength.ladar)||void 0===i?void 0:i.toFixed(1),children:"Ladar (point)"}),(0,oa.jsx)(Gd,{value:null===(o=f.sensor.strength.radar)||void 0===o?void 0:o.toFixed(1),children:"Radar (point)"}),(0,oa.jsx)(Gd,{value:null===(a=f.propulsion.maximumVelocity)||void 0===a?void 0:a.toFixed(2),children:"Max Velocity (m/sec)"}),(0,oa.jsx)(Gd,{value:null===(s=f.propulsion.inertialModifier)||void 0===s?void 0:s.toFixed(6),children:"Inertia Modifier (x)"}),(0,oa.jsx)(Gd,{value:f.propulsion.warpSpeedMultiplier,children:"Warp Speed Modifier (x)"}),(0,oa.jsx)(Gd,{value:null===(l=f.misc.signatureRadius)||void 0===l?void 0:l.toFixed(2),children:"Signature Radius (m)"}),(0,oa.jsx)(Gu,{style:{flexBasis:140},item:!0})]})},"onlyOne")}var Vd=function(e){var t=Lr();return(0,oa.jsx)(od,{value:0,label:e.label,Icon:(0,oa.jsx)(ra,{title:"Turret Hardpoints",placement:"left",arrow:!0,children:(0,oa.jsx)("div",{style:{height:24},children:(0,oa.jsx)(md,{color:t.palette.text.primary})})}),typographyProps:{style:{fontSize:14,fontWeight:700,color:t.palette.text.primary}}})},Yd=function(e){var t=Lr();return(0,oa.jsx)(od,{value:0,label:e.label,Icon:(0,oa.jsx)(ra,{title:"Launcher Hardpoints",placement:"left",arrow:!0,children:(0,oa.jsx)("div",{style:{height:24},children:(0,oa.jsx)(gd,{color:t.palette.text.primary})})}),typographyProps:{style:{fontSize:14,fontWeight:700,color:t.palette.text.primary}}})},Kd=function(e){var t=Lr();return(0,oa.jsx)(od,{value:0,label:e.label,Icon:(0,oa.jsx)(ra,{title:"Calibration",placement:"left",arrow:!0,children:(0,oa.jsx)("div",{style:{height:24},children:(0,oa.jsx)(yd,{color:t.palette.text.primary})})}),typographyProps:{style:{fontSize:14,fontWeight:700,color:t.palette.text.primary}}})},Xd=function(e){var t=Lr();return(0,oa.jsx)(od,{value:e.value,label:e.label,Icon:(0,oa.jsx)(ra,{title:"Drone Bandwidth",placement:"left",arrow:!0,children:(0,oa.jsx)("div",{style:{height:24},children:(0,oa.jsx)(_d,{color:e.isError?t.palette.property.red:t.palette.text.primary})})}),typographyProps:{style:{fontSize:14,fontWeight:700,color:e.isError?t.palette.property.red:t.palette.text.primary}}})},Qd=function(e){var t=Lr();return(0,oa.jsx)(od,{value:e.value,label:e.label,Icon:(0,oa.jsx)(ra,{title:"Drone Bay",placement:"left",arrow:!0,children:(0,oa.jsx)("div",{style:{height:24},children:(0,oa.jsx)(bd,{color:e.isError?t.palette.property.red:t.palette.text.primary})})}),typographyProps:{style:{fontSize:14,fontWeight:700,color:e.isError?t.palette.property.red:t.palette.text.primary}}})},$d=Hn((function(e){return{root:{width:"100%",padding:0,margin:0},rootChild:{width:"100%",padding:"0px 0px 0px 0px"},expand:{transform:"rotate(0deg)",right:"10%",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{right:"10%",transform:"rotate(180deg)"},nested:{padding:0,margin:0,backgroundColor:e.palette.action.hover}}}));function Jd(e){var n,r=$d(),i=(0,t.useRef)(null),o=(0,t.useState)(!0),a=(0,fn.Z)(o,2),s=a[0],l=a[1],u=(0,t.useState)(Wd.defaultStat.resource.load),c=(0,fn.Z)(u,2),d=c[0],f=c[1],h=(0,t.useState)(Wd.defaultStat.resource.capacity),p=(0,fn.Z)(h,2),v=p[0],m=p[1],g=(0,t.useState)(!1),y=(0,fn.Z)(g,2),b=y[0],_=y[1];(0,t.useEffect)((function(){var e;_((null===(e=i.current)||void 0===e?void 0:e.offsetWidth)<400)}),[null===(n=i.current)||void 0===n?void 0:n.offsetWidth]),(0,t.useEffect)((function(){f(e.stat.resource.load),m(e.stat.resource.capacity)}),[e.stat]);var x=(0,t.useCallback)((function(){l(!s)}),[s]);return(0,oa.jsx)(t.Fragment,{children:(0,oa.jsxs)(Zl,{className:r.root,children:[(0,oa.jsx)(wi,{innerRef:i,className:r.rootChild,dense:!0,onClick:x,children:(0,oa.jsxs)(Gu,{container:!0,item:!0,alignContent:"center",children:[(0,oa.jsx)(Gu,{item:!0,xs:b?4:2,children:(0,oa.jsx)(Vd,{label:"".concat(d.turret,"/").concat(v.turret)})}),(0,oa.jsx)(Gu,{item:!0,xs:b?4:2,children:(0,oa.jsx)(Yd,{label:"".concat(d.launcher,"/").concat(v.launcher)})}),(0,oa.jsx)(Gu,{item:!0,xs:b?4:2,children:(0,oa.jsx)(Kd,{label:"".concat(d.calibration,"/").concat(v.calibration)})}),(0,oa.jsx)(Gu,{item:!0,xs:b?6:3,children:(0,oa.jsx)(Qd,{value:d.droneBay/v.droneBay,label:"".concat(d.droneBay,"/").concat(v.droneBay,"m3"),isError:d.droneBay>v.droneBay})}),(0,oa.jsx)(Gu,{item:!0,xs:b?6:3,children:(0,oa.jsx)(Xd,{value:d.droneBandwidth/v.droneBandwidth,label:"".concat(d.droneBandwidth,"/").concat(v.droneBandwidth,"Mbit/s"),isError:d.droneBandwidth>v.droneBandwidth})})]})}),(0,oa.jsx)(bu,{in:s,timeout:"auto",children:(0,oa.jsx)(qd,{stat:e.stat})})]})})}var ef=function(e){return(0,oa.jsx)(ia.Z,{children:(0,oa.jsx)("path",{d:" M 14.104 8.315 L 14.182 8.315 L 14.182 8.315 Q 14.328 8.013 14.606 7.554 L 14.606 7.554 L 14.606 7.554 Q 14.885 7.095 15.139 6.841 L 15.139 6.841 L 17.619 6.841 L 17.619 6.841 Q 17.18 7.651 16.726 8.828 L 16.726 8.828 L 16.726 8.828 Q 16.271 10.005 16.018 11.177 L 16.018 11.177 L 15.363 14.302 L 15.363 14.302 Q 15.305 14.595 15.305 14.819 L 15.305 14.819 L 15.305 14.819 Q 15.305 15.454 15.9 15.454 L 15.9 15.454 L 15.9 15.454 Q 16.252 15.454 16.535 15.337 L 16.535 15.337 L 16.535 17.661 L 16.535 17.661 Q 15.92 17.954 14.924 17.954 L 14.924 17.954 L 14.924 17.954 Q 12.98 17.954 12.541 16.343 L 12.541 16.343 L 12.463 16.343 L 12.463 16.343 Q 11.672 17.271 10.964 17.612 L 10.964 17.612 L 10.964 17.612 Q 10.256 17.954 9.357 17.954 L 9.357 17.954 L 9.357 17.954 Q 7.941 17.954 7.16 16.914 L 7.16 16.914 L 7.16 16.914 Q 6.379 15.874 6.379 13.999 L 6.379 13.999 L 6.379 13.999 Q 6.379 11.929 7.033 10.234 L 7.033 10.234 L 7.033 10.234 Q 7.688 8.54 8.869 7.588 L 8.869 7.588 L 8.869 7.588 Q 10.051 6.636 11.516 6.636 L 11.516 6.636 L 11.516 6.636 Q 12.385 6.636 12.995 7.017 L 12.995 7.017 L 12.995 7.017 Q 13.605 7.397 14.104 8.315 L 14.104 8.315 L 14.104 8.315 Z  M 10.656 15.581 L 10.656 15.581 L 10.656 15.581 Q 11.408 15.581 11.975 14.893 L 11.975 14.893 L 11.975 14.893 Q 12.541 14.204 12.868 12.891 L 12.868 12.891 L 12.868 12.891 Q 13.195 11.577 13.195 10.737 L 13.195 10.737 L 13.195 10.737 Q 13.195 9.956 12.883 9.487 L 12.883 9.487 L 12.883 9.487 Q 12.57 9.019 11.936 9.019 L 11.936 9.019 L 11.936 9.019 Q 11.242 9.019 10.651 9.683 L 10.651 9.683 L 10.651 9.683 Q 10.061 10.347 9.709 11.445 L 9.709 11.445 L 9.709 11.445 Q 9.357 12.544 9.357 13.716 L 9.357 13.716 L 9.357 13.716 Q 9.357 14.683 9.675 15.132 L 9.675 15.132 L 9.675 15.132 Q 9.992 15.581 10.656 15.581 Z ",fill:e.color||"#000000"})})},tf=function(e){return(0,oa.jsxs)(ia.Z,{children:[(0,oa.jsx)("line",{x1:"7.281",y1:"6.953",x2:"10.652",y2:"10.558",strokeWidth:"2",stroke:e.color}),(0,oa.jsx)("line",{x1:"16.719",y1:"6.953",x2:"13.348",y2:"10.558",strokeWidth:"2",stroke:e.color}),(0,oa.jsx)("line",{x1:"10.652",y1:"13.442",x2:"7.281",y2:"17.047",strokeWidth:"2",stroke:e.color}),(0,oa.jsx)("line",{x1:"13.348",y1:"13.442",x2:"16.719",y2:"17.047",strokeWidth:"2",stroke:e.color}),(0,oa.jsx)("path",{d:" M 9.725 12 L 12 9.725 L 14.275 12 L 12 14.275 L 9.725 12 Z ",fill:"rgb(255,255,255)"})]})},nf=Hn((function(e){return{rootPostIt:{position:"absolute",left:0},root:{width:"100%",padding:0},rootDiv:{padding:0,width:"100%",height:52,position:"relative"},label:{position:"absolute",top:2,left:6,fontSize:11,color:"#ffffff",fontWeight:700},optimalRangeLabel:{fontSize:14,fontWeight:700,color:e.palette.text.primary},rangeFont:{fontSize:14,fontWeight:700,color:e.palette.text.primary}}})),rf=function(e){var t=nf();return(0,oa.jsxs)("div",{className:t.rootPostIt,style:{width:"".concat(e.share||0,"%"),height:13*e.index+22,borderRight:"solid 1px ".concat(e.color)},children:[(0,oa.jsx)("div",{style:{backgroundColor:e.color,height:20}}),(0,oa.jsx)("div",{style:{height:13*e.index}}),e.children]})},of=function(e){var t=nf(),n=Lr();return(0,oa.jsx)(rf,{share:e.share.optimalRangeShare,index:0,color:n.palette.property.green,children:(0,oa.jsx)(Ii,{className:t.rangeFont,align:"right",children:"".concat((e.share.optimalRange/1e3).toFixed(1),"KM")})})},af=function(e){var t=nf(),n=Lr();return e.share.falloffRange>0&&(0,oa.jsx)(rf,{share:e.share.falloffRangeShare,index:1,color:n.palette.property.org,children:(0,oa.jsx)(Ii,{className:t.rangeFont,align:"right",children:"".concat(((e.share.optimalRange+e.share.falloffRange)/1e3).toFixed(1),"KM")})})};function sf(e){var n=nf(),r=Lr(),i=(0,t.useState)([]),o=(0,fn.Z)(i,2),a=o[0],s=o[1];return(0,t.useEffect)((function(){s(function(e){var t=e.reduce((function(e,t){var n=t.optimalRange+t.falloffRange;return n>e?n:e}),0);return e.map((function(e){return(0,Zn.Z)((0,Zn.Z)({},e),{},{optimalRangeShare:e.optimalRange/t*100,falloffRangeShare:(e.falloffRange+e.optimalRange)/t*100})}))}(e.stat.damage.turretLauncherRange))}),[e.stat.damage.turretLauncherRange]),a.map((function(e){return(0,oa.jsx)(wi,{className:n.root,children:(0,oa.jsxs)("div",{className:n.rootDiv,children:[(0,oa.jsx)(rf,{share:100,index:2,color:r.palette.property.greySecondary}),(0,oa.jsx)(af,{share:e}),(0,oa.jsx)(of,{share:e}),(0,oa.jsx)(Ii,{className:n.label,children:"".concat(e.debug[0].item.typeName," - ").concat(e.debug[0].charge.typeName)})]})},"".concat(e.optimalRangeShare,"/").concat(e.falloffRangeShare))}))}var lf=function(e){var t=Lr();return(0,oa.jsx)(od,{value:0,label:e.label,backgroundColor:t.palette.background.paper,Icon:(0,oa.jsx)(ra,{title:"Weapon DPS",placement:"left",arrow:!0,children:(0,oa.jsx)("div",{style:{height:24},children:(0,oa.jsx)(md,{color:t.palette.text.primary})})}),typographyProps:{style:{fontSize:14,fontWeight:700,color:t.palette.text.primary}}})},uf=function(e){var t=Lr();return(0,oa.jsx)(od,{value:0,label:e.label,backgroundColor:t.palette.background.paper,Icon:(0,oa.jsx)(ra,{title:"Alpha Damage",placement:"left",arrow:!0,children:(0,oa.jsx)("div",{style:{height:24},children:(0,oa.jsx)(ef,{color:t.palette.text.primary})})}),typographyProps:{style:{fontSize:14,fontWeight:700,color:t.palette.text.primary}}})},cf=function(e){var t=Lr();return(0,oa.jsx)(od,{value:0,label:e.label,backgroundColor:t.palette.background.paper,Icon:(0,oa.jsx)(ra,{title:"Drone DPS",placement:"left",arrow:!0,children:(0,oa.jsx)("div",{style:{height:24},children:(0,oa.jsx)(tf,{color:e.isError?t.palette.property.red:t.palette.text.primary})})}),typographyProps:{style:{fontSize:14,fontWeight:700,color:e.isError?t.palette.property.red:t.palette.text.primary}}})},df=Hn((function(e){return{root:{width:"100%",padding:0,margin:0},rootChild:{height:20,width:"100%",padding:"0px 0px 0px 0px"},nested:{padding:0,margin:0}}}));function ff(e){var n=df(),r=(Lr(),(0,t.useState)(!0)),i=(0,fn.Z)(r,2),o=i[0],a=i[1],s=(0,t.useCallback)((function(){a(!o)}),[o]);return(0,oa.jsx)(Gu,{container:!0,children:(0,oa.jsxs)(Zl,{className:n.root,children:[(0,oa.jsxs)(wi,{className:n.rootChild,dense:!0,onClick:s,children:[(0,oa.jsx)(Gu,{item:!0,xs:1}),(0,oa.jsx)(Gu,{item:!0,xs:4,children:(0,oa.jsx)(lf,{label:"".concat(e.stat.damage.turretLauncherDamage.effective.toFixed(0))})}),(0,oa.jsx)(Gu,{item:!0,xs:2,children:(0,oa.jsx)(uf,{label:"".concat(e.stat.damage.turretLauncherDamage.alpha.toFixed(0))})}),(0,oa.jsx)(Gu,{item:!0,xs:4,children:(0,oa.jsx)(cf,{label:"".concat(e.stat.damage.droneDamage.max.toFixed(0)),isError:e.stat.resource.load.droneActive>e.stat.resource.capacity.droneActive})}),(0,oa.jsx)(Gu,{item:!0,xs:1})]}),(0,oa.jsx)(bu,{in:o,timeout:"auto",children:(0,oa.jsx)(sf,{stat:e.stat})})]})})}var hf=n(3388),pf=function(e){var t=Lr();return(0,oa.jsx)(od,{value:gf(e.load,e.output),label:"".concat(yf(e.load),"/").concat(yf(e.output),"tf"),backgroundColor:t.palette.property.blueSecondary,color:t.palette.property.blue,Icon:gf(e.load,e.output)>=100&&(0,oa.jsx)(hf.Z,{style:{color:"#ffffff"},fontSize:"small"})})},vf=function(e){var t=Lr();return(0,oa.jsx)(od,{value:gf(e.load,e.output),label:"".concat(yf(e.load),"/").concat(yf(e.output),"MW"),backgroundColor:t.palette.property.redSecondary,color:t.palette.property.red,Icon:gf(e.load,e.output)>=100&&(0,oa.jsx)(hf.Z,{style:{color:"#ffffff"},fontSize:"small"})})};function mf(e){return(0,oa.jsx)(t.Fragment,{children:(0,oa.jsx)(Gu,{container:!0,children:(0,oa.jsxs)(Gu,{item:!0,xs:12,children:[(0,oa.jsx)(pf,{load:e.stat.engineering.cpu.load,output:e.stat.engineering.cpu.output}),(0,oa.jsx)(vf,{load:e.stat.engineering.pg.load,output:e.stat.engineering.pg.output})]})})})}function gf(e,t){if(!e||!t)return 0;if(e.constructor!==Number||t.constructor!==Number)return 0;var n=Number(e/t*100);return n>=100?100:n}function yf(e){return e&&e.constructor===Number?e:0}var bf=function(e){return(0,oa.jsxs)(ia.Z,{children:[(0,oa.jsx)("path",{d:" M 9.518 3.357 L 4.172 12.911 Q 5.394 15.954 9.319 16.238 L 15.148 6.712 Q 12.987 3.527 9.518 3.357 Z ",fill:e.color||"#000000"}),(0,oa.jsx)("path",{d:" M 19.828 6.712 L 12.42 6.712 L 8.991 14.346 L 12.159 14.346 L 5.096 26.546 L 19.375 11.663 L 15.058 11.663 L 19.828 6.712 Z ",fill:e.color||"#000000",strokeWidth:"1.5",stroke:e.backgroundColor||"#ffffff"})]})};function _f(e){var n=Lr(),r=(0,t.useState)(!1),i=(0,fn.Z)(r,2),o=i[0],a=i[1];return(0,oa.jsxs)(Gu,{container:!0,onMouseEnter:function(){a(!0)},onMouseLeave:function(){a(!1)},children:[(0,oa.jsx)(od,{value:0,label:"".concat((e.stat.capacitor.ambientChargeRate+e.stat.capacitor.boosterChargeRate-e.stat.capacitor.activationUseRate).toFixed(2),"GJ/s"),backgroundColor:n.palette.background.paper,Icon:(0,oa.jsx)(ra,{open:o,title:(0,oa.jsx)("span",{style:{whiteSpace:"pre-line"},children:"Passive +".concat(e.stat.capacitor.ambientChargeRate.toFixed(1)," GJ/s\n            Active +").concat(e.stat.capacitor.boosterChargeRate.toFixed(1)," GJ/s\n            Active -").concat(e.stat.capacitor.activationUseRate.toFixed(1)," GJ/s")}),placement:"left",arrow:!0,children:(0,oa.jsx)("div",{style:{height:24},children:(0,oa.jsx)(bf,{color:n.palette.text.primary,backgroundColor:n.palette.background.paper})})}),typographyProps:{style:{fontSize:14,fontWeight:700,color:n.palette.text.primary}}}),(0,oa.jsx)(od,{value:e.stat.capacitor.stableLevel,label:"".concat(e.stat.capacitor.stableLevel,"%"),backgroundColor:n.palette.property.orgSecondary,color:n.palette.property.org})]})}function xf(e){return(0,t.useEffect)((function(){var t=Wd.stat(e.fit);e.setStat(t)}),[e.fitID]),(0,oa.jsxs)(t.Fragment,{children:[(0,oa.jsx)(Jd,(0,Zn.Z)({},e)),(0,oa.jsx)(ff,(0,Zn.Z)({},e)),(0,oa.jsx)(_f,(0,Zn.Z)({},e)),(0,oa.jsx)(pd,(0,Zn.Z)({},e)),(0,oa.jsx)(mf,(0,Zn.Z)({},e))]})}var wf=Hn((function(e){return{rootAvatar:{width:20,height:20,right:0,bottom:3,fontSize:12,transition:e.transitions.create("color",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})}}}));function Sf(e){var t=wf(),n=Lr();return(0,oa.jsx)(pa,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(0,oa.jsx)(Ei,{className:t.rootAvatar,children:(0,oa.jsx)(vi,{style:{backgroundColor:n.palette.background.paper,color:n.palette.text.primary,fontWeight:1e3},onClick:e.onClick,children:"V"})}),children:e.children})}var kf=Hn((function(e){return{root:{width:"90%",minWidth:300,maxWidth:600,height:"fit-content"},editButton:{height:70,borderRadius:0,marginBottom:10},editButtonAvatar:{padding:5,width:40,height:40},editButtonText:{color:e.palette.button.color,fontSize:24,fontWeight:1e3,letterSpacing:-1.5,lineHeight:1,width:"auto"}}})),Cf=function(e){var t,n,r,i,o,a=kf(e);return(0,oa.jsxs)(wi,{className:a.editButton,style:{backgroundColor:e.backgroundColor},onClick:function(){e.setFitOpen(!0)},button:!0,children:[(0,oa.jsx)(Gu,{container:!0,item:!0,xs:2,justifyContent:"center",children:(0,oa.jsx)(Sf,{onClick:function(){e.setCharacterOpen(!0)},children:(0,oa.jsx)(Ei,{className:a.editButtonAvatar,style:{backgroundColor:e.color},children:null!==(t=e.fit)&&void 0!==t&&null!==(n=t.ship)&&void 0!==n&&n.typeID?(0,oa.jsx)("img",{draggable:"false",style:{width:50,height:50},src:"https://images.evetech.net/types/".concat(null===(r=e.fit)||void 0===r||null===(i=r.ship)||void 0===i?void 0:i.typeID,"/icon?size=128")}):""})})}),(0,oa.jsx)(Gu,{item:!0,xs:10,children:(0,oa.jsx)(Ii,{className:a.editButtonText,align:"center",children:Tf(e.fitOpen,null===(o=e.fit.ship)||void 0===o?void 0:o.typeName)})})]})};function Ef(e){var n=kf(),r=(0,t.useState)(!1),i=(0,fn.Z)(r,2),o=i[0],a=i[1],s=(0,t.useState)(!1),l=(0,fn.Z)(s,2),u=l[0],c=l[1],d=(0,t.useState)(!1),f=(0,fn.Z)(d,2),h=f[0],p=f[1],v=(0,t.useState)(!1),m=(0,fn.Z)(v,2),g=m[0],y=m[1],b=(0,t.useState)(!(window.innerWidth<1e3)),_=(0,fn.Z)(b,2),x=_[0],w=_[1],S=(0,t.useState)(Wd.defaultStat),k=(0,fn.Z)(S,2),C=k[0],E=k[1];return(0,t.useEffect)((function(){e.activeDrawer!==e.tag?(p(!1),y(!1)):p(!0)}),[e.activeDrawer]),(0,t.useEffect)((function(){h&&e.setActiveDrawer(e.tag)}),[h]),(0,oa.jsxs)(t.Fragment,{children:[(0,oa.jsxs)(Qc,{className:n.root,elevation:3,children:[(0,oa.jsx)(Cf,{fit:o,fitOpen:h,setFitOpen:p,setCharacterOpen:y,backgroundColor:e.backgroundColor,color:e.color}),(0,oa.jsx)(xf,{fit:o,fitID:u,stat:C,setStat:E})]}),(0,oa.jsx)(Vc,{tag:e.tag,fitOpen:h,setFitOpen:p,characterOpen:g,setCharacterOpen:y,backgroundColor:e.backgroundColor,expand:x,setExpand:w,fitID:u,setFitID:c,setFit:a,setSlots:e.setSlots,cache:e.cache})]})}function Tf(e,t){return t?e?"> ".concat(t," <"):t:e?"> CLICK HERE TO OPEN FITTING DRAWERS <":"CLICK HERE TO OPEN FITTING DRAWERS"}var Pf=n(3820),If=n(7616),Rf=n(7373);var Of=n(9611);function Lf(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,Of.Z)(e,t)}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Df(e)}function Nf(e,t){if(t&&("object"===(0,Al.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,ti.Z)(e)}function Af(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Df(e);if(t){var i=Df(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Nf(this,n)}}var Mf={alwaysOn:0,mostTrivial:10,turretDamage:1,shieldHarden:2,shieldBoost:2,shieldBoostAncillaryFueled:2,shieldBoostAncillary:5,armorHardener:2,armorBoost:2,armorBoostAncillaryFueled:3,armorBoostAncillary:5,damageControl:0,structureBoost:1,capacitorNeutralizer:3,capacitorTransmitter:4},Zf=(0,rs.Z)("getSummaries_drones"),jf=function(e){Lf(n,e);var t=Af(n);function n(){return(0,gn.Z)(this,n),t.apply(this,arguments)}return(0,yn.Z)(n,null,[{key:"getResistanceTable_getRecords",value:function(e,t){if(0===e.length)return[t.slice(0,-1)];var r=n.getResistanceTable_getRecords(e.slice(1),t.concat("".concat(e[0].summary.path,".activation|"))),i=n.getResistanceTable_getRecords(e.slice(1),t.concat("".concat(e[0].summary.path,".passive|")));return[].concat((0,nr.Z)(r),(0,nr.Z)(i))}},{key:"getResistanceTable_applyState",value:function(e,t){t.split("|").forEach((function(t){var n=t.split("."),r=(0,fn.Z)(n,3),i=r[0],o=r[1],a=r[2];e[i][o].item.typeState=a}))}},{key:"getSummary_damage",value:function(e,t){return!!e&&{damagePerAct:this.damage_damagePerAct(e,t),range:this.damage_range(e,t)}}},{key:"getSummary_drone",value:function(e){return!!e&&{damagePerAct:this.damage_damagePerAct(e,e),range:this.damage_range(e,e)}}},{key:"getSummary_defense",value:function(e,t){return!!e&&{bonusPerAct:{self:this.defense_getBonusPerAct(e,t)}}}},{key:"getSummary_capacitor",value:function(e,t){if(!e)return!1;var n=gs(t,67)||0,r=gs(e,90)||0,i=gs(e,97)||0,o=1===gs(e,1945),a=!!gs(e,3423),s=!a&&!!r;return{bonusPerAct:{self:a?0:n+r,target:a?r:-r-i},range:{optimalRange:gs(e,54),falloffRange:gs(e,2044)},isNosferatuBloodRaiderOverriden:o,isCapacitorTransmitter:a,isNosferatu:s}}}]),n}(Wd);jf.updateSummaries=function(e,t){var n={highSlots:Array.from(e.highSlots,(function(){return{}})),midSlots:Array.from(e.midSlots,(function(){return{}})),lowSlots:Array.from(e.lowSlots,(function(){return{}})),droneSlots:Array.from(e.droneSlots,(function(){return{}}))},r=ya.Z.apply(e),i=jf.addSummaries(r,n,t);return i.utils={},i.utils.slots=e,i.utils.fit=r,i.skills=void 0,i},jf.getSummaries=function(e,t){var n=jf.addSummaries_duplicateSlots(e);e.ship.rootID=t.rootID,ya.Z.mapSlots(n,(function(e){e.item&&(e.item.rootID=t.rootID),e.charge&&(e.charge.rootID=t.rootID)}),{isIterate:{highSlots:!0,midSlots:!0,lowSlots:!0,droneSlots:!0}});var r={highSlots:Array.from(e.highSlots,(function(){return{}})),midSlots:Array.from(e.midSlots,(function(){return{}})),lowSlots:Array.from(e.lowSlots,(function(){return{}})),droneSlots:e.droneSlots.reduce((function(e,t){return t.item?[].concat((0,nr.Z)(e),(0,nr.Z)(Array.from(new Array(t.item.typeCount).fill(!1),(function(){return{}})))):e}),[])},i=ya.Z.apply(n),o=jf.addSummaries(i,r,t);return o.utils={},o.utils.slots=n,o.utils.fit=i,o.skills=void 0,o},jf.getSummarizedSlots=function(e,t){var n=jf.addSummaries_duplicateSlots(e),r=ya.Z.apply(n);return jf.addSummaries(r,n,t)},jf.addSummaries=function(e,t,n){return e&&(t.summary=jf.getSummary_ship(e,n)),ya.Z.mapSlots(e,(function(e){if(!e.item)return!1;var r=jf.getSummary_module(e);r.root=t,r.rootID=n.rootID;var i=!!r&&Ff.toPath(t,r.path);i&&(i.summary=r)}),{isIterate:{highSlots:!0,midSlots:!0,lowSlots:!0}}),ya.Z.mapSlots(e,(function(e){if(!e.item)return!1;var n=(0,ns.Z)(jf,Zf)[Zf](e);n.root=t;var r=!!n&&Ff.toPath(t,n.path);r&&(r.summary=n)}),{isIterate:{droneSlots:!0}}),t},jf.addSummaries_duplicateSlots=function(e){var t=jf.addSummaries_duplicateDroneSlots(e),n=JSON.parse(JSON.stringify(e));return n.droneSlots=t,n},jf.addSummaries_duplicateDroneSlots=function(e){var t=0;return e.droneSlots.reduce((function(e,n){var r=JSON.stringify(n),i=new Array(n.item.typeCount||1).fill(!1).map((function(){var e=JSON.parse(r);return e.item&&(e.typeCount=void 0,e.item.domainID="droneSlots.".concat(t,".item")),t++,e}));return e.concat(i)}),[])},jf.getResistanceTable=function(e,t){var n=JSON.parse(JSON.stringify(t)),r=ya.Z.mapSlots(e,(function(e){var t;return"resistance"===(null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.operation)&&e}),{isIterate:{midSlots:!0,lowSlots:!0}}).filter((function(e){return!!e}));if(0===r.length)return{};var i=jf.getResistanceTable_getRecords(r,""),o={};return i.forEach((function(e){jf.getResistanceTable_applyState(n,e);var t=ya.Z.apply(n);o[e]=jf.defense_resistance(t)})),o},jf.getSummary_module=function(e){var t;if(null===e||void 0===e||null===(t=e.item)||void 0===t||!t.typeEffectsStats)return!1;var n=e.item,r=e.charge,i=gs(n,9),o={load:{structure:{HP:i}},capacity:{structure:{HP:i},misc:{heatDamage:gs(n,1211)}}},a=jf.createActivationDataSet(e),s=n.domainID.split(".").slice(0,2).join("."),l=n.typeEffectsStats.map((function(e){var t={},i=!1;switch(e.effectID){case 101:case 34:case 10:case 6995:if(!(t=jf.getSummary_damage(n,r)).damagePerAct.alpha)return!1;i="damage";break;case 4:case 26:case 4936:case 27:case 5275:t=jf.getSummary_defense(n,r),i="defense";break;case 48:case 6187:case 6197:case 6148:t=jf.getSummary_capacitor(n,r),i="capacitor";break;case 5230:case 4928:case 5231:case 7012:i="resistance";break;case 6730:case 6731:i="misc";break;case 6426:case 6425:case 6424:case 6423:i="target";break;default:return!1}return(0,Zn.Z)((0,Zn.Z)((0,Zn.Z)({},t),a),{},{operation:i,itemID:n.typeID,chargeID:r.typeID,description:"".concat(n.typeName,",").concat(r.typeName)})})).filter((function(e){return!!e}));if(!(l.length>1))return(0,Zn.Z)((0,Zn.Z)((0,Zn.Z)({},o),l[0]),{},{path:s});console.error("ERR: more than one summary produced in single module",e)},Object.defineProperty(jf,Zf,{writable:!0,value:function(e){var t;if(null===e||void 0===e||null===(t=e.item)||void 0===t||!t.typeEffectsStats)return!1;var n=e.item,r=911===n.marketGroupID,i=jf.defense_resistance({ship:n}),o=jf.capacitor_getChargeInfo({ship:n}),a=jf.miscellaneous({ship:n}),s=gs(n,508),l=gs(n,416),u=gs(n,37);a.propulsion=(0,Zn.Z)((0,Zn.Z)({},a.propulsion),{},{orbitVelocity:s,orbitRange:l,maximumVelocity:u});var c={load:{armor:{HP:i.armor.HP},shield:{HP:i.shield.HP},structure:{HP:i.structure.HP},capacitor:{HP:o.HP}},capacity:(0,Zn.Z)((0,Zn.Z)((0,Zn.Z)({},i),a),{},{capacitor:o})},d=n.domainID.split(".").slice(0,2).join("."),f=n.typeEffectsStats.map((function(t){var r=jf.createActivationDataSet(e),i={},o=!1;switch(t.effectID){case 101:case 34:case 10:case 6995:if(!(i=jf.getSummary_drone(n)).damagePerAct.alpha)return!1;o="damage";break;default:return!1}return(0,Zn.Z)((0,Zn.Z)((0,Zn.Z)({},i),r),{},{operation:o,itemID:n.typeID,description:"".concat(n.typeName)})})).filter((function(e){return!!e}));if(!(f.length>1))return(0,Zn.Z)((0,Zn.Z)((0,Zn.Z)({},c),f[0]),{},{situation_decription:"Currently location is not calculated BUT! always hitted by smart bomb",isSentry:r,isDrone:!0,path:d});console.error("ERR: more than one summary produced in single module",e)}}),jf.createActivationDataSet=function(e){var t=jf.getActivationInfo(e.item,e.charge);return{activationInfo:t,activationState:{isActive:!1,lastActivation:0,nextActivation:0,nextActivationTick:0,activationLeft:t.activationLimit}}},jf.getActivationPriority=function(e){var t=10;switch(e.effectID){case 6197:case 48:t=Mf.alwaysOn;break;case 101:case 34:case 10:case 6995:t=Mf.turretDamage;break;case 4:t=Mf.shieldBoost;break;case 26:t=Mf.structureBoost;break;case 4936:t=Mf.shieldBoostAncillaryFueled;break;case 27:t=Mf.armorBoost;break;case 5275:t=Mf.armorBoostAncillaryFueled;break;case 6187:t=Mf.capacitorNeutralizer;break;case 6148:t=Mf.capacitorTransmitter;break;case 5230:t=Mf.shieldHardener;break;case 4928:case 5231:t=Mf.armorHardener;break;case 7012:t=Mf.damageControl;break;default:t=Mf.mostTrivial}return t},jf.getSummary_ship=function(e,t){var n=jf.defense_resistance(e),r=jf.miscellaneous(e),i=jf.capacitor_getChargeInfo(e);return{load:{armor:{HP:n.armor.HP},shield:{HP:n.shield.HP},structure:{HP:n.structure.HP},capacitor:{HP:i.HP}},capacity:(0,Zn.Z)((0,Zn.Z)((0,Zn.Z)({},n),r),{},{capacitor:i}),location:t,description:"".concat(e.ship.typeName),itemID:e.ship.typeID}};var Ff=function(e){Lf(n,e);var t=Af(n);function n(){return(0,gn.Z)(this,n),t.apply(this,arguments)}return(0,yn.Z)(n,null,[{key:"changeStateOfModule",value:function(e,t,n){if(!["overload","activation","passive","offline"].includes(n))return!1;var r=this.toPath(e,t);return!(!r||!r.item)&&(r.item.typeState=n,this.apply(e))}},{key:"toPath",value:function(e,t){return e&&t?t.split(".").reduce((function(e,t){return e&&e[t]||void 0}),e):{}}}]),n}(ya.Z),zf=(0,rs.Z)("activateDamage_getDamageResult"),Bf=(0,rs.Z)("activateDamage_getShot"),Hf=(0,rs.Z)("activateDamage_getSituationalModifiedSummary"),Wf=(0,rs.Z)("activateDamage_getSituationalMul"),Uf=(0,rs.Z)("activateCapacitor_getSituationalModifiedSummary"),Gf=(0,rs.Z)("activateCapacitor_getSituationalMul"),qf=function(){function e(){(0,gn.Z)(this,e)}return(0,yn.Z)(e,null,[{key:"test",value:function(e,t,n){var r=jf.getSummarizedSlots(e,n.onboard),i=jf.getSummarizedSlots(t,n.hostile);console.log(r,i,n),ya.Z.mapSlots(r,(function(e){var t;if(null===e||void 0===e||null===(t=e.summary)||void 0===t||!t.activationState)return!1;e.summary.activationState.isActive=!0,e.summary.activationState.nextActivationTick=0,e.summary.activationState.nextActivation=0}),{isIterate:{highSlots:!0,midSlots:!0,lowSlots:!0,droneSlots:!0}}),console.log("CAPACITOR_BY_LEVEL",Qf.manageActivation_getCapUsageLevels(r));for(var o=[],a=0;a<2;a++){var s=Qf.getSchedules(r,i,a);console.log(s),Qf.manageSchedules(s,r,n.onboard),o.push({x:a,y:r.summary.load.capacitor.HP})}console.log(o)}}]),e}();qf.simulate_oneTick=function(e,t,n){qf.simulate_capacitor(e),qf.simulate_shield(e),ya.Z.mapSlots(fit,(function(r){if(!r.summary)return!1;switch(r.summary.operation){case"damage":qf.activateDamage(r.summary,e,t,n);break;case"defense":qf.activateDefense(r.summary,e,t,n);break;case"capacitor":qf.activateCapacitor(r.summary,e,t,n)}}),{isIterate:{highSlots:!0,midSlots:!0,lowSlots:!0,droneSlots:!0}})},qf.simulate_capacitor=function(e){var t=e.summary.load.capacitor,n=qf.simulate_capacitor_getDelta(e);return t.HP+=n,0===t.HP&&(t.HP=1),n},qf.simulate_passive_capacitor_getDelta=function(e){if(e.summary.load.capacitor.HP<=0)return 1;var t=e.summary.load.capacitor,n=e.summary.capacity.capacitor;return Rd.getAmbientChargeRateMath(n.HP,t.HP,n.bonusRate)},qf.simulate_shield=function(e){var t=e.summary.load.shield,n=qf.simulate_capacitor_getDelta(e);return t.HP+=n,0===t.HP&&(t.HP+=1),n},qf.simulate_passive_shield_getDelta=function(e){if(e.summary.load.shield.HP<=0)return.1;var t=e.summary.load.shield,n=e.summary.capacity.shield;return Rd.getAmbientChargeRateMath(n.HP,t.HP,n.bonusRate)},qf.simulate_defense_getDelta=function(e){return{armorDelta:e.bonusPerAct.self.armor,shieldDelta:e.bonusPerAct.self.shield,structureDelta:e.bonusPerAct.self.structure}},qf.activateDefense=function(e){var t=e.root;t.summary.load.shield.HP+=e.bonusPerAct.self.shield,t.summary.capacity.shield.HP<t.summary.load.shield.HP&&(t.summary.load.shield.HP=t.summary.capacity.shield.HP),t.summary.load.armor.HP+=e.bonusPerAct.self.armor,t.summary.capacity.armor.HP<t.summary.load.armor.HP&&(t.summary.load.armor.HP=t.summary.capacity.armor.HP),t.summary.load.structure.HP+=e.bonusPerAct.self.structure,t.summary.capacity.structure.HP<t.summary.load.structure.HP&&(t.summary.load.structure.HP=t.summary.capacity.structure.HP)},qf.simulate_damage_getDelta=function(e,t){var n=[],r=e.isDrone?e:e.root,i=t||e.target,o=(0,ns.Z)(qf,Hf)[Hf](e,r,i,n),a=qf.activateDamage_getAlpha(o,i);return{armorDelta:-a.armor,shieldDelta:-a.shield,structureDelta:-a.structure,debug:n}},qf.activateDamage=function(e){var t=e.isDrone?e:e.root,n=e.target,r=(0,ns.Z)(qf,Hf)[Hf](e,t,n,[]),i=qf.activateDamage_getAlpha(r,n);n.summary.load.shield.HP-=i.shield,n.summary.load.shield.HP<0&&(n.summary.load.shield.HP=0),n.summary.load.armor.HP-=i.armor,n.summary.load.armor.HP<0&&(n.summary.load.armor.HP=0),n.summary.load.structure.HP-=i.structure,n.summary.load.structure.HP<0&&(n.summary.load.structure.HP=0)},qf.activateDamage_getAlpha=function(e,t){if(!e.damagePerAct.alpha)return{shield:0,armor:0,structure:0};var n=(0,ns.Z)(qf,zf)[zf](e.damagePerAct,t,"shield");if(n.remaining.alpha<=.01)return{shield:n.appplied.alpha,armor:0,structure:0};var r=(0,ns.Z)(qf,zf)[zf](n.remaining,t,"armor");if(r.remaining.alpha<=.01)return{shield:n.appplied.alpha,armor:r.appplied.alpha,structure:0};var i=(0,ns.Z)(qf,zf)[zf](r.remaining,t,"structure");return{shield:n.appplied.alpha,armor:r.appplied.alpha,structure:i.appplied.alpha}},Object.defineProperty(qf,zf,{writable:!0,value:function(e,t,n){var r=(0,ns.Z)(qf,Bf)[Bf](e,t,n),i=t.summary.load[n].HP/r.alpha_damaging<1?t.summary.load[n].HP/r.alpha_damaging:1,o=r.EM_damaging*i,a=r.TH_damaging*i,s=r.KI_damaging*i,l=r.EX_damaging*i,u=o+a+s+l,c=e.EM-o-r.EM_blocked,d=e.TH-a-r.TH_blocked,f=e.KI-s-r.KI_blocked,h=e.EX-l-r.EX_blocked;return{appplied:{alpha:u,EM:o,TH:a,KI:s,EX:l},remaining:{alpha:c+d+f+h,EM:c,TH:d,KI:f,EX:h}}}}),Object.defineProperty(qf,Bf,{writable:!0,value:function(e,t,n){var r=e.EM*t.summary.capacity[n].EM/100,i=e.TH*t.summary.capacity[n].TH/100,o=e.KI*t.summary.capacity[n].KI/100,a=e.EX*t.summary.capacity[n].EX/100,s=r+i+o+a,l=e.EM-r,u=e.TH-i,c=e.KI-o,d=e.EX-a;return{alpha_damaging:l+u+c+d,EM_damaging:l,TH_damaging:u,KI_damaging:c,EX_damaging:d,alpha_blocked:s,EM_blocked:r,TH_blocked:i,KI_blocked:o,EX_blocked:a}}}),Object.defineProperty(qf,Hf,{writable:!0,value:function(e,t,n,r){var i=(0,ns.Z)(qf,Wf)[Wf](e,t,n,r);return(0,Zn.Z)((0,Zn.Z)({},e),{},{damagePerAct:{alpha:e.damagePerAct.alpha*i,EM:e.damagePerAct.EM*i,TH:e.damagePerAct.TH*i,KI:e.damagePerAct.KI*i,EX:e.damagePerAct.EX*i}})}}),Object.defineProperty(qf,Wf,{writable:!0,value:function(e,t,n,r){if(e.isDrone){var i=Rd.getDroneAccuracy(e,t,n,r),o=Rd.getTurretRandomDamageModifier(),a=Math.random()<=i;return r.push({type:"drone_random_damage_multiplier",value:o}),r.push({type:"hit",value:a}),a?o:0}if(e.range.tracking){var s=Rd.getTurretAcurracy(e,t,n,r),l=Rd.getTurretRandomDamageModifier(),u=Math.random()<=s;return r.push({type:"turret_random_damage_multiplier",value:l}),r.push({type:"hit",value:u}),u?l:0}if(e.range.explosionRadius){var c=Rd.getLauncherAccuracy(e,t,n,r),d=Rd.getLauncherDamageModifier(e,n,r),f=Math.random()<=c;return r.push({type:"hit",value:f}),f?d:0}return 0}}),qf.simulate_capacitor_getDelta=function(e){var t=e.root,n=e.target,r=(0,ns.Z)(qf,Uf)[Uf](e,t,n);return{target:{capacitorDelta:r.bonusPerAct.target},self:{capacitorDelta:r.bonusPerAct.owner}}},qf.activateCapacitor=function(e){var t=e.root,n=e.target,r=(0,ns.Z)(qf,Uf)[Uf](e,t,n);n.summary.load.capacitor.HP+=r.bonusPerAct.target,n.summary.load.capacitor.HP<0&&(n.summary.load.capacitor.HP=0),n.summary.capacity.capacitor.HP<n.summary.load.capacitor.HP&&(n.summary.load.capacitor.HP=n.summary.capacity.capacitor.HP),t.summary.load.capacitor.HP+=r.bonusPerAct.owner,t.summary.load.capacitor.HP<0&&(t.summary.load.capacitor.HP=0),t.summary.capacity.capacitor.HP<t.summary.load.capacitor.HP&&(t.summary.load.capacitor.HP=t.summary.capacity.capacitor.HP)},Object.defineProperty(qf,Uf,{writable:!0,value:function(e,t,n){var r=t.summary.load.capacitor.HP,i=n.summary.load.capacitor.HP,o=(0,ns.Z)(qf,Gf)[Gf](e,t,n),a=e.bonusPerAct.self*o,s=e.bonusPerAct.target*o;if(e.isNosferatu){var l=Math.min(a,i),u=l;return!e.isNosferatuBloodRaiderOverriden&&i+s<r&&(u=Math.max(Math.floor((i-r)/2),0)),u=Math.min(l,u),(0,Zn.Z)((0,Zn.Z)({},e),{},{bonusPerAct:{owner:u,target:-u}})}return(0,Zn.Z)((0,Zn.Z)({},e),{},{bonusPerAct:{owner:a,target:s}})}}),Object.defineProperty(qf,Gf,{writable:!0,value:function(e,t,n){var r=Rd.getRangeModifier(e,t,n);return!e.isNosferatuBloodRaiderOverriden&&!e.isCapacitorTransmitter&&!e.isNosferatu?1:r}}),qf.simulateActivationCapUse=function(e){var t=e.load.capacitor||e.root.summary.load.capacitor,n=e.activationState,r=e.activationInfo;return t.HP-=r.activationCost,n.activationLeft--,e},qf.simulateActivation=function(e){var t=e.load.capacitor||e.root.summary.load.capacitor,n=e.activationState,r=e.activationInfo;return t.HP-=r.activationCost,n.activationLeft--,n.lastActivation=n.nextActivation,0===n.activationLeft?(n.nextActivation=n.lastActivation+r.duration+r.reloadTime,n.activationLeft=r.activationLimit):n.nextActivation=Number((n.lastActivation+r.duration).toFixed(10)),n.nextActivationTick=Math.floor(n.nextActivation),e};var Vf=(0,rs.Z)("getSchedules_getFragment"),Yf=(0,rs.Z)("getSchedules_copySummary"),Kf=(0,rs.Z)("getSchedules_getFragmentRecursion"),Xf=(0,rs.Z)("manageSchedules_executeSchedule"),Qf=function(){function e(){(0,gn.Z)(this,e)}return(0,yn.Z)(e,null,[{key:"getSchedules",value:function(t,n,r){return e.getSchedules_setTarget(t,n),ya.Z.mapSlots(t,(function(t){return!!t.summary&&(0,ns.Z)(e,Vf)[Vf](t.summary,r)}),{isIterate:{highSlots:!0,midSlots:!0,lowSlots:!0,droneSlots:!0}}).reduce((function(e,t){return t?e.concat(t):e}),[]).sort((function(e,t){return e.time-t.time}))}},{key:"manageSchedules",value:function(t,n,r){t.forEach((function(t){(e.manageSchedules_validate(t.summary)||(t.summary.activationState.isActive=!1,"resistance"!==t.summary.operation))&&(0,ns.Z)(e,Xf)[Xf](t)}))}},{key:"manageSchedules_validate",value:function(t){if(!t||!t.activationState.isActive)return!1;var n=e.manageSchedules_validateCapacitor(t),r=e.manageSchedules_validateStructure(t);return!(!n||!r)}},{key:"manageSchedules_validateCapacitor",value:function(e){var t,n=e.activationInfo;return!(((null===e||void 0===e||null===(t=e.load)||void 0===t?void 0:t.capacitor)||e.root.summary.load.capacitor).HP<n.activationCost)}},{key:"manageSchedules_validateStructure",value:function(e){var t,n,r=null===e||void 0===e||null===(t=e.load)||void 0===t||null===(n=t.structure)||void 0===n?void 0:n.HP,i=e.root.summary.load.structure.HP;return!(r<=0||i<=0)}},{key:"manageActivation",value:function(e,t){ya.Z.mapSlots(e,(function(e){if(e.summary.activationState.nextActivationTick!=t)return!1;e.summary.activationInfo.activationCost,function(e){throw new TypeError('"'+e+'" is read-only')}("capUsage")}),{isIterate:{highSlots:!0,midSlots:!0,lowSlots:!0}}),e.summary.load.capacitor.HP,e.summary.capacity.capacitor.HP}}]),e}();function $f(e,n){var r=(0,t.useRef)(),i=(0,t.useRef)(!1);(0,t.useEffect)((function(){r.current=e}),[e]),(0,t.useEffect)((function(){if(null!==n)return i.current=setInterval((function(){r.current()}),n),function(){clearInterval(i.current)}}),[n])}Qf.getSchedules_setTarget=function(e,t){ya.Z.mapSlots(e,(function(e){var n;if(!e.summary)return!1;var r=!1;switch(null===e||void 0===e||null===(n=e.summary)||void 0===n?void 0:n.operation){case"damage":case"capacitor":case"defense":r=t;break;default:r=!1}e.summary.target=r}),{isIterate:{highSlots:!0,midSlots:!0,lowSlots:!0,droneSlots:!0}})},Object.defineProperty(Qf,Vf,{writable:!0,value:function(e,t){var n=(0,ns.Z)(Qf,Yf)[Yf](e);return(0,ns.Z)(Qf,Kf)[Kf](n,t).map((function(t){return t.summary=e,t}))}}),Object.defineProperty(Qf,Yf,{writable:!0,value:function(e){var t=JSON.parse(JSON.stringify((0,Zn.Z)((0,Zn.Z)({},e),{},{root:void 0,target:void 0})));return null!==t&&void 0!==t&&t.activationState&&Object.keys(t.activationState).forEach((function(e){null===t.activationState[e]&&(t.activationState[e]=1/0)})),null!==t&&void 0!==t&&t.activationInfo&&Object.keys(t.activationInfo).forEach((function(e){null===t.activationInfo[e]&&(t.activationInfo[e]=1/0)})),t}}),Object.defineProperty(Qf,Kf,{writable:!0,value:function(e,t){var n,r;if(null===e||void 0===e||null===(n=e.activationState)||void 0===n||!n.isActive||(null===e||void 0===e||null===(r=e.activationState)||void 0===r?void 0:r.nextActivationTick)!==t)return[];var i=e.activationState.nextActivation,o=e.activationState,a=e.activationInfo;o.isActive&&o.nextActivationTick<t&&console.warn("ERR: Tick is not in sync"),o.activationLeft--,o.lastActivation=o.nextActivation,0===o.activationLeft?(o.nextActivation=o.lastActivation+a.duration+a.reloadTime,o.activationLeft=a.activationLimit):o.nextActivation=Number((o.lastActivation+a.duration).toFixed(10)),o.nextActivationTick=Math.floor(o.nextActivation);var s=[];return o.nextActivationTick===t&&(s=(0,ns.Z)(Qf,Kf)[Kf](e,t)),[{time:i}].concat((0,nr.Z)(s))}}),Object.defineProperty(Qf,Xf,{writable:!0,value:function(e){switch(qf.simulateActivation(e.summary),e.summary.operation){case"damage":qf.activateDamage(e.summary);break;case"defense":qf.activateDefense(e.summary);break;case"capacitor":qf.activateCapacitor(e.summary)}}}),Qf.manageActivation_getCapUsageLevels=function(e){return[0,1,2,3,4,5,6,7,8,9,10].map((function(t){var n=[];return ya.Z.mapSlots(e,(function(e){var r,i,o=null===e||void 0===e||null===(r=e.summary)||void 0===r?void 0:r.activationInfo,a=null===e||void 0===e||null===(i=e.summary)||void 0===i?void 0:i.activationState;if(!o||!a||a.activationPriority>t)return 0;var s=o.activationCost/o.duration||0;n.push({capUsageRate:s,slot:e})}),{isIterate:{highSlots:!0,midSlots:!0,lowSlots:!0}}),{activationPriority:t,capUsageRates:n}}))};var Jf=Hn((function(e){return{rootAvatar:{width:20,height:8,right:13,bottom:3,backgroundColor:e.palette.background.paper,color:e.palette.text.primary,fontSize:9,border:"0.1px solid ".concat(e.palette.divider),paddingRight:10}}}));function eh(e){var t=Jf();Lr();return(0,oa.jsx)(pa,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:e.count!=1/0?(0,oa.jsx)(Ei,{className:t.rootAvatar,onClick:e.onClick,variant:"square",children:e.count}):void 0,children:e.children})}var th=44,nh=t.forwardRef((function(e,n){var r=e.classes,i=e.className,o=e.color,a=void 0===o?"primary":o,s=e.disableShrink,l=void 0!==s&&s,u=e.size,c=void 0===u?40:u,d=e.style,f=e.thickness,h=void 0===f?3.6:f,p=e.value,v=void 0===p?0:p,m=e.variant,g=void 0===m?"indeterminate":m,y=(0,Wn.Z)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),b={},_={},x={};if("determinate"===g||"static"===g){var w=2*Math.PI*((th-h)/2);b.strokeDasharray=w.toFixed(3),x["aria-valuenow"]=Math.round(v),b.strokeDashoffset="".concat(((100-v)/100*w).toFixed(3),"px"),_.transform="rotate(-90deg)"}return t.createElement("div",(0,Fn.Z)({className:(0,Un.Z)(r.root,i,"inherit"!==a&&r["color".concat((0,Yr.Z)(a))],{determinate:r.determinate,indeterminate:r.indeterminate,static:r.static}[g]),style:(0,Fn.Z)({width:c,height:c},_,d),ref:n,role:"progressbar"},x,y),t.createElement("svg",{className:r.svg,viewBox:"".concat(22," ").concat(22," ").concat(th," ").concat(th)},t.createElement("circle",{className:(0,Un.Z)(r.circle,l&&r.circleDisableShrink,{determinate:r.circleDeterminate,indeterminate:r.circleIndeterminate,static:r.circleStatic}[g]),style:b,cx:th,cy:th,r:(th-h)/2,fill:"none",strokeWidth:h})))})),rh=(0,yr.Z)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(nh),ih=Hn((function(e){return{circularProrgess:{position:"absolute",left:8,top:2},circularTransition:function(t){return{transition:e.transitions.create("stroke-dashoffset",{easing:"linear",duration:"".concat(t,"s")})}},hiddenCircularTransition:{transition:e.transitions.create("stroke-dashoffset",{easing:"linear",duration:"0s"})}}}));function oh(e){var n=Lr(),r=ih(e.moduleSet[0].summary.activationInfo.duration),i=(0,t.useState)(!1),o=(0,fn.Z)(i,2),a=o[0],s=o[1],l=(0,t.useState)(!1),u=(0,fn.Z)(l,2),c=u[0],d=u[1],f=(0,t.useState)(0),h=(0,fn.Z)(f,2),p=h[0],v=h[1];return(0,t.useEffect)((function(){s(!a)}),[e.updateFlag]),function(e,n,r){var i=(0,t.useRef)(!1),o=(0,t.useRef)(),a=(0,t.useRef)(!1);(0,t.useEffect)((function(){o.current=e}),[e]),(0,t.useEffect)((function(){a.current&&(clearInterval(a.current),a.current=!1,i.current=!1)}),[r]),(0,t.useEffect)((function(){if(null!==n&&!1===i.current)return o.current(),a.current&&clearInterval(a.current),a.current=setInterval((function(){o.current(),!0===i.current&&(clearInterval(a.current),i.current=!1,a.current=!1)}),n),function(){i.current=!0};null!==n?i.current=!1:a.current&&(i.current=!0)}),[n]),(0,t.useEffect)((function(){return function(){a.current&&clearInterval(a.current)}}),[])}((function(){var t=!0===e.isActivating&&!1===e.moduleSet[0].summary.activationState.isActive,n=!1===e.isActivating&&!0===e.moduleSet[0].summary.activationState.isActive;!function(e){if(0===e.moduleSet[0].summary.activationState.activationLeft){if(!0!==e.moduleSet[0].summary.activationInfo.isChargeNegligible)return e.setIsActivating(!1),void e.dispatchSummaries({type:"moduleSet_update_activation",payload:{moduleSet:e.moduleSet,isActive:!1}});e.dispatchSummaries({type:"summary_update_item",payload:{moduleSet:e.moduleSet}})}if(e.isActivating){if(e.moduleSet[0].summary.activationInfo.activationCost*e.moduleSet.length>e.moduleSet[0].summary.root.summary.load.capacitor.HP)return e.setIsActivating(!1),void e.dispatchSummaries({type:"moduleSet_update_activation",payload:{moduleSet:e.moduleSet,isActive:!1}});if("damage"===e.moduleSet[0].summary.operation&&0===e.moduleSet[0].summary.target.summary.load.structure.HP)return e.setIsActivating(!1),void e.dispatchSummaries({type:"moduleSet_update_activation",payload:{moduleSet:e.moduleSet,isActive:!1}});!1===e.moduleSet[0].summary.activationState.isActive&&e.dispatchSummaries({type:"moduleSet_update_activation",payload:{moduleSet:e.moduleSet,isActive:!0}}),e.dispatchSummaries({type:"summary_load_apply_delta",payload:{capacitorDelta:-e.moduleSet[0].summary.activationInfo.activationCost*e.moduleSet.length}}),e.dispatchSummaries({type:"activationLeft_active_discharge",payload:{moduleSet:e.moduleSet}})}else e.dispatchSummaries({type:"moduleSet_update_activation",payload:{moduleSet:e.moduleSet,isActive:!1}})}(e),e.isActivating&&(v(p+100),d(!c)),!function(e){var t,n;return!((null===(t=e.bonusPerAct)||void 0===t?void 0:t.self.armor)>0||(null===(n=e.bonusPerAct)||void 0===n?void 0:n.self.structure)>0||!0===e.isNosferatu)}(e.moduleSet[0].summary)?t||!0!==e.moduleSet[0].summary.activationState.isActive||ah(e.moduleSet,e.dispatchSummaries,e.dispatchTargetSummaries):n||!0!==e.moduleSet[0].summary.activationState.isActive||ah(e.moduleSet,e.dispatchSummaries,e.dispatchTargetSummaries)}),e.isActivating?1e3*e.moduleSet[0].summary.activationInfo.duration:null,a),(0,t.useEffect)((function(){!function(e,t,n,r){switch(t[0].summary.operation){case"resistance":case"misc":n({type:"summary_update_ship"});break;case"target":r({type:"summary_update_exSlots",payload:{exSlot:Mh(e.fit,t[0].summary.path),isActive:t[0].summary.activationState.isActive}});break;default:;}}(e.utils,e.moduleSet,e.dispatchSummaries,e.dispatchTargetSummaries)}),[e.moduleSet[0].summary.activationState.isActive]),(0,oa.jsxs)(t.Fragment,{children:[(0,oa.jsx)(rh,{size:46,thickness:2,style:{color:uh(e,!c,n,1)},className:r.circularProrgess,classes:{circleDeterminate:c?r.circularTransition:r.hiddenCircularTransition},variant:"determinate",value:p}),(0,oa.jsx)(rh,{size:46,thickness:2,style:{color:uh(e,c,n,2)},className:r.circularProrgess,classes:{circleDeterminate:c?r.hiddenCircularTransition:r.circularTransition},variant:"determinate",value:p+100})]})}function ah(e,t,n){switch(e[0].summary.operation){case"damage":n({type:"summary_load_apply_delta",payload:sh(e),operation:e[0].summary.operation});break;case"defense":t({type:"summary_load_apply_delta",payload:lh(e),operation:e[0].summary.operation});break;case"capacitor":!function(e,t,n){var r=qf.simulate_capacitor_getDelta(e[0].summary),i=(o=e[0].summary,o.isNosferatuBloodRaiderOverriden||o.isCapacitorTransmitter||o.isNosferatu||!o.chargeID?o.isNosferatu?{target:!0,self:!0}:{target:!0,self:!1}:{target:!1,self:!0});var o;i.self&&t({type:"summary_load_apply_delta",payload:{summary:e[0].summary,capacitorDelta:r.self.capacitorDelta},operation:e[0].summary.operation});i.target&&n({type:"summary_load_apply_delta",payload:{summary:e[0].summary,capacitorDelta:r.target.capacitorDelta},operation:e[0].summary.operation})}(e,t,n)}}function sh(e){var t={armorDelta:0,shieldDelta:0,structureDelta:0,summary:e[0].summary,debugs:[]},n={summary:JSON.parse(JSON.stringify(e[0].summary.target.summary))};return e.map((function(e){var t=qf.simulate_damage_getDelta(e.summary,n);return n.summary.load.shield.HP+=t.shieldDelta,n.summary.load.armor.HP+=t.armorDelta,n.summary.load.structure.HP+=t.structureDelta,t})).reduce((function(e,t){return e.armorDelta+=t.armorDelta,e.shieldDelta+=t.shieldDelta,e.structureDelta+=t.structureDelta,e.debugs.push(t.debug),e}),t)}function lh(e){return(0,Zn.Z)((0,Zn.Z)({},qf.simulate_defense_getDelta(e[0].summary)),{},{summary:e[0].summary})}function uh(e,t,n,r){return!e.moduleSet[0].summary.activationState.isActive||t?"transparent":e.isActivating?n.palette.text.primary:n.palette.action.disabled}var ch=Hn((function(e){return{circularProrgess:{position:"absolute",left:8,top:2},circularTransition:function(t){return{transition:e.transitions.create("stroke-dashoffset",{easing:"linear",duration:"".concat(t,"s")})}},hiddenCircularTransition:{transition:e.transitions.create("stroke-dashoffset",{easing:"linear",duration:"0s"})}}}));function dh(e){var n=Lr(),r=ch(e.moduleSet[0].summary.activationInfo.reloadTime),i=(0,t.useState)(!1),o=(0,fn.Z)(i,2),a=o[0],s=o[1],l=(0,t.useState)(0),u=(0,fn.Z)(l,2),c=u[0],d=u[1],f=(0,t.useState)(!1),h=(0,fn.Z)(f,2),p=h[0],v=h[1],m=(0,t.useState)(!1),g=(0,fn.Z)(m,2),y=g[0],b=g[1];return(0,t.useEffect)((function(){fh(e)?(d(c-100),v(!p),b(!0),e.setIsReloading(!0)):(b(!1),e.setIsReloading(!1))}),[e.moduleSet[0].summary.activationState.isActive,e.moduleSet[0].summary.activationState.activationLeft]),function(e,n,r){var i=(0,t.useRef)(!1),o=(0,t.useRef)(),a=(0,t.useRef)(!1);(0,t.useEffect)((function(){o.current=e}),[e]),(0,t.useEffect)((function(){a.current&&(clearInterval(a.current),a.current=!1,i.current=!1)}),[r]),(0,t.useEffect)((function(){null!==n?(a.current&&clearInterval(a.current),a.current=setInterval((function(){o.current(),!0===i.current&&(clearInterval(a.current),a.current=!1,i.current=!1)}),n),i.current=!1):i.current=!0}),[n]),(0,t.useEffect)((function(){return function(){a.current&&clearInterval(a.current)}}),[])}((function(){e.moduleSet[0].summary.activationInfo.isChargeNegligible&&e.dispatchSummaries({type:"summary_update_item",payload:{moduleSet:e.moduleSet}}),e.dispatchSummaries({type:"activationLeft_active_charge",payload:{moduleSet:e.moduleSet}})}),function(e){return fh(e)?1e3*e.moduleSet[0].summary.activationInfo.reloadTime:null}(e),a),(0,t.useEffect)((function(){s(!a),b(!1),e.setIsReloading(!1)}),[e.updateFlag]),(0,oa.jsxs)(t.Fragment,{children:[(0,oa.jsx)(rh,{size:46,thickness:2,style:{color:!y||p?"transparent":n.palette.action.disabled},className:r.circularProrgess,classes:{circleDeterminate:p?r.hiddenCircularTransition:r.circularTransition},variant:"determinate",value:c}),(0,oa.jsx)(rh,{size:46,thickness:2,style:{color:y&&p?n.palette.action.disabled:"transparent"},className:r.circularProrgess,classes:{circleDeterminate:p?r.circularTransition:r.hiddenCircularTransition},variant:"determinate",value:c+100})]})}function fh(e){return!0!==e.moduleSet[0].summary.activationState.isActive&&(0===e.moduleSet[0].summary.activationState.activationLeft||e.moduleSet[0].summary.activationInfo.isChargeNegligible&&e.moduleSet[0].summary.activationState.activationLeft===1/0)}var hh=Hn((function(e){return{rootAvatar:{width:20,height:8,left:9,bottom:3,backgroundColor:e.palette.property.red,color:e.palette.button.color,fontSize:9,border:"0.1px solid ".concat(e.palette.property.red)},rootDiv:{width:"100%",textAlign:"right",paddingRight:3}}}));function ph(e){var t=hh();Lr();return(0,oa.jsx)(pa,{style:{justifyContent:"center"},overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"left"},badgeContent:e.count>1&&(0,oa.jsx)(Ei,{variant:"square",className:t.rootAvatar,children:(0,oa.jsx)("div",{className:t.rootDiv,children:e.count})}),children:e.children})}var vh=Hn((function(e){return{rootDiv:{position:"absolute",left:0,top:0,width:40,height:40},rootAvatarDefault:{width:40,height:40,marginLeft:10,marginTop:4,backgroundColor:e.palette.background.paper,border:"0.1px solid ".concat(e.palette.divider),marginRight:20,cursor:"pointer",WebkitTapHighlightColor:"transparent",zIndex:1},circularProrgess:{position:"absolute",right:16},circularTransition:{transition:e.transitions.create("stroke-dashoffset",{easing:"linear",duration:"1s"})},buttonBaseChild:{backgroundColor:"red"},buttonBaseRippleVisible:{opacity:.5,animation:"$enter 550ms ".concat(e.transitions.easing.easeInOut)},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.5}}}})),mh=t.memo((function(e){var t,n=vh();return(0,oa.jsx)(Ei,{onClick:function(){e.isReloading||e.setIsActivating(!e.isActivating)},className:n.rootAvatarDefault,children:(0,oa.jsx)(vi,{children:(0,oa.jsx)(eh,{count:e.chargeCount,onClick:function(){e.isReloading||e.setIsActivating(!e.isActivating)},children:(0,oa.jsx)(ph,{count:e.moduleSet.length,children:yh(null===(t=e.moduleSet[0])||void 0===t?void 0:t.summary)})})})})}));function gh(e){var n=(0,t.useState)(!1),r=(0,fn.Z)(n,2),i=r[0],o=r[1],a=(0,t.useState)(!1),s=(0,fn.Z)(a,2),l=s[0],u=s[1];return(0,t.useEffect)((function(){u(!1)}),[e.updateFlag]),(0,oa.jsxs)("div",{style:{position:"relative"},children:[(0,oa.jsx)(dh,{updateFlag:e.updateFlag,moduleSet:e.moduleSet,dispatchSummaries:e.dispatchSummaries,setIsReloading:o}),(0,oa.jsx)(oh,{utils:e.utils,updateFlag:e.updateFlag,moduleSet:e.moduleSet,dispatchSummaries:e.dispatchSummaries,dispatchTargetSummaries:e.dispatchTargetSummaries,isActivating:l,setIsActivating:u}),(0,oa.jsx)(mh,{isActivating:l,setIsActivating:u,isReloading:i,moduleSet:e.moduleSet,chargeCount:e.moduleSet[0].summary.activationState.activationLeft})]})}function yh(e){var t=e.itemID,n=e.chargeID,r=0===e.activationState.activationLeft;return t&&n&&!r?(0,oa.jsx)("img",{draggable:"false",style:{width:"65%",WebkitTapHighlightColor:"transparent",WebkitTouchCallout:"none"},src:"https://images.evetech.net/types/".concat(n,"/icon?size=64")}):(0,oa.jsx)("img",{draggable:"false",style:{width:"65%",WebkitTapHighlightColor:"transparent",WebkitTouchCallout:"none"},src:"https://images.evetech.net/types/".concat(t,"/icon?size=64")})}function bh(e){var n,r,i=(0,t.useState)([]),o=(0,fn.Z)(i,2),a=o[0],s=o[1];return(0,t.useEffect)((function(){var t,n=(t=e.summaries)?ya.Z.mapSlots(t,(function(e){var t;return!(null===e||void 0===e||null===(t=e.summary)||void 0===t||!t.activationInfo)&&e}),{isIterate:{highSlots:!0,midSlots:!0,lowSlots:!0,droneSlots:!0}}).filter((function(e){return!!e})).reduce((function(e,t){if("damage"===t.summary.operation){var n=e.find((function(e){return(null===e||void 0===e?void 0:e[0].summary.itemID)===t.summary.itemID&&(null===e||void 0===e?void 0:e[0].summary.chargeID)===t.summary.chargeID}));n?n.push(t):e.push([t])}else e.push([t]);return e}),[]):[];s(n)}),[e.updateFlag]),$f((function(){var t=qf.simulate_passive_capacitor_getDelta(e.summaries),n=qf.simulate_passive_shield_getDelta(e.summaries);e.dispatchSummaries({type:"summary_load_apply_delta",payload:{capacitorDelta:t,shieldDelta:n}})}),(null===(n=e.summaries)||void 0===n||null===(r=n.summary)||void 0===r?void 0:r.load.structure.HP)>0?1e3:null),(0,oa.jsx)(Gu,{style:{margin:"12px 0px"},container:!0,item:!0,xs:12,justifyContent:"center",children:null===a||void 0===a?void 0:a.map((function(t){return(0,oa.jsx)(gh,{utils:e.summaries.utils,updateFlag:e.updateFlag,moduleSet:t,dispatchSummaries:e.dispatchSummaries,dispatchTargetSummaries:e.dispatchTargetSummaries},t[0].summary.path)}))})}var _h=n(4241),xh=(0,zn.Z)((function(e){return{boldTypography:{fontSize:14,fontWeight:700,color:"white"},headerRoot:{height:60},headerAvatar:{padding:5,width:40,height:40,position:"relative"},deadIndicator:{position:"absolute",width:"100%",height:"100%",backgroundColor:"red",color:"white",fontSize:50,transition:e.transitions.create("opacity",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})}}})),wh=function(e){var t=xh();return(0,oa.jsx)(Gu,{style:{flexBasis:120,maxWidth:120},children:(0,oa.jsx)(du,{label:(0,oa.jsx)(Ii,{className:t.boldTypography,noWrap:!0,children:e.children}),value:e.value||0,InputProps:{readOnly:!0,disableUnderline:!0},inputProps:{style:{padding:"2px 0px 2px 0px",fontSize:14,fontWeight:700,color:"white"}}})})},Sh=t.memo((function(e){var t=xh();return(0,oa.jsxs)(Gu,{className:t.headerRoot,style:{backgroundColor:e.color},container:!0,alignContent:"center",children:[(0,oa.jsx)(Gu,{container:!0,item:!0,xs:2,justifyContent:"center",alignContent:"center",children:(0,oa.jsxs)(Ei,{className:t.headerAvatar,children:[Ih(e.summary),(0,oa.jsx)("div",{className:t.deadIndicator,style:{opacity:e.isDead?.5:0},children:(0,oa.jsx)(_h.Z,{fontSize:"inherit",color:"inherit"})})]})}),(0,oa.jsxs)(Gu,{container:!0,item:!0,xs:10,justifyContent:"center",alignContent:"center",children:[(0,oa.jsx)(wh,{value:e.maximumVelocity.toFixed(1),children:"Max Velocity (m/sec)"}),(0,oa.jsx)(wh,{value:e.signatureRadius.toFixed(1),children:"Signature Radius (m)"})]})]})})),kh=t.memo((function(e){var n=Lr();return(0,oa.jsx)(od,{showDivider:!0,value:e.load/e.capacity*100,label:"".concat(e.load.toFixed(1)),description:"/ ".concat(e.capacity.toFixed(1)),typographyProps:{style:{color:e.color,fontWeight:600,fontSize:14}},backgroundColor:n.palette.action.opaqueHoverSecondary,color:n.palette.background.paper,Icon:(0,oa.jsx)("div",{style:{height:24},children:t.cloneElement(e.Icon,{color:e.color})})})}),(function(e,t){return e.load.toFixed(1)===t.load.toFixed(1)&&e.capacity===t.capacity&&e.color===t.color})),Ch=t.memo((function(e){return(0,oa.jsx)("path",{fill:"none",stroke:e.stroke,strokeWidth:"3",d:Oh(30,30,e.radius,e.angle-9,e.angle+9)})})),Eh=function(e){var n=Lr(),r=(0,t.useState)([]),i=(0,fn.Z)(r,2),o=i[0],a=i[1],s=(0,t.useState)(360),l=(0,fn.Z)(s,2),u=l[0],c=l[1];return(0,t.useEffect)((function(){a(new Array(Math.floor(e.numOfColumn)).fill(!1).map((function(e,t,n){return 360*(t+1)/n.length}))),c(360/e.numOfColumn)}),[e.numOfColumn]),(0,oa.jsx)("div",{style:{position:"relative"},children:(0,oa.jsx)("svg",{style:{position:"absolute"},children:o.map((function(t){return(0,oa.jsx)(Ch,{stroke:Lh(e,t,u,n),radius:5*e.layerCount,angle:t},"layer".concat(e.layerCount,"angle").concat(t))}))})})},Th=function(e){var n=(0,t.useState)((0,nr.Z)(Array(4).keys()).map((function(e){return e+2}))),r=(0,fn.Z)(n,2),i=r[0];r[1];return(0,oa.jsx)("div",{style:{width:60,height:60},children:i.map((function(t){return(0,oa.jsx)(Eh,{numOfColumn:e.numOfColumn,layerCount:t,value:e.value},"layer".concat(t))}))})};function Ph(e){var n,r,i,o,a,s,l,u,c,d,f,h,p=Lr();xh();return(0,oa.jsx)(t.Fragment,{children:!!e.summaries&&(0,oa.jsxs)(Gu,{container:!0,children:[(0,oa.jsx)(Sh,{color:e.color,summary:e.summaries.summary,maximumVelocity:null===(n=e.summaries.summary)||void 0===n?void 0:n.capacity.propulsion.maximumVelocity,signatureRadius:null===(r=e.summaries.summary)||void 0===r?void 0:r.capacity.misc.signatureRadius,isDead:0===(null===(i=e.summaries.summary)||void 0===i?void 0:i.load.structure.HP)}),(0,oa.jsx)(Gu,{style:{width:80},item:!0,container:!0,justifyContent:"center",alignContent:"center",children:(0,oa.jsx)(Th,{value:(null===(o=e.summaries.summary)||void 0===o?void 0:o.load.capacitor.HP)/(null===(a=e.summaries.summary)||void 0===a?void 0:a.capacity.capacitor.HP)*100,numOfColumn:Math.min((null===(s=e.summaries.summary)||void 0===s?void 0:s.capacity.capacitor.HP)/50,18)})}),(0,oa.jsx)(Gu,{style:{width:1,borderRight:"dashed ".concat(p.palette.divider," 0.1px")}}),(0,oa.jsxs)(Gu,{style:{flex:1,position:"relative"},children:[(0,oa.jsx)(kh,{load:null===(l=e.summaries.summary)||void 0===l?void 0:l.load.shield.HP,capacity:null===(u=e.summaries.summary)||void 0===u?void 0:u.capacity.shield.HP,Icon:(0,oa.jsx)(Jc,{}),color:p.palette.text.primary}),(0,oa.jsx)(kh,{load:null===(c=e.summaries.summary)||void 0===c?void 0:c.load.armor.HP,capacity:null===(d=e.summaries.summary)||void 0===d?void 0:d.capacity.armor.HP,Icon:(0,oa.jsx)($c,{}),color:p.palette.text.primary}),(0,oa.jsx)(kh,{load:null===(f=e.summaries.summary)||void 0===f?void 0:f.load.structure.HP,capacity:null===(h=e.summaries.summary)||void 0===h?void 0:h.capacity.structure.HP,Icon:(0,oa.jsx)(ed,{}),color:p.palette.text.primary})]})]})})}function Ih(e){var t=e.itemID;return(0,oa.jsx)("img",{draggable:"false",style:{width:50,height:50},src:"https://images.evetech.net/types/".concat(t,"/icon?size=128")})}function Rh(e,t,n,r){var i=(r-90)*Math.PI/180;return{x:e-n*Math.cos(i),y:t+n*Math.sin(i)}}function Oh(e,t,n,r,i){var o=Rh(e,t,n,i),a=Rh(e,t,n,r);return["M",a.x,a.y,"A",n,n,0,0,0,o.x,o.y].join(" ")}function Lh(e,t,n,r){return 3.601*e.value>t-(5-e.layerCount)*(n/4)?r.palette.property.org:r.palette.action.opaqueHover}var Dh=function(e,t){var n;switch(t.type){case"initialize":return t.payload;case"reset_logQueue":return e.utils.logQueue=[],(0,Zn.Z)({},e);case"moduleSet_update_activation":return t.payload.moduleSet.forEach((function(e){e.summary.activationState.isActive=t.payload.isActive})),(0,Zn.Z)({},e);case"activationLeft_active_discharge":return t.payload.moduleSet.forEach((function(e){e.summary.activationState.activationLeft=Math.max(e.summary.activationState.activationLeft-1,0)})),(0,Zn.Z)({},e);case"activationLeft_active_charge":return t.payload.moduleSet.forEach((function(e){e.summary.activationState.activationLeft=e.summary.activationInfo.activationLimit})),(0,Zn.Z)({},e);case"summary_load_apply_delta":var r=jh(e);if(e.summary.load.shield.HP=Ah(e,t,"shield"),e.summary.load.armor.HP=Ah(e,t,"armor"),e.summary.load.structure.HP=Ah(e,t,"structure"),e.summary.load.capacitor.HP=Ah(e,t,"capacitor"),t.operation){var i=jh(e)-r;e.utils.logQueue=[].concat((0,nr.Z)(e.utils.logQueue),[Zh(e,t,i)])}return(0,Zn.Z)({},e);case"summary_update_ship":var o=function(e){ya.Z.mapSlots(e,(function(t){if(t.summary){var n=Mh(e.utils.slots,t.summary.path);n.item.typeState&&t.summary.activationState&&(n.item.typeState=t.summary.activationState.isActive?"activation":"passive")}}),{isIterate:{midSlots:!0,lowSlots:!0,highSlots:!0}});var t=ya.Z.apply(e.utils.slots);return jf.getSummary_ship(t,e.summary.location)}(e);return e.summary.capacity=o.capacity,(0,Zn.Z)({},e);case"summary_update_item":var a=function(e,t){var n=Mh(e.utils.slots,t.moduleSet[0].summary.path),r=n.charge;0===t.moduleSet[0].summary.activationState.activationLeft&&(n.charge=!1);var i=ya.Z.apply(e.utils.slots);return n.charge=r,jf.getSummary_module(Mh(i,t.moduleSet[0].summary.path))}(e,t.payload),s=Mh(e,a.path);return a.load=s.summary.load,a.root=s.summary.root,a.target=s.summary.target,a.activationState.isActive=s.summary.activationState.isActive,s.summary=a,(0,Zn.Z)({},e);case"summary_update_exSlots":return function(e,t){if(!e.utils.slots)return;e.utils.slots.exSlots||(e.utils.slots.exSlots=[]);var n=e.utils.slots.exSlots.findIndex((function(e){return e.item.rootID===t.payload.exSlot.item.rootID&&e.item.domainID===t.payload.exSlot.item.domainID}));if(!0===t.payload.isActive){if(n>=0)return e;t.payload.exSlot.item.typeState="activation",e.utils.slots.exSlots.push(t.payload.exSlot)}else{if(n<0)return e;t.payload.exSlot.item.typeState="passive",e.utils.slots.exSlots.splice(n,1)}var r=jf.updateSummaries(e.utils.slots,e.summary.location);e.summary.capacity=r.summary.capacity,ya.Z.mapSlots(r,(function(t){if(t.summary){var n=Mh(e,t.summary.path);t.summary.activationInfo=n.summary.activationInfo,t.summary.activationState=n.summary.activationState,t.summary.load=n.summary.load,t.summary.root=n.summary.root,t.summary.target=n.summary.target,n.summary=t.summary}}),{isIterate:{midSlots:!0,lowSlots:!0,highSlots:!0,droneSlots:!0}})}(e,t),(0,Zn.Z)({},e);case"summary_update_location":return null!==(n=e.summary)&&void 0!==n&&n.location?(e.summary.location=t.payload,(0,Zn.Z)({},e)):e;default:return console.error("ERR NO KNOWN CASE IN ShipPanel.js"),e}};function Nh(e){var n,r,i,o=(0,t.useReducer)(Dh,!1),a=(0,fn.Z)(o,2),s=a[0],l=a[1],u=(0,t.useState)(!1),c=(0,fn.Z)(u,2),d=c[0],f=c[1];return(0,t.useEffect)((function(){s&&e.dispatchLog&&s.utils.logQueue.length>0&&(e.dispatchLog({type:"update",payload:s.utils.logQueue}),l({type:"reset_logQueue"}))}),[null===(n=s.utils)||void 0===n?void 0:n.logQueue]),(0,t.useEffect)((function(){e.shareDispatchSummaries((function(){return l}))}),[l]),(0,t.useEffect)((function(){var t;if(null!==(t=e.slots)&&void 0!==t&&t.ship){var n=jf.getSummaries(e.slots,e.location);n.utils.logQueue=[],l({type:"initialize",payload:n}),e.shareSummaries(n),f(!d)}}),[e.updateFlag]),(0,t.useEffect)((function(){l({type:"summary_update_location",payload:e.location})}),[e.location]),(0,t.useEffect)((function(){s.summary&&e.shareSummaries(s)}),[null===(r=s.summary)||void 0===r?void 0:r.capacity]),(0,t.useEffect)((function(){Qf.getSchedules_setTarget(s,e.targetSummaries)}),[e.targetSummaries]),!(null===(i=e.slots)||void 0===i||!i.ship)&&(0,oa.jsxs)(t.Fragment,{children:[(0,oa.jsx)(Gu,{xs:12,container:!0,item:!0,justifyContent:"center",children:(0,oa.jsx)(Ph,{summaries:s,color:e.color})}),(0,oa.jsx)(Gu,{xs:12,container:!0,item:!0,justifyContent:"center",children:(0,oa.jsx)(bh,{summaries:s,dispatchSummaries:l,dispatchTargetSummaries:e.dispatchTargetSummaries,updateFlag:d})})]})}function Ah(e,t,n){var r=e.summary.load["".concat(n)].HP,i=t.payload["".concat(n,"Delta")],o=e.summary.capacity["".concat(n)].HP;if(!i)return r;var a=r+i;return a>o?o:a<0?0:a}function Mh(e,t){return e&&t?t.split(".").reduce((function(e,t){return e&&e[t]||void 0}),e):{}}function Zh(e,t,n){return{rootID:e.summary.location.rootID,delta:n,summary:t.payload.summary,ID:Date.now(),debugs:t.payload.debugs}}function jh(e){return e.summary.load.shield.HP+e.summary.load.armor.HP+e.summary.load.structure.HP+e.summary.load.capacitor.HP}var Fh=n(587),zh=Math.PI/180;var Bh="undefined"!==typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope?self:{},Hh={_global:Bh,version:"8.3.2",isBrowser:"undefined"!==typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(e){}.toString()),dblClickWindow:400,getAngle:function(e){return Hh.angleDeg?e*zh:e},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:"undefined"!==typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:function(){return Hh.DD.isDragging},isDragReady:function(){return!!Hh.DD.node},document:Bh.document,_injectGlobal:function(e){Bh.Konva=e}},Wh=function(e){Hh[e.prototype.getClassName()]=e};Hh._injectGlobal(Hh);var Uh=n(3878),Gh=n(9199),qh=n(5267);var Vh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1,0,0,1,0,0];(0,gn.Z)(this,e),this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}return(0,yn.Z)(e,[{key:"reset",value:function(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}},{key:"copy",value:function(){return new e(this.m)}},{key:"copyInto",value:function(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}},{key:"point",value:function(e){var t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}},{key:"translate",value:function(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}},{key:"scale",value:function(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.m[0]*t+this.m[2]*n,i=this.m[1]*t+this.m[3]*n,o=this.m[0]*-n+this.m[2]*t,a=this.m[1]*-n+this.m[3]*t;return this.m[0]=r,this.m[1]=i,this.m[2]=o,this.m[3]=a,this}},{key:"getTranslation",value:function(){return{x:this.m[4],y:this.m[5]}}},{key:"skew",value:function(e,t){var n=this.m[0]+this.m[2]*t,r=this.m[1]+this.m[3]*t,i=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=o,this}},{key:"multiply",value:function(e){var t=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],r=this.m[0]*e.m[2]+this.m[2]*e.m[3],i=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=a,this}},{key:"invert",value:function(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,n=-this.m[1]*e,r=-this.m[2]*e,i=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=a,this}},{key:"getMatrix",value:function(){return this.m}},{key:"setAbsolutePosition",value:function(e,t){var n=this.m[0],r=this.m[1],i=this.m[2],o=this.m[3],a=this.m[4],s=(n*(t-this.m[5])-r*(e-a))/(n*o-r*i),l=(e-a-i*s)/n;return this.translate(l,s)}},{key:"decompose",value:function(){var e=this.m[0],t=this.m[1],n=this.m[2],r=this.m[3],i=e*r-t*n,o={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=e||0!=t){var a=Math.sqrt(e*e+t*t);o.rotation=t>0?Math.acos(e/a):-Math.acos(e/a),o.scaleX=a,o.scaleY=i/a,o.skewX=(e*n+t*r)/i,o.skewY=0}else if(0!=n||0!=r){var s=Math.sqrt(n*n+r*r);o.rotation=Math.PI/2-(r>0?Math.acos(-n/s):-Math.acos(n/s)),o.scaleX=i/s,o.scaleY=s,o.skewX=0,o.skewY=(e*n+t*r)/i}return o.rotation=tp._getRotation(o.rotation),o}}]),e}(),Yh=Math.PI/180,Kh=180/Math.PI,Xh="Konva error: ",Qh={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},$h=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,Jh=[],ep="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame||function(e){setTimeout(e,60)},tp={_isElement:function(e){return!(!e||1!=e.nodeType)},_isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},_isPlainObject:function(e){return!!e&&e.constructor===Object},_isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},_isNumber:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&!isNaN(e)&&isFinite(e)},_isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},_isBoolean:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},isObject:function(e){return e instanceof Object},isValidSelector:function(e){if("string"!==typeof e)return!1;var t=e[0];return"#"===t||"."===t||t===t.toUpperCase()},_sign:function(e){return 0===e||e>0?1:-1},requestAnimFrame:function(e){Jh.push(e),1===Jh.length&&ep((function(){var e=Jh;Jh=[],e.forEach((function(e){e()}))}))},createCanvasElement:function(){var e=document.createElement("canvas");try{e.style=e.style||{}}catch(t){}return e},createImageElement:function(){return document.createElement("img")},_isInDocument:function(e){for(;e=e.parentNode;)if(e==document)return!0;return!1},_urlToImage:function(e,t){var n=tp.createImageElement();n.onload=function(){t(n)},n.src=e},_rgbToHex:function(e,t,n){return((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)},_hexToRgb:function(e){e=e.replace("#","");var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor:function(){for(var e=(16777215*Math.random()<<0).toString(16);e.length<6;)e="0"+e;return"#"+e},getRGB:function(e){var t;return e in Qh?{r:(t=Qh[e])[0],g:t[1],b:t[2]}:"#"===e[0]?this._hexToRgb(e.substring(1)):"rgb("===e.substr(0,4)?(t=$h.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(e){return e=e||"black",tp._namedColorToRBA(e)||tp._hex3ColorToRGBA(e)||tp._hex6ColorToRGBA(e)||tp._rgbColorToRGBA(e)||tp._rgbaColorToRGBA(e)||tp._hslColorToRGBA(e)},_namedColorToRBA:function(e){var t=Qh[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA:function(e){if(0===e.indexOf("rgb(")){var t=(e=e.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA:function(e){if(0===e.indexOf("rgba(")){var t=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map((function(e,t){return"%"===e.slice(-1)?3===t?parseInt(e)/100:parseInt(e)/100*255:Number(e)}));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex6ColorToRGBA:function(e){if("#"===e[0]&&7===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(e){if("#"===e[0]&&4===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_hslColorToRGBA:function(e){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(e)){var t,n,r,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e),o=(h=i,(0,Uh.Z)(h)||(0,Gh.Z)(h)||(0,Lu.Z)(h)||(0,qh.Z)()),a=(o[0],o.slice(1)),s=Number(a[0])/360,l=Number(a[1])/100,u=Number(a[2])/100;if(0===l)return r=255*u,{r:Math.round(r),g:Math.round(r),b:Math.round(r),a:1};for(var c=2*u-(t=u<.5?u*(1+l):u+l-u*l),d=[0,0,0],f=0;f<3;f++)(n=s+1/3*-(f-1))<0&&n++,n>1&&n--,r=6*n<1?c+6*(t-c)*n:2*n<1?t:3*n<2?c+(t-c)*(2/3-n)*6:c,d[f]=255*r;return{r:Math.round(d[0]),g:Math.round(d[1]),b:Math.round(d[2]),a:1}}var h},haveIntersection:function(e,t){return!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y)},cloneObject:function(e){var t={};for(var n in e)this._isPlainObject(e[n])?t[n]=this.cloneObject(e[n]):this._isArray(e[n])?t[n]=this.cloneArray(e[n]):t[n]=e[n];return t},cloneArray:function(e){return e.slice(0)},degToRad:function(e){return e*Yh},radToDeg:function(e){return e*Kh},_degToRad:function(e){return tp.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),tp.degToRad(e)},_radToDeg:function(e){return tp.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),tp.radToDeg(e)},_getRotation:function(e){return Hh.angleDeg?tp.radToDeg(e):e},_capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},throw:function(e){throw new Error(Xh+e)},error:function(e){console.error(Xh+e)},warn:function(e){Hh.showWarnings&&console.warn("Konva warning: "+e)},each:function(e,t){for(var n in e)t(n,e[n])},_inRange:function(e,t,n){return t<=e&&e<n},_getProjectionToSegment:function(e,t,n,r,i,o){var a,s,l,u=(e-n)*(e-n)+(t-r)*(t-r);if(0==u)a=e,s=t,l=(i-n)*(i-n)+(o-r)*(o-r);else{var c=((i-e)*(n-e)+(o-t)*(r-t))/u;c<0?(a=e,s=t,l=(e-i)*(e-i)+(t-o)*(t-o)):c>1?(a=n,s=r,l=(n-i)*(n-i)+(r-o)*(r-o)):l=((a=e+c*(n-e))-i)*(a-i)+((s=t+c*(r-t))-o)*(s-o)}return[a,s,l]},_getProjectionToLine:function(e,t,n){var r=tp.cloneObject(e),i=Number.MAX_VALUE;return t.forEach((function(o,a){if(n||a!==t.length-1){var s=t[(a+1)%t.length],l=tp._getProjectionToSegment(o.x,o.y,s.x,s.y,e.x,e.y),u=l[0],c=l[1],d=l[2];d<i&&(r.x=u,r.y=c,i=d)}})),r},_prepareArrayForTween:function(e,t,n){var r,i=[],o=[];if(e.length>t.length){var a=t;t=e,e=a}for(r=0;r<e.length;r+=2)i.push({x:e[r],y:e[r+1]});for(r=0;r<t.length;r+=2)o.push({x:t[r],y:t[r+1]});var s=[];return o.forEach((function(e){var t=tp._getProjectionToLine(e,i,n);s.push(t.x),s.push(t.y)})),s},_prepareToStringify:function(e){var t;for(var n in e.visitedByCircularReferenceRemoval=!0,e)if(e.hasOwnProperty(n)&&e[n]&&"object"==typeof e[n])if(t=Object.getOwnPropertyDescriptor(e,n),e[n].visitedByCircularReferenceRemoval||tp._isElement(e[n])){if(!t.configurable)return null;delete e[n]}else if(null===tp._prepareToStringify(e[n])){if(!t.configurable)return null;delete e[n]}return delete e.visitedByCircularReferenceRemoval,e},_assign:function(e,t){for(var n in t)e[n]=t[n];return e},_getFirstPointerId:function(e){return e.touches?e.changedTouches[0].identifier:e.pointerId||999}};function np(e){return tp._isString(e)?'"'+e+'"':"[object Number]"===Object.prototype.toString.call(e)||tp._isBoolean(e)?e:Object.prototype.toString.call(e)}function rp(e){return e>255?255:e<0?0:Math.round(e)}function ip(){if(Hh.isUnminified)return function(e,t){return tp._isNumber(e)||tp.warn(np(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}}function op(e){if(Hh.isUnminified)return function(t,n){var r=tp._isNumber(t),i=tp._isArray(t)&&t.length==e;return r||i||tp.warn(np(t)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+e+")"),t}}function ap(){if(Hh.isUnminified)return function(e,t){return tp._isNumber(e)||"auto"===e||tp.warn(np(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}}function sp(){if(Hh.isUnminified)return function(e,t){return tp._isString(e)||tp.warn(np(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}}function lp(){if(Hh.isUnminified)return function(e,t){var n=tp._isString(e),r="[object CanvasGradient]"===Object.prototype.toString.call(e)||e&&e.addColorStop;return n||r||tp.warn(np(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}}function up(){if(Hh.isUnminified)return function(e,t){return!0===e||!1===e||tp.warn(np(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}}var cp="get",dp="set",fp={addGetterSetter:function(e,t,n,r,i){fp.addGetter(e,t,n),fp.addSetter(e,t,r,i),fp.addOverloadedGetterSetter(e,t)},addGetter:function(e,t,n){var r=cp+tp._capitalize(t);e.prototype[r]=e.prototype[r]||function(){var e=this.attrs[t];return void 0===e?n:e}},addSetter:function(e,t,n,r){var i=dp+tp._capitalize(t);e.prototype[i]||fp.overWriteSetter(e,t,n,r)},overWriteSetter:function(e,t,n,r){var i=dp+tp._capitalize(t);e.prototype[i]=function(e){return n&&void 0!==e&&null!==e&&(e=n.call(this,e,t)),this._setAttr(t,e),r&&r.call(this),this}},addComponentsGetterSetter:function(e,t,n,r,i){var o,a,s=n.length,l=tp._capitalize,u=cp+l(t),c=dp+l(t);e.prototype[u]=function(){var e={};for(o=0;o<s;o++)e[a=n[o]]=this.getAttr(t+l(a));return e};var d=function(e){if(Hh.isUnminified)return function(t,n){return tp.isObject(t)||tp.warn(np(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}}(n);e.prototype[c]=function(e){var n,o=this.attrs[t];for(n in r&&(e=r.call(this,e)),d&&d.call(this,e,t),e)e.hasOwnProperty(n)&&this._setAttr(t+l(n),e[n]);return this._fireChangeEvent(t,o,e),i&&i.call(this),this},fp.addOverloadedGetterSetter(e,t)},addOverloadedGetterSetter:function(e,t){var n=tp._capitalize(t),r=dp+n,i=cp+n;e.prototype[t]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter:function(e,t,n,r){tp.error("Adding deprecated "+t);var i=cp+tp._capitalize(t),o=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[i]=function(){tp.error(o);var e=this.attrs[t];return void 0===e?n:e},fp.addSetter(e,t,r,(function(){tp.error(o)})),fp.addOverloadedGetterSetter(e,t)},backCompat:function(e,t){tp.each(t,(function(t,n){var r=e.prototype[n],i=cp+tp._capitalize(t),o=dp+tp._capitalize(t);function a(){r.apply(this,arguments),tp.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}e.prototype[t]=a,e.prototype[i]=a,e.prototype[o]=a}))},afterSetFilter:function(){this._filterUpToDate=!1}};function hp(e){var t,n,r=[],i=e.length,o=tp;for(t=0;t<i;t++)n=e[t],o._isNumber(n)?n=Math.round(1e3*n)/1e3:o._isString(n)||(n+=""),r.push(n);return r}var pp=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],vp=function(){function e(t){(0,gn.Z)(this,e),this.canvas=t,this._context=t._canvas.getContext("2d"),Hh.enableTrace&&(this.traceArr=[],this._enableTrace())}return(0,yn.Z)(e,[{key:"fillShape",value:function(e){e.fillEnabled()&&this._fill(e)}},{key:"_fill",value:function(e){}},{key:"strokeShape",value:function(e){e.hasStroke()&&this._stroke(e)}},{key:"_stroke",value:function(e){}},{key:"fillStrokeShape",value:function(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}},{key:"getTrace",value:function(e,t){var n,r,i,o,a=this.traceArr,s=a.length,l="";for(n=0;n<s;n++)(i=(r=a[n]).method)?(o=r.args,l+=i,e?l+="()":tp._isArray(o[0])?l+="(["+o.join(",")+"])":(t&&(o=o.map((function(e){return"number"===typeof e?Math.floor(e):e}))),l+="("+o.join(",")+")")):(l+=r.property,e||(l+="="+r.val)),l+=";";return l}},{key:"clearTrace",value:function(){this.traceArr=[]}},{key:"_trace",value:function(e){var t=this.traceArr;t.push(e),t.length>=100&&t.shift()}},{key:"reset",value:function(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}},{key:"getCanvas",value:function(){return this.canvas}},{key:"clear",value:function(e){var t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}},{key:"_applyLineCap",value:function(e){var t=e.getLineCap();t&&this.setAttr("lineCap",t)}},{key:"_applyOpacity",value:function(e){var t=e.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)}},{key:"_applyLineJoin",value:function(e){var t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}},{key:"setAttr",value:function(e,t){this._context[e]=t}},{key:"arc",value:function(e,t,n,r,i,o){this._context.arc(e,t,n,r,i,o)}},{key:"arcTo",value:function(e,t,n,r,i){this._context.arcTo(e,t,n,r,i)}},{key:"beginPath",value:function(){this._context.beginPath()}},{key:"bezierCurveTo",value:function(e,t,n,r,i,o){this._context.bezierCurveTo(e,t,n,r,i,o)}},{key:"clearRect",value:function(e,t,n,r){this._context.clearRect(e,t,n,r)}},{key:"clip",value:function(){this._context.clip()}},{key:"closePath",value:function(){this._context.closePath()}},{key:"createImageData",value:function(e,t){var n=arguments;return 2===n.length?this._context.createImageData(e,t):1===n.length?this._context.createImageData(e):void 0}},{key:"createLinearGradient",value:function(e,t,n,r){return this._context.createLinearGradient(e,t,n,r)}},{key:"createPattern",value:function(e,t){return this._context.createPattern(e,t)}},{key:"createRadialGradient",value:function(e,t,n,r,i,o){return this._context.createRadialGradient(e,t,n,r,i,o)}},{key:"drawImage",value:function(e,t,n,r,i,o,a,s,l){var u=arguments,c=this._context;3===u.length?c.drawImage(e,t,n):5===u.length?c.drawImage(e,t,n,r,i):9===u.length&&c.drawImage(e,t,n,r,i,o,a,s,l)}},{key:"ellipse",value:function(e,t,n,r,i,o,a,s){this._context.ellipse(e,t,n,r,i,o,a,s)}},{key:"isPointInPath",value:function(e,t){return this._context.isPointInPath(e,t)}},{key:"fill",value:function(e){e?this._context.fill(e):this._context.fill()}},{key:"fillRect",value:function(e,t,n,r){this._context.fillRect(e,t,n,r)}},{key:"strokeRect",value:function(e,t,n,r){this._context.strokeRect(e,t,n,r)}},{key:"fillText",value:function(e,t,n,r){r?this._context.fillText(e,t,n,r):this._context.fillText(e,t,n)}},{key:"measureText",value:function(e){return this._context.measureText(e)}},{key:"getImageData",value:function(e,t,n,r){return this._context.getImageData(e,t,n,r)}},{key:"lineTo",value:function(e,t){this._context.lineTo(e,t)}},{key:"moveTo",value:function(e,t){this._context.moveTo(e,t)}},{key:"rect",value:function(e,t,n,r){this._context.rect(e,t,n,r)}},{key:"putImageData",value:function(e,t,n){this._context.putImageData(e,t,n)}},{key:"quadraticCurveTo",value:function(e,t,n,r){this._context.quadraticCurveTo(e,t,n,r)}},{key:"restore",value:function(){this._context.restore()}},{key:"rotate",value:function(e){this._context.rotate(e)}},{key:"save",value:function(){this._context.save()}},{key:"scale",value:function(e,t){this._context.scale(e,t)}},{key:"setLineDash",value:function(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}},{key:"getLineDash",value:function(){return this._context.getLineDash()}},{key:"setTransform",value:function(e,t,n,r,i,o){this._context.setTransform(e,t,n,r,i,o)}},{key:"stroke",value:function(e){e?this._context.stroke(e):this._context.stroke()}},{key:"strokeText",value:function(e,t,n,r){this._context.strokeText(e,t,n,r)}},{key:"transform",value:function(e,t,n,r,i,o){this._context.transform(e,t,n,r,i,o)}},{key:"translate",value:function(e,t){this._context.translate(e,t)}},{key:"_enableTrace",value:function(){var e,t,n=this,r=pp.length,i=this.setAttr,o=function(e){var r,i=n[e];n[e]=function(){return t=hp(Array.prototype.slice.call(arguments,0)),r=i.apply(n,arguments),n._trace({method:e,args:t}),r}};for(e=0;e<r;e++)o(pp[e]);n.setAttr=function(){i.apply(n,arguments);var e=arguments[0],t=arguments[1];"shadowOffsetX"!==e&&"shadowOffsetY"!==e&&"shadowBlur"!==e||(t/=this.canvas.getPixelRatio()),n._trace({property:e,val:t})}}},{key:"_applyGlobalCompositeOperation",value:function(e){var t=e.attrs.globalCompositeOperation;!t||"source-over"===t||this.setAttr("globalCompositeOperation",t)}}]),e}();["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(e){Object.defineProperty(vp.prototype,e,{get:function(){return this._context[e]},set:function(t){this._context[e]=t}})}));var mp,gp=function(e){Lf(n,e);var t=Af(n);function n(){return(0,gn.Z)(this,n),t.apply(this,arguments)}return(0,yn.Z)(n,[{key:"_fillColor",value:function(e){var t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}},{key:"_fillPattern",value:function(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}},{key:"_fillLinearGradient",value:function(e){var t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}},{key:"_fillRadialGradient",value:function(e){var t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}},{key:"_fill",value:function(e){var t=e.fill(),n=e.getFillPriority();if(t&&"color"===n)this._fillColor(e);else{var r=e.getFillPatternImage();if(r&&"pattern"===n)this._fillPattern(e);else{var i=e.getFillLinearGradientColorStops();if(i&&"linear-gradient"===n)this._fillLinearGradient(e);else{var o=e.getFillRadialGradientColorStops();o&&"radial-gradient"===n?this._fillRadialGradient(e):t?this._fillColor(e):r?this._fillPattern(e):i?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}}}}},{key:"_strokeLinearGradient",value:function(e){var t=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),r=e.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(t.x,t.y,n.x,n.y);if(r){for(var o=0;o<r.length;o+=2)i.addColorStop(r[o],r[o+1]);this.setAttr("strokeStyle",i)}}},{key:"_stroke",value:function(e){var t=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}}},{key:"_applyShadow",value:function(e){var t,n,r,i=null!==(t=e.getShadowRGBA())&&void 0!==t?t:"black",o=null!==(n=e.getShadowBlur())&&void 0!==n?n:5,a=null!==(r=e.getShadowOffset())&&void 0!==r?r:{x:0,y:0},s=e.getAbsoluteScale(),l=this.canvas.getPixelRatio(),u=s.x*l,c=s.y*l;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",o*Math.min(Math.abs(u),Math.abs(c))),this.setAttr("shadowOffsetX",a.x*u),this.setAttr("shadowOffsetY",a.y*c)}}]),n}(vp),yp=function(e){Lf(n,e);var t=Af(n);function n(){return(0,gn.Z)(this,n),t.apply(this,arguments)}return(0,yn.Z)(n,[{key:"_fill",value:function(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}},{key:"strokeShape",value:function(e){e.hasHitStroke()&&this._stroke(e)}},{key:"_stroke",value:function(e){if(e.hasHitStroke()){var t=e.getStrokeScaleEnabled();if(!t){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(e);var r=e.hitStrokeWidth(),i="auto"===r?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}}]),n}(vp);var bp=function(){function e(t){(0,gn.Z)(this,e),this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var n=(t||{}).pixelRatio||Hh.pixelRatio||function(){if(mp)return mp;var e=tp.createCanvasElement().getContext("2d");return mp=(Hh._global.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}();this.pixelRatio=n,this._canvas=tp.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}return(0,yn.Z)(e,[{key:"getContext",value:function(){return this.context}},{key:"getPixelRatio",value:function(){return this.pixelRatio}},{key:"setPixelRatio",value:function(e){var t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}},{key:"setWidth",value:function(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)}},{key:"setHeight",value:function(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"setSize",value:function(e,t){this.setWidth(e||0),this.setHeight(t||0)}},{key:"toDataURL",value:function(e,t){try{return this._canvas.toDataURL(e,t)}catch(n){try{return this._canvas.toDataURL()}catch(r){return tp.error("Unable to get data URL. "+r.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}]),e}();fp.addGetterSetter(bp,"pixelRatio",void 0,ip());var _p=function(e){Lf(n,e);var t=Af(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:0,height:0};return(0,gn.Z)(this,n),(e=t.call(this,r)).context=new gp((0,ti.Z)(e)),e.setSize(r.width,r.height),e}return(0,yn.Z)(n)}(bp),xp=function(e){Lf(n,e);var t=Af(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:0,height:0};return(0,gn.Z)(this,n),(e=t.call(this,r)).hitCanvas=!0,e.context=new yp((0,ti.Z)(e)),e.setSize(r.width,r.height),e}return(0,yn.Z)(n)}(bp),wp={get isDragging(){var e=!1;return wp._dragElements.forEach((function(t){"dragging"===t.dragStatus&&(e=!0)})),e},justDragged:!1,get node(){var e;return wp._dragElements.forEach((function(t){e=t.node})),e},_dragElements:new Map,_drag:function(e){var t=[];wp._dragElements.forEach((function(n,r){var i=n.node,o=i.getStage();o.setPointersPositions(e),void 0===n.pointerId&&(n.pointerId=tp._getFirstPointerId(e));var a=o._changedPointerPositions.find((function(e){return e.id===n.pointerId}));if(a){if("dragging"!==n.dragStatus){var s=i.dragDistance();if(Math.max(Math.abs(a.x-n.startPointerPos.x),Math.abs(a.y-n.startPointerPos.y))<s)return;if(i.startDrag({evt:e}),!i.isDragging())return}i._setDragPosition(e,n),t.push(i)}})),t.forEach((function(t){t.fire("dragmove",{type:"dragmove",target:t,evt:e},!0)}))},_endDragBefore:function(e){wp._dragElements.forEach((function(t){var n=t.node.getStage();if(e&&n.setPointersPositions(e),n._changedPointerPositions.find((function(e){return e.id===t.pointerId}))){"dragging"!==t.dragStatus&&"stopped"!==t.dragStatus||(wp.justDragged=!0,Hh._mouseListenClick=!1,Hh._touchListenClick=!1,Hh._pointerListenClick=!1,t.dragStatus="stopped");var r=t.node.getLayer()||t.node instanceof Hh.Stage&&t.node;r&&r.batchDraw()}}))},_endDragAfter:function(e){wp._dragElements.forEach((function(t,n){"stopped"===t.dragStatus&&t.node.fire("dragend",{type:"dragend",target:t.node,evt:e},!0),"dragging"!==t.dragStatus&&wp._dragElements.delete(n)}))}};Hh.isBrowser&&(window.addEventListener("mouseup",wp._endDragBefore,!0),window.addEventListener("touchend",wp._endDragBefore,!0),window.addEventListener("mousemove",wp._drag),window.addEventListener("touchmove",wp._drag),window.addEventListener("mouseup",wp._endDragAfter,!1),window.addEventListener("touchend",wp._endDragAfter,!1));var Sp="absoluteOpacity",kp="allEventListeners",Cp="absoluteTransform",Ep="absoluteScale",Tp="canvas",Pp="listening",Ip="mouseenter",Rp="mouseleave",Op="Shape",Lp=" ",Dp="stage",Np="transform",Ap="visible",Mp=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Lp),Zp=1,jp=function(){function e(t){(0,gn.Z)(this,e),this._id=Zp++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}return(0,yn.Z)(e,[{key:"hasChildren",value:function(){return!1}},{key:"_clearCache",value:function(e){e!==Np&&e!==Cp||!this._cache.get(e)?e?this._cache.delete(e):this._cache.clear():this._cache.get(e).dirty=!0}},{key:"_getCache",value:function(e,t){var n=this._cache.get(e);return(void 0===n||(e===Np||e===Cp)&&!0===n.dirty)&&(n=t.call(this),this._cache.set(e,n)),n}},{key:"_calculate",value:function(e,t,n){var r=this;if(!this._attachedDepsListeners.get(e)){var i=t.map((function(e){return e+"Change.konva"})).join(Lp);this.on(i,(function(){r._clearCache(e)})),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,n)}},{key:"_getCanvasCache",value:function(){return this._cache.get(Tp)}},{key:"_clearSelfAndDescendantCache",value:function(e){this._clearCache(e),e===Cp&&this.fire("absoluteTransformChange")}},{key:"clearCache",value:function(){return this._cache.delete(Tp),this._clearSelfAndDescendantCache(),this._requestDraw(),this}},{key:"cache",value:function(e){var t=e||{},n={};void 0!==t.x&&void 0!==t.y&&void 0!==t.width&&void 0!==t.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var r=Math.ceil(t.width||n.width),i=Math.ceil(t.height||n.height),o=t.pixelRatio,a=void 0===t.x?n.x:t.x,s=void 0===t.y?n.y:t.y,l=t.offset||0,u=t.drawBorder||!1,c=t.hitCanvasPixelRatio||1;if(r&&i){a-=l,s-=l;var d=new _p({pixelRatio:o,width:r+=2*l,height:i+=2*l}),f=new _p({pixelRatio:o,width:0,height:0}),h=new xp({pixelRatio:c,width:r,height:i}),p=d.getContext(),v=h.getContext();return h.isCache=!0,d.isCache=!0,this._cache.delete(Tp),this._filterUpToDate=!1,!1===t.imageSmoothingEnabled&&(d.getContext()._context.imageSmoothingEnabled=!1,f.getContext()._context.imageSmoothingEnabled=!1),p.save(),v.save(),p.translate(-a,-s),v.translate(-a,-s),this._isUnderCache=!0,this._clearSelfAndDescendantCache(Sp),this._clearSelfAndDescendantCache(Ep),this.drawScene(d,this),this.drawHit(h,this),this._isUnderCache=!1,p.restore(),v.restore(),u&&(p.save(),p.beginPath(),p.rect(0,0,r,i),p.closePath(),p.setAttr("strokeStyle","red"),p.setAttr("lineWidth",5),p.stroke(),p.restore()),this._cache.set(Tp,{scene:d,filter:f,hit:h,x:a,y:s}),this._requestDraw(),this}tp.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}},{key:"isCached",value:function(){return this._cache.has(Tp)}},{key:"getClientRect",value:function(e){throw new Error('abstract "getClientRect" method call')}},{key:"_transformedRect",value:function(e,t){var n,r,i,o,a=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],s=this.getAbsoluteTransform(t);return a.forEach((function(e){var t=s.point(e);void 0===n&&(n=i=t.x,r=o=t.y),n=Math.min(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.x),o=Math.max(o,t.y)})),{x:n,y:r,width:i-n,height:o-r}}},{key:"_drawCachedSceneCanvas",value:function(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);var t=this._getCanvasCache();e.translate(t.x,t.y);var n=this._getCachedSceneCanvas(),r=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/r,n.height/r),e.restore()}},{key:"_drawCachedHitCanvas",value:function(e){var t=this._getCanvasCache(),n=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),e.restore()}},{key:"_getCachedSceneCanvas",value:function(){var e,t,n,r,i=this.filters(),o=this._getCanvasCache(),a=o.scene,s=o.filter,l=s.getContext();if(i){if(!this._filterUpToDate){var u=a.pixelRatio;s.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio);try{for(e=i.length,l.clear(),l.drawImage(a._canvas,0,0,a.getWidth()/u,a.getHeight()/u),t=l.getImageData(0,0,s.getWidth(),s.getHeight()),n=0;n<e;n++)"function"===typeof(r=i[n])?(r.call(this,t),l.putImageData(t,0,0)):tp.error("Filter should be type of function, but got "+typeof r+" instead. Please check correct filters")}catch(c){tp.error("Unable to apply filter. "+c.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return s}return a}},{key:"on",value:function(e,t){if(this._cache&&this._cache.delete(kp),3===arguments.length)return this._delegate.apply(this,arguments);var n,r,i,o,a=e.split(Lp),s=a.length;for(n=0;n<s;n++)i=(r=a[n].split("."))[0],o=r[1]||"",this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:o,handler:t});return this}},{key:"off",value:function(e,t){var n,r,i,o,a,s=(e||"").split(Lp),l=s.length;if(this._cache&&this._cache.delete(kp),!e)for(r in this.eventListeners)this._off(r);for(n=0;n<l;n++)if(o=(i=s[n].split("."))[0],a=i[1],o)this.eventListeners[o]&&this._off(o,a,t);else for(r in this.eventListeners)this._off(r,a,t);return this}},{key:"dispatchEvent",value:function(e){var t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}},{key:"addEventListener",value:function(e,t){return this.on(e,(function(e){t.call(this,e.evt)})),this}},{key:"removeEventListener",value:function(e){return this.off(e),this}},{key:"_delegate",value:function(e,t,n){var r=this;this.on(e,(function(e){for(var i=e.target.findAncestors(t,!0,r),o=0;o<i.length;o++)(e=tp.cloneObject(e)).currentTarget=i[o],n.call(i[o],e)}))}},{key:"remove",value:function(){return this.isDragging()&&this.stopDrag(),wp._dragElements.delete(this._id),this._remove(),this}},{key:"_clearCaches",value:function(){this._clearSelfAndDescendantCache(Cp),this._clearSelfAndDescendantCache(Sp),this._clearSelfAndDescendantCache(Ep),this._clearSelfAndDescendantCache(Dp),this._clearSelfAndDescendantCache(Ap),this._clearSelfAndDescendantCache(Pp)}},{key:"_remove",value:function(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}},{key:"destroy",value:function(){return this.remove(),this}},{key:"getAttr",value:function(e){var t="get"+tp._capitalize(e);return tp._isFunction(this[t])?this[t]():this.attrs[e]}},{key:"getAncestors",value:function(){for(var e=this.getParent(),t=[];e;)t.push(e),e=e.getParent();return t}},{key:"getAttrs",value:function(){return this.attrs||{}}},{key:"setAttrs",value:function(e){var t=this;return this._batchTransformChanges((function(){var n,r;if(!e)return t;for(n in e)"children"!==n&&(r="set"+tp._capitalize(n),tp._isFunction(t[r])?t[r](e[n]):t._setAttr(n,e[n]))})),this}},{key:"isListening",value:function(){return this._getCache(Pp,this._isListening)}},{key:"_isListening",value:function(e){if(!this.listening())return!1;var t=this.getParent();return!t||t===e||this===e||t._isListening(e)}},{key:"isVisible",value:function(){return this._getCache(Ap,this._isVisible)}},{key:"_isVisible",value:function(e){if(!this.visible())return!1;var t=this.getParent();return!t||t===e||this===e||t._isVisible(e)}},{key:"shouldDrawHit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this._isVisible(e)&&this._isListening(e);var n=this.getLayer(),r=!1;wp._dragElements.forEach((function(e){"dragging"===e.dragStatus&&("Stage"===e.node.nodeType||e.node.getLayer()===n)&&(r=!0)}));var i=!t&&!Hh.hitOnDragEnabled&&r;return this.isListening()&&this.isVisible()&&!i}},{key:"show",value:function(){return this.visible(!0),this}},{key:"hide",value:function(){return this.visible(!1),this}},{key:"getZIndex",value:function(){return this.index||0}},{key:"getAbsoluteZIndex",value:function(){var e,t,n,r,i=this.getDepth(),o=this,a=0;return"Stage"!==o.nodeType&&function s(l){for(e=[],t=l.length,n=0;n<t;n++)r=l[n],a++,r.nodeType!==Op&&(e=e.concat(r.getChildren().slice())),r._id===o._id&&(n=t);e.length>0&&e[0].getDepth()<=i&&s(e)}(o.getStage().getChildren()),a}},{key:"getDepth",value:function(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}},{key:"_batchTransformChanges",value:function(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Np),this._clearSelfAndDescendantCache(Cp)),this._needClearTransformCache=!1}},{key:"setPosition",value:function(e){var t=this;return this._batchTransformChanges((function(){t.x(e.x),t.y(e.y)})),this}},{key:"getPosition",value:function(){return{x:this.x(),y:this.y()}}},{key:"getRelativePointerPosition",value:function(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var t=this.getAbsoluteTransform().copy();return t.invert(),t.point(e)}},{key:"getAbsolutePosition",value:function(e){for(var t=!1,n=this.parent;n;){if(n.isCached()){t=!0;break}n=n.parent}t&&!e&&(e=!0);var r=this.getAbsoluteTransform(e).getMatrix(),i=new Vh,o=this.offset();return i.m=r.slice(),i.translate(o.x,o.y),i.getTranslation()}},{key:"setAbsolutePosition",value:function(e){var t=this._clearTransform();this.attrs.x=t.x,this.attrs.y=t.y,delete t.x,delete t.y,this._clearCache(Np);var n=this._getAbsoluteTransform().copy();return n.invert(),n.translate(e.x,e.y),e={x:this.attrs.x+n.getTranslation().x,y:this.attrs.y+n.getTranslation().y},this._setTransform(t),this.setPosition({x:e.x,y:e.y}),this._clearCache(Np),this._clearSelfAndDescendantCache(Cp),this}},{key:"_setTransform",value:function(e){var t;for(t in e)this.attrs[t]=e[t]}},{key:"_clearTransform",value:function(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}},{key:"move",value:function(e){var t=e.x,n=e.y,r=this.x(),i=this.y();return void 0!==t&&(r+=t),void 0!==n&&(i+=n),this.setPosition({x:r,y:i}),this}},{key:"_eachAncestorReverse",value:function(e,t){var n,r,i=[],o=this.getParent();if(!t||t._id!==this._id){for(i.unshift(this);o&&(!t||o._id!==t._id);)i.unshift(o),o=o.parent;for(n=i.length,r=0;r<n;r++)e(i[r])}}},{key:"rotate",value:function(e){return this.rotation(this.rotation()+e),this}},{key:"moveToTop",value:function(){if(!this.parent)return tp.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}},{key:"moveUp",value:function(){if(!this.parent)return tp.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)}},{key:"moveDown",value:function(){if(!this.parent)return tp.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)}},{key:"moveToBottom",value:function(){if(!this.parent)return tp.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}},{key:"setZIndex",value:function(e){if(!this.parent)return tp.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&tp.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}},{key:"getAbsoluteOpacity",value:function(){return this._getCache(Sp,this._getAbsoluteOpacity)}},{key:"_getAbsoluteOpacity",value:function(){var e=this.opacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}},{key:"moveTo",value:function(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}},{key:"toObject",value:function(){var e,t,n,r,i={},o=this.getAttrs();for(e in i.attrs={},o)t=o[e],tp.isObject(t)&&!tp._isPlainObject(t)&&!tp._isArray(t)||(n="function"===typeof this[e]&&this[e],delete o[e],r=n?n.call(this):null,o[e]=t,r!==t&&(i.attrs[e]=t));return i.className=this.getClassName(),tp._prepareToStringify(i)}},{key:"toJSON",value:function(){return JSON.stringify(this.toObject())}},{key:"getParent",value:function(){return this.parent}},{key:"findAncestors",value:function(e,t,n){var r=[];t&&this._isMatch(e)&&r.push(this);for(var i=this.parent;i;){if(i===n)return r;i._isMatch(e)&&r.push(i),i=i.parent}return r}},{key:"isAncestorOf",value:function(e){return!1}},{key:"findAncestor",value:function(e,t,n){return this.findAncestors(e,t,n)[0]}},{key:"_isMatch",value:function(e){if(!e)return!1;if("function"===typeof e)return e(this);var t,n,r=e.replace(/ /g,"").split(","),i=r.length;for(t=0;t<i;t++)if(n=r[t],tp.isValidSelector(n)||(tp.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),tp.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),tp.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1}},{key:"getLayer",value:function(){var e=this.getParent();return e?e.getLayer():null}},{key:"getStage",value:function(){return this._getCache(Dp,this._getStage)}},{key:"_getStage",value:function(){var e=this.getParent();return e?e.getStage():void 0}},{key:"fire",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.target=t.target||this,n?this._fireAndBubble(e,t):this._fire(e,t),this}},{key:"getAbsoluteTransform",value:function(e){return e?this._getAbsoluteTransform(e):this._getCache(Cp,this._getAbsoluteTransform)}},{key:"_getAbsoluteTransform",value:function(e){var t;if(e)return t=new Vh,this._eachAncestorReverse((function(e){var n=e.transformsEnabled();"all"===n?t.multiply(e.getTransform()):"position"===n&&t.translate(e.x()-e.offsetX(),e.y()-e.offsetY())}),e),t;t=this._cache.get(Cp)||new Vh,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();var n=this.transformsEnabled();if("all"===n)t.multiply(this.getTransform());else if("position"===n){var r=this.attrs.x||0,i=this.attrs.y||0,o=this.attrs.offsetX||0,a=this.attrs.offsetY||0;t.translate(r-o,i-a)}return t.dirty=!1,t}},{key:"getAbsoluteScale",value:function(e){for(var t=this;t;)t._isUnderCache&&(e=t),t=t.getParent();var n=this.getAbsoluteTransform(e).decompose();return{x:n.scaleX,y:n.scaleY}}},{key:"getAbsoluteRotation",value:function(){return this.getAbsoluteTransform().decompose().rotation}},{key:"getTransform",value:function(){return this._getCache(Np,this._getTransform)}},{key:"_getTransform",value:function(){var e,t,n=this._cache.get(Np)||new Vh;n.reset();var r=this.x(),i=this.y(),o=Hh.getAngle(this.rotation()),a=null!==(e=this.attrs.scaleX)&&void 0!==e?e:1,s=null!==(t=this.attrs.scaleY)&&void 0!==t?t:1,l=this.attrs.skewX||0,u=this.attrs.skewY||0,c=this.attrs.offsetX||0,d=this.attrs.offsetY||0;return 0===r&&0===i||n.translate(r,i),0!==o&&n.rotate(o),0===l&&0===u||n.skew(l,u),1===a&&1===s||n.scale(a,s),0===c&&0===d||n.translate(-1*c,-1*d),n.dirty=!1,n}},{key:"clone",value:function(e){var t,n,r,i,o,a=tp.cloneObject(this.attrs);for(t in e)a[t]=e[t];var s=new this.constructor(a);for(t in this.eventListeners)for(r=(n=this.eventListeners[t]).length,i=0;i<r;i++)(o=n[i]).name.indexOf("konva")<0&&(s.eventListeners[t]||(s.eventListeners[t]=[]),s.eventListeners[t].push(o));return s}},{key:"_toKonvaCanvas",value:function(e){e=e||{};var t=this.getClientRect(),n=this.getStage(),r=void 0!==e.x?e.x:t.x,i=void 0!==e.y?e.y:t.y,o=e.pixelRatio||1,a=new _p({width:e.width||t.width||(n?n.width():0),height:e.height||t.height||(n?n.height():0),pixelRatio:o}),s=a.getContext();return s.save(),(r||i)&&s.translate(-1*r,-1*i),this.drawScene(a),s.restore(),a}},{key:"toCanvas",value:function(e){return this._toKonvaCanvas(e)._canvas}},{key:"toDataURL",value:function(e){var t=(e=e||{}).mimeType||null,n=e.quality||null,r=this._toKonvaCanvas(e).toDataURL(t,n);return e.callback&&e.callback(r),r}},{key:"toImage",value:function(e){if(!e||!e.callback)throw"callback required for toImage method config argument";var t=e.callback;delete e.callback,tp._urlToImage(this.toDataURL(e),(function(e){t(e)}))}},{key:"setSize",value:function(e){return this.width(e.width),this.height(e.height),this}},{key:"getSize",value:function(){return{width:this.width(),height:this.height()}}},{key:"getClassName",value:function(){return this.className||this.nodeType}},{key:"getType",value:function(){return this.nodeType}},{key:"getDragDistance",value:function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Hh.dragDistance}},{key:"_off",value:function(e,t,n){var r,i,o,a=this.eventListeners[e];for(r=0;r<a.length;r++)if(i=a[r].name,o=a[r].handler,("konva"!==i||"konva"===t)&&(!t||i===t)&&(!n||n===o)){if(a.splice(r,1),0===a.length){delete this.eventListeners[e];break}r--}}},{key:"_fireChangeEvent",value:function(e,t,n){this._fire(e+"Change",{oldVal:t,newVal:n})}},{key:"addName",value:function(e){if(!this.hasName(e)){var t=this.name(),n=t?t+" "+e:e;this.name(n)}return this}},{key:"hasName",value:function(e){if(!e)return!1;var t=this.name();return!!t&&-1!==(t||"").split(/\s/g).indexOf(e)}},{key:"removeName",value:function(e){var t=(this.name()||"").split(/\s/g),n=t.indexOf(e);return-1!==n&&(t.splice(n,1),this.name(t.join(" "))),this}},{key:"setAttr",value:function(e,t){var n=this["set"+tp._capitalize(e)];return tp._isFunction(n)?n.call(this,t):this._setAttr(e,t),this}},{key:"_requestDraw",value:function(){if(Hh.autoDrawEnabled){var e=this.getLayer()||this.getStage();null===e||void 0===e||e.batchDraw()}}},{key:"_setAttr",value:function(e,t){var n=this.attrs[e];(n!==t||tp.isObject(t))&&(void 0===t||null===t?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,n,t),this._requestDraw())}},{key:"_setComponentAttr",value:function(e,t,n){var r;void 0!==n&&((r=this.attrs[e])||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=n,this._fireChangeEvent(e,r,n))}},{key:"_fireAndBubble",value:function(e,t,n){if(t&&this.nodeType===Op&&(t.target=this),!((e===Ip||e===Rp)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n))){this._fire(e,t);var r=(e===Ip||e===Rp)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,t,n):this._fireAndBubble.call(this.parent,e,t))}}},{key:"_getProtoListeners",value:function(e){var t=this._cache.get(kp);if(!t){t={};for(var n=Object.getPrototypeOf(this);n;)if(n.eventListeners){for(var r in n.eventListeners){var i=n.eventListeners[r],o=t[r]||[];t[r]=i.concat(o)}n=Object.getPrototypeOf(n)}else n=Object.getPrototypeOf(n);this._cache.set(kp,t)}return t[e]}},{key:"_fire",value:function(e,t){(t=t||{}).currentTarget=this,t.type=e;var n=this._getProtoListeners(e);if(n)for(var r=0;r<n.length;r++)n[r].handler.call(this,t);var i=this.eventListeners[e];if(i)for(r=0;r<i.length;r++)i[r].handler.call(this,t)}},{key:"draw",value:function(){return this.drawScene(),this.drawHit(),this}},{key:"_createDragElement",value:function(e){var t=e?e.pointerId:void 0,n=this.getStage(),r=this.getAbsolutePosition(),i=n._getPointerById(t)||n._changedPointerPositions[0]||r;wp._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-r.x,y:i.y-r.y},dragStatus:"ready",pointerId:t})}},{key:"startDrag",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];wp._dragElements.has(this._id)||this._createDragElement(e);var n=wp._dragElements.get(this._id);n.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}},{key:"_setDragPosition",value:function(e,t){var n=this.getStage()._getPointerById(t.pointerId);if(n){var r={x:n.x-t.offset.x,y:n.y-t.offset.y},i=this.dragBoundFunc();if(void 0!==i){var o=i.call(this,r,e);o?r=o:tp.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===r.x&&this._lastPos.y===r.y||(this.setAbsolutePosition(r),this._requestDraw()),this._lastPos=r}}},{key:"stopDrag",value:function(e){var t=wp._dragElements.get(this._id);t&&(t.dragStatus="stopped"),wp._endDragBefore(e),wp._endDragAfter(e)}},{key:"setDraggable",value:function(e){this._setAttr("draggable",e),this._dragChange()}},{key:"isDragging",value:function(){var e=wp._dragElements.get(this._id);return!!e&&"dragging"===e.dragStatus}},{key:"_listenDrag",value:function(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(e){var t=this;if((!(void 0!==e.evt.button)||Hh.dragButtons.indexOf(e.evt.button)>=0)&&!this.isDragging()){var n=!1;wp._dragElements.forEach((function(e){t.isAncestorOf(e.node)&&(n=!0)})),n||this._createDragElement(e)}}))}},{key:"_dragChange",value:function(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;var e=wp._dragElements.get(this._id),t=e&&"dragging"===e.dragStatus,n=e&&"ready"===e.dragStatus;t?this.stopDrag():n&&wp._dragElements.delete(this._id)}}},{key:"_dragCleanup",value:function(){this.off("mousedown.konva"),this.off("touchstart.konva")}},{key:"isClientRectOnScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this.getStage();if(!t)return!1;var n={x:-e.x,y:-e.y,width:t.width()+e.x,height:t.height()+e.y};return tp.haveIntersection(n,this.getClientRect())}}],[{key:"create",value:function(e,t){return tp._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}},{key:"_createNode",value:function(t,n){var r,i,o,a=e.prototype.getClassName.call(t),s=t.children;if(n&&(t.attrs.container=n),Hh[a]||(tp.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape"),r=new(0,Hh[a])(t.attrs),s)for(i=s.length,o=0;o<i;o++)r.add(e._createNode(s[o]));return r}}]),e}();jp.prototype.nodeType="Node",jp.prototype._attrsAffectingSize=[],jp.prototype.eventListeners={},jp.prototype.on.call(jp.prototype,Mp,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(Np),this._clearSelfAndDescendantCache(Cp))})),jp.prototype.on.call(jp.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(Ap)})),jp.prototype.on.call(jp.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(Pp)})),jp.prototype.on.call(jp.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(Sp)}));var Fp=fp.addGetterSetter;function zp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Df(e)););return e}function Bp(){return Bp="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=zp(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Bp.apply(this,arguments)}Fp(jp,"zIndex"),Fp(jp,"absolutePosition"),Fp(jp,"position"),Fp(jp,"x",0,ip()),Fp(jp,"y",0,ip()),Fp(jp,"globalCompositeOperation","source-over",sp()),Fp(jp,"opacity",1,ip()),Fp(jp,"name","",sp()),Fp(jp,"id","",sp()),Fp(jp,"rotation",0,ip()),fp.addComponentsGetterSetter(jp,"scale",["x","y"]),Fp(jp,"scaleX",1,ip()),Fp(jp,"scaleY",1,ip()),fp.addComponentsGetterSetter(jp,"skew",["x","y"]),Fp(jp,"skewX",0,ip()),Fp(jp,"skewY",0,ip()),fp.addComponentsGetterSetter(jp,"offset",["x","y"]),Fp(jp,"offsetX",0,ip()),Fp(jp,"offsetY",0,ip()),Fp(jp,"dragDistance",null,ip()),Fp(jp,"width",0,ip()),Fp(jp,"height",0,ip()),Fp(jp,"listening",!0,up()),Fp(jp,"preventDefault",!0,up()),Fp(jp,"filters",null,(function(e){return this._filterUpToDate=!1,e})),Fp(jp,"visible",!0,up()),Fp(jp,"transformsEnabled","all",sp()),Fp(jp,"size"),Fp(jp,"dragBoundFunc"),Fp(jp,"draggable",!1,up()),fp.backCompat(jp,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var Hp=function(e){Lf(n,e);var t=Af(n);function n(){var e;return(0,gn.Z)(this,n),(e=t.apply(this,arguments)).children=[],e}return(0,yn.Z)(n,[{key:"getChildren",value:function(e){if(!e)return this.children||[];var t=this.children||[],n=[];return t.forEach((function(t){e(t)&&n.push(t)})),n}},{key:"hasChildren",value:function(){return this.getChildren().length>0}},{key:"removeChildren",value:function(){return this.getChildren().forEach((function(e){e.parent=null,e.index=0,e.remove()})),this.children=[],this._requestDraw(),this}},{key:"destroyChildren",value:function(){return this.getChildren().forEach((function(e){e.parent=null,e.index=0,e.destroy()})),this.children=[],this._requestDraw(),this}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}var i=t[0];return i.getParent()?(i.moveTo(this),this):(this._validateAdd(i),i.index=this.getChildren().length,i.parent=this,i._clearCaches(),this.getChildren().push(i),this._fire("add",{child:i}),this._requestDraw(),this)}},{key:"destroy",value:function(){return this.hasChildren()&&this.destroyChildren(),Bp(Df(n.prototype),"destroy",this).call(this),this}},{key:"find",value:function(e){return this._generalFind(e,!1)}},{key:"findOne",value:function(e){var t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}},{key:"_generalFind",value:function(e,t){var n=[];return this._descendants((function(r){var i=r._isMatch(e);return i&&n.push(r),!(!i||!t)})),n}},{key:"_descendants",value:function(e){var t,n=Du(this.getChildren());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return!0;if(r.hasChildren()&&r._descendants(e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"toObject",value:function(){var e=jp.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach((function(t){e.children.push(t.toObject())})),e}},{key:"isAncestorOf",value:function(e){for(var t=e.getParent();t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}},{key:"clone",value:function(e){var t=jp.prototype.clone.call(this,e);return this.getChildren().forEach((function(e){t.add(e.clone())})),t}},{key:"getAllIntersections",value:function(e){var t=[];return this.find("Shape").forEach((function(n){n.isVisible()&&n.intersects(e)&&t.push(n)})),t}},{key:"_clearSelfAndDescendantCache",value:function(e){var t;Bp(Df(n.prototype),"_clearSelfAndDescendantCache",this).call(this,e),this.isCached()||null===(t=this.children)||void 0===t||t.forEach((function(t){t._clearSelfAndDescendantCache(e)}))}},{key:"_setChildrenIndices",value:function(){var e;null===(e=this.children)||void 0===e||e.forEach((function(e,t){e.index=t})),this._requestDraw()}},{key:"drawScene",value:function(e,t){var n=this.getLayer(),r=e||n&&n.getCanvas(),i=r&&r.getContext(),o=this._getCanvasCache(),a=o&&o.scene,s=r&&r.isCache;if(!this.isVisible()&&!s)return this;if(a){i.save();var l=this.getAbsoluteTransform(t).getMatrix();i.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedSceneCanvas(i),i.restore()}else this._drawChildren("drawScene",r,t);return this}},{key:"drawHit",value:function(e,t){if(!this.shouldDrawHit(t))return this;var n=this.getLayer(),r=e||n&&n.hitCanvas,i=r&&r.getContext(),o=this._getCanvasCache();if(o&&o.hit){i.save();var a=this.getAbsoluteTransform(t).getMatrix();i.transform(a[0],a[1],a[2],a[3],a[4],a[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",r,t);return this}},{key:"_drawChildren",value:function(e,t,n){var r,i=t&&t.getContext(),o=this.clipWidth(),a=this.clipHeight(),s=this.clipFunc(),l=o&&a||s,u=n===this;if(l){i.save();var c=this.getAbsoluteTransform(n),d=c.getMatrix();if(i.transform(d[0],d[1],d[2],d[3],d[4],d[5]),i.beginPath(),s)s.call(this,i,this);else{var f=this.clipX(),h=this.clipY();i.rect(f,h,o,a)}i.clip(),d=c.copy().invert().getMatrix(),i.transform(d[0],d[1],d[2],d[3],d[4],d[5])}var p=!u&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===e;p&&(i.save(),i._applyGlobalCompositeOperation(this)),null===(r=this.children)||void 0===r||r.forEach((function(r){r[e](t,n)})),p&&i.restore(),l&&i.restore()}},{key:"getClientRect",value:function(e){var t,n,r,i,o,a=(e=e||{}).skipTransform,s=e.relativeTo,l={x:1/0,y:1/0,width:0,height:0},u=this;null===(t=this.children)||void 0===t||t.forEach((function(t){if(t.visible()){var a=t.getClientRect({relativeTo:u,skipShadow:e.skipShadow,skipStroke:e.skipStroke});0===a.width&&0===a.height||(void 0===n?(n=a.x,r=a.y,i=a.x+a.width,o=a.y+a.height):(n=Math.min(n,a.x),r=Math.min(r,a.y),i=Math.max(i,a.x+a.width),o=Math.max(o,a.y+a.height)))}}));for(var c=this.find("Shape"),d=!1,f=0;f<c.length;f++){if(c[f]._isVisible(this)){d=!0;break}}return l=d&&void 0!==n?{x:n,y:r,width:i-n,height:o-r}:{x:0,y:0,width:0,height:0},a?l:this._transformedRect(l,s)}}]),n}(jp);fp.addComponentsGetterSetter(Hp,"clip",["x","y","width","height"]),fp.addGetterSetter(Hp,"clipX",void 0,ip()),fp.addGetterSetter(Hp,"clipY",void 0,ip()),fp.addGetterSetter(Hp,"clipWidth",void 0,ip()),fp.addGetterSetter(Hp,"clipHeight",void 0,ip()),fp.addGetterSetter(Hp,"clipFunc");var Wp,Up,Gp,qp=new Map,Vp=void 0!==Hh._global.PointerEvent;function Yp(e){return qp.get(e)}function Kp(e){return{evt:e,pointerId:e.pointerId}}function Xp(e,t){return qp.get(e)===t}function Qp(e,t){$p(e),t.getStage()&&(qp.set(e,t),Vp&&t._fire("gotpointercapture",Kp(new PointerEvent("gotpointercapture"))))}function $p(e,t){var n=qp.get(e);if(n){var r=n.getStage();r&&r.content,qp.delete(e),Vp&&n._fire("lostpointercapture",Kp(new PointerEvent("lostpointercapture")))}}var Jp="mouseleave",ev="mouseover",tv="mouseenter",nv="mousemove",rv="mousedown",iv="mouseup",ov="pointermove",av="pointerdown",sv="pointerup",lv="pointercancel",uv="pointerout",cv="pointerleave",dv="pointerover",fv="pointerenter",hv="contextmenu",pv="touchstart",vv="touchend",mv="touchmove",gv="touchcancel",yv="wheel",bv=[[tv,"_pointerenter"],[rv,"_pointerdown"],[nv,"_pointermove"],[iv,"_pointerup"],[Jp,"_pointerleave"],[pv,"_pointerdown"],[mv,"_pointermove"],[vv,"_pointerup"],[gv,"_pointercancel"],[ev,"_pointerover"],[yv,"_wheel"],[hv,"_contextmenu"],[av,"_pointerdown"],[ov,"_pointermove"],[sv,"_pointerup"],[lv,"_pointercancel"],["lostpointercapture","_lostpointercapture"]],_v={mouse:(Wp={},(0,jn.Z)(Wp,uv,"mouseout"),(0,jn.Z)(Wp,cv,Jp),(0,jn.Z)(Wp,dv,ev),(0,jn.Z)(Wp,fv,tv),(0,jn.Z)(Wp,ov,nv),(0,jn.Z)(Wp,av,rv),(0,jn.Z)(Wp,sv,iv),(0,jn.Z)(Wp,lv,"mousecancel"),(0,jn.Z)(Wp,"pointerclick","click"),(0,jn.Z)(Wp,"pointerdblclick","dblclick"),Wp),touch:(Up={},(0,jn.Z)(Up,uv,"touchout"),(0,jn.Z)(Up,cv,"touchleave"),(0,jn.Z)(Up,dv,"touchover"),(0,jn.Z)(Up,fv,"touchenter"),(0,jn.Z)(Up,ov,mv),(0,jn.Z)(Up,av,pv),(0,jn.Z)(Up,sv,vv),(0,jn.Z)(Up,lv,gv),(0,jn.Z)(Up,"pointerclick","tap"),(0,jn.Z)(Up,"pointerdblclick","dbltap"),Up),pointer:(Gp={},(0,jn.Z)(Gp,uv,uv),(0,jn.Z)(Gp,cv,cv),(0,jn.Z)(Gp,dv,dv),(0,jn.Z)(Gp,fv,fv),(0,jn.Z)(Gp,ov,ov),(0,jn.Z)(Gp,av,av),(0,jn.Z)(Gp,sv,sv),(0,jn.Z)(Gp,lv,lv),(0,jn.Z)(Gp,"pointerclick","pointerclick"),(0,jn.Z)(Gp,"pointerdblclick","pointerdblclick"),Gp)},xv=function(e){return e.indexOf("pointer")>=0?"pointer":e.indexOf("touch")>=0?"touch":"mouse"},wv=function(e){var t=xv(e);return"pointer"===t?Hh.pointerEventsEnabled&&_v.pointer:"touch"===t?_v.touch:"mouse"===t?_v.mouse:void 0};function Sv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e.clipFunc||e.clipWidth||e.clipHeight)&&tp.warn("Stage does not support clipping. Please use clip for Layers or Groups."),e}var kv=[],Cv=function(e){Lf(n,e);var t=Af(n);function n(e){var r;return(0,gn.Z)(this,n),(r=t.call(this,Sv(e)))._pointerPositions=[],r._changedPointerPositions=[],r._buildDOM(),r._bindContentEvents(),kv.push((0,ti.Z)(r)),r.on("widthChange.konva heightChange.konva",r._resizeDOM),r.on("visibleChange.konva",r._checkVisibility),r.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(function(){Sv(r.attrs)})),r._checkVisibility(),r}return(0,yn.Z)(n,[{key:"_validateAdd",value:function(e){var t="Layer"===e.getType(),n="FastLayer"===e.getType();t||n||tp.throw("You may only add layers to the stage.")}},{key:"_checkVisibility",value:function(){if(this.content){var e=this.visible()?"":"none";this.content.style.display=e}}},{key:"setContainer",value:function(e){if("string"===typeof e){if("."===e.charAt(0)){var t=e.slice(1);e=document.getElementsByClassName(t)[0]}else{var n;n="#"!==e.charAt(0)?e:e.slice(1),e=document.getElementById(n)}if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}},{key:"shouldDrawHit",value:function(){return!0}},{key:"clear",value:function(){var e,t=this.children,n=t.length;for(e=0;e<n;e++)t[e].clear();return this}},{key:"clone",value:function(e){return e||(e={}),e.container="undefined"!==typeof document&&document.createElement("div"),Hp.prototype.clone.call(this,e)}},{key:"destroy",value:function(){Bp(Df(n.prototype),"destroy",this).call(this);var e=this.content;e&&tp._isInDocument(e)&&this.container().removeChild(e);var t=kv.indexOf(this);return t>-1&&kv.splice(t,1),this}},{key:"getPointerPosition",value:function(){var e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(tp.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}},{key:"_getPointerById",value:function(e){return this._pointerPositions.find((function(t){return t.id===e}))}},{key:"getPointersPositions",value:function(){return this._pointerPositions}},{key:"getStage",value:function(){return this}},{key:"getContent",value:function(){return this.content}},{key:"_toKonvaCanvas",value:function(e){(e=e||{}).x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var t=new _p({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),n=t.getContext()._context,r=this.children;return(e.x||e.y)&&n.translate(-1*e.x,-1*e.y),r.forEach((function(t){if(t.isVisible()){var r=t._toKonvaCanvas(e);n.drawImage(r._canvas,e.x,e.y,r.getWidth()/r.getPixelRatio(),r.getHeight()/r.getPixelRatio())}})),t}},{key:"getIntersection",value:function(e){if(!e)return null;var t,n=this.children;for(t=n.length-1;t>=0;t--){var r=n[t].getIntersection(e);if(r)return r}return null}},{key:"_resizeDOM",value:function(){var e=this.width(),t=this.height();this.content&&(this.content.style.width=e+"px",this.content.style.height=t+"px"),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach((function(n){n.setSize({width:e,height:t}),n.draw()}))}},{key:"add",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(arguments.length>1){for(var o=0;o<arguments.length;o++)this.add(arguments[o]);return this}Bp(Df(n.prototype),"add",this).call(this,e);var a=this.children.length;return a>5&&tp.warn("The stage has "+a+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Hh.isBrowser&&this.content.appendChild(e.canvas._canvas),this}},{key:"getParent",value:function(){return null}},{key:"getLayer",value:function(){return null}},{key:"hasPointerCapture",value:function(e){return Xp(e,this)}},{key:"setPointerCapture",value:function(e){Qp(e,this)}},{key:"releaseCapture",value:function(e){$p(e)}},{key:"getLayers",value:function(){return this.children}},{key:"_bindContentEvents",value:function(){var e=this;Hh.isBrowser&&bv.forEach((function(t){var n=(0,fn.Z)(t,2),r=n[0],i=n[1];e.content.addEventListener(r,(function(t){e[i](t)}))}))}},{key:"_pointerenter",value:function(e){this.setPointersPositions(e);var t=wv(e.type);this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}},{key:"_pointerover",value:function(e){this.setPointersPositions(e);var t=wv(e.type);this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}},{key:"_getTargetShape",value:function(e){var t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}},{key:"_pointerleave",value:function(e){var t=wv(e.type),n=xv(e.type);if(t){this.setPointersPositions(e);var r=this._getTargetShape(n),i=!wp.isDragging||Hh.hitOnDragEnabled;r&&i?(r._fireAndBubble(t.pointerout,{evt:e}),r._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[n+"targetShape"]=null):i&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}},{key:"_pointerdown",value:function(e){var t=this,n=wv(e.type),r=xv(e.type);if(n){this.setPointersPositions(e);var i=!1;this._changedPointerPositions.forEach((function(o){var a=t.getIntersection(o);if(wp.justDragged=!1,Hh["_"+r+"ListenClick"]=!0,a&&a.isListening()){Hh.capturePointerEventsEnabled&&a.setPointerCapture(o.id),t[r+"ClickStartShape"]=a,a._fireAndBubble(n.pointerdown,{evt:e,pointerId:o.id}),i=!0;var s=e.type.indexOf("touch")>=0;a.preventDefault()&&e.cancelable&&s&&e.preventDefault()}})),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}},{key:"_pointermove",value:function(e){var t=this,n=wv(e.type),r=xv(e.type);if(n&&(wp.isDragging&&wp.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e),!wp.isDragging||Hh.hitOnDragEnabled)){var i={},o=!1,a=this._getTargetShape(r);this._changedPointerPositions.forEach((function(s){var l=Yp(s.id)||t.getIntersection(s),u=s.id,c={evt:e,pointerId:u},d=a!==l;if(d&&a&&(a._fireAndBubble(n.pointerout,Object.assign({},c),l),a._fireAndBubble(n.pointerleave,Object.assign({},c),l)),l){if(i[l._id])return;i[l._id]=!0}l&&l.isListening()?(o=!0,d&&(l._fireAndBubble(n.pointerover,Object.assign({},c),a),l._fireAndBubble(n.pointerenter,Object.assign({},c),a),t[r+"targetShape"]=l),l._fireAndBubble(n.pointermove,Object.assign({},c))):a&&(t._fire(n.pointerover,{evt:e,target:t,currentTarget:t,pointerId:u}),t[r+"targetShape"]=null)})),o||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}}},{key:"_pointerup",value:function(e){var t=this,n=wv(e.type),r=xv(e.type);if(n){this.setPointersPositions(e);var i=this[r+"ClickStartShape"],o=this[r+"ClickEndShape"],a={},s=!1;this._changedPointerPositions.forEach((function(l){var u=Yp(l.id)||t.getIntersection(l);if(u){if(u.releaseCapture(l.id),a[u._id])return;a[u._id]=!0}var c=l.id,d={evt:e,pointerId:c},f=!1;Hh["_"+r+"InDblClickWindow"]?(f=!0,clearTimeout(t[r+"DblTimeout"])):wp.justDragged||(Hh["_"+r+"InDblClickWindow"]=!0,clearTimeout(t[r+"DblTimeout"])),t[r+"DblTimeout"]=setTimeout((function(){Hh["_"+r+"InDblClickWindow"]=!1}),Hh.dblClickWindow),u&&u.isListening()?(s=!0,t[r+"ClickEndShape"]=u,u._fireAndBubble(n.pointerup,Object.assign({},d)),Hh["_"+r+"ListenClick"]&&i&&i===u&&(u._fireAndBubble(n.pointerclick,Object.assign({},d)),f&&o&&o===u&&u._fireAndBubble(n.pointerdblclick,Object.assign({},d)))):(t[r+"ClickEndShape"]=null,Hh["_"+r+"ListenClick"]&&t._fire(n.pointerclick,{evt:e,target:t,currentTarget:t,pointerId:c}),f&&t._fire(n.pointerdblclick,{evt:e,target:t,currentTarget:t,pointerId:c}))})),s||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Hh["_"+r+"ListenClick"]=!1,e.cancelable&&e.preventDefault()}}},{key:"_contextmenu",value:function(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(hv,{evt:e}):this._fire(hv,{evt:e,target:this,currentTarget:this})}},{key:"_wheel",value:function(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(yv,{evt:e}):this._fire(yv,{evt:e,target:this,currentTarget:this})}},{key:"_pointercancel",value:function(e){this.setPointersPositions(e);var t=Yp(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(sv,Kp(e)),$p(e.pointerId)}},{key:"_lostpointercapture",value:function(e){$p(e.pointerId)}},{key:"setPointersPositions",value:function(e){var t=this,n=this._getContentPosition(),r=null,i=null;void 0!==(e=e||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,(function(e){t._pointerPositions.push({id:e.identifier,x:(e.clientX-n.left)/n.scaleX,y:(e.clientY-n.top)/n.scaleY})})),Array.prototype.forEach.call(e.changedTouches||e.touches,(function(e){t._changedPointerPositions.push({id:e.identifier,x:(e.clientX-n.left)/n.scaleX,y:(e.clientY-n.top)/n.scaleY})}))):(r=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:tp._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:tp._getFirstPointerId(e)}])}},{key:"_setPointerPosition",value:function(e){tp.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}},{key:"_getContentPosition",value:function(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}},{key:"_buildDOM",value:function(){if(this.bufferCanvas=new _p({width:this.width(),height:this.height()}),this.bufferHitCanvas=new xp({pixelRatio:1,width:this.width(),height:this.height()}),Hh.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}},{key:"cache",value:function(){return tp.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}},{key:"clearCache",value:function(){return this}},{key:"batchDraw",value:function(){return this.getChildren().forEach((function(e){e.batchDraw()})),this}}]),n}(Hp);Cv.prototype.nodeType="Stage",Wh(Cv),fp.addGetterSetter(Cv,"container");var Ev,Tv="hasShadow",Pv="shadowRGBA",Iv="patternImage",Rv="linearGradient",Ov="radialGradient";function Lv(){return Ev||(Ev=tp.createCanvasElement().getContext("2d"))}var Dv={};var Nv=function(e){Lf(n,e);var t=Af(n);function n(e){var r,i;for((0,gn.Z)(this,n),r=t.call(this,e);!(i=tp.getRandomColor())||i in Dv;);return r.colorKey=i,Dv[i]=(0,ti.Z)(r),r}return(0,yn.Z)(n,[{key:"getContext",value:function(){return tp.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}},{key:"getCanvas",value:function(){return tp.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}},{key:"getSceneFunc",value:function(){return this.attrs.sceneFunc||this._sceneFunc}},{key:"getHitFunc",value:function(){return this.attrs.hitFunc||this._hitFunc}},{key:"hasShadow",value:function(){return this._getCache(Tv,this._hasShadow)}},{key:"_hasShadow",value:function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}},{key:"_getFillPattern",value:function(){return this._getCache(Iv,this.__getFillPattern)}},{key:"__getFillPattern",value:function(){if(this.fillPatternImage()){var e=Lv().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(e&&e.setTransform){var t=new Vh;t.translate(this.fillPatternX(),this.fillPatternY()),t.rotate(Hh.getAngle(this.fillPatternRotation())),t.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),t.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());var n=t.getMatrix();e.setTransform({a:n[0],b:n[1],c:n[2],d:n[3],e:n[4],f:n[5]})}return e}}},{key:"_getLinearGradient",value:function(){return this._getCache(Rv,this.__getLinearGradient)}},{key:"__getLinearGradient",value:function(){var e=this.fillLinearGradientColorStops();if(e){for(var t=Lv(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),i=t.createLinearGradient(n.x,n.y,r.x,r.y),o=0;o<e.length;o+=2)i.addColorStop(e[o],e[o+1]);return i}}},{key:"_getRadialGradient",value:function(){return this._getCache(Ov,this.__getRadialGradient)}},{key:"__getRadialGradient",value:function(){var e=this.fillRadialGradientColorStops();if(e){for(var t=Lv(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),i=t.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius()),o=0;o<e.length;o+=2)i.addColorStop(e[o],e[o+1]);return i}}},{key:"getShadowRGBA",value:function(){return this._getCache(Pv,this._getShadowRGBA)}},{key:"_getShadowRGBA",value:function(){if(this.hasShadow()){var e=tp.colorToRGBA(this.shadowColor());return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}}},{key:"hasFill",value:function(){var e=this;return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(function(){return e.fillEnabled()&&!!(e.fill()||e.fillPatternImage()||e.fillLinearGradientColorStops()||e.fillRadialGradientColorStops())}))}},{key:"hasStroke",value:function(){var e=this;return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(function(){return e.strokeEnabled()&&e.strokeWidth()&&!(!e.stroke()&&!e.strokeLinearGradientColorStops())}))}},{key:"hasHitStroke",value:function(){var e=this.hitStrokeWidth();return"auto"===e?this.hasStroke():this.strokeEnabled()&&!!e}},{key:"intersects",value:function(e){var t=this.getStage().bufferHitCanvas;return t.getContext().clear(),this.drawHit(t,null,!0),t.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}},{key:"destroy",value:function(){return jp.prototype.destroy.call(this),delete Dv[this.colorKey],delete this.colorKey,this}},{key:"_useBufferCanvas",value:function(e){var t;if(!this.getStage())return!1;if(!(null===(t=this.attrs.perfectDrawEnabled)||void 0===t||t))return!1;var n=e||this.hasFill(),r=this.hasStroke(),i=1!==this.getAbsoluteOpacity();if(n&&r&&i)return!0;var o=this.hasShadow(),a=this.shadowForStrokeEnabled();return!!(n&&r&&o&&a)}},{key:"setStrokeHitEnabled",value:function(e){tp.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}},{key:"getStrokeHitEnabled",value:function(){return 0!==this.hitStrokeWidth()}},{key:"getSelfRect",value:function(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}},{key:"getClientRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.skipTransform,n=e.relativeTo,r=this.getSelfRect(),i=!e.skipStroke&&this.hasStroke(),o=i&&this.strokeWidth()||0,a=r.width+o,s=r.height+o,l=!e.skipShadow&&this.hasShadow(),u=l?this.shadowOffsetX():0,c=l?this.shadowOffsetY():0,d=a+Math.abs(u),f=s+Math.abs(c),h=l&&this.shadowBlur()||0,p=d+2*h,v=f+2*h,m=0;Math.round(o/2)!==o/2&&(m=1);var g={width:p+m,height:v+m,x:-Math.round(o/2+h)+Math.min(u,0)+r.x,y:-Math.round(o/2+h)+Math.min(c,0)+r.y};return t?g:this._transformedRect(g,n)}},{key:"drawScene",value:function(e,t){var n,r,i=this.getLayer(),o=e||i.getCanvas(),a=o.getContext(),s=this._getCanvasCache(),l=this.getSceneFunc(),u=this.hasShadow(),c=o.isCache,d=t===this;if(!this.isVisible()&&!d)return this;if(s){a.save();var f=this.getAbsoluteTransform(t).getMatrix();return a.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(a),a.restore(),this}if(!l)return this;if(a.save(),this._useBufferCanvas()&&!c){(r=(n=this.getStage().bufferCanvas).getContext()).clear(),r.save(),r._applyLineJoin(this);var h=this.getAbsoluteTransform(t).getMatrix();r.transform(h[0],h[1],h[2],h[3],h[4],h[5]),l.call(this,r,this),r.restore();var p=n.pixelRatio;u&&a._applyShadow(this),a._applyOpacity(this),a._applyGlobalCompositeOperation(this),a.drawImage(n._canvas,0,0,n.width/p,n.height/p)}else{if(a._applyLineJoin(this),!d){h=this.getAbsoluteTransform(t).getMatrix();a.transform(h[0],h[1],h[2],h[3],h[4],h[5]),a._applyOpacity(this),a._applyGlobalCompositeOperation(this)}u&&a._applyShadow(this),l.call(this,a,this)}return a.restore(),this}},{key:"drawHit",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.shouldDrawHit(t,n))return this;var r=this.getLayer(),i=e||r.hitCanvas,o=i&&i.getContext(),a=this.hitFunc()||this.sceneFunc(),s=this._getCanvasCache(),l=s&&s.hit;if(this.colorKey||tp.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),l){o.save();var u=this.getAbsoluteTransform(t).getMatrix();return o.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!a)return this;o.save(),o._applyLineJoin(this);var c=this===t;if(!c){var d=this.getAbsoluteTransform(t).getMatrix();o.transform(d[0],d[1],d[2],d[3],d[4],d[5])}return a.call(this,o,this),o.restore(),this}},{key:"drawHitFromCache",value:function(){var e,t,n,r,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=this._getCanvasCache(),s=this._getCachedSceneCanvas(),l=a.hit,u=l.getContext(),c=l.getWidth(),d=l.getHeight();u.clear(),u.drawImage(s._canvas,0,0,c,d);try{for(n=(t=(e=u.getImageData(0,0,c,d)).data).length,r=tp._hexToRgb(this.colorKey),i=0;i<n;i+=4)t[i+3]>o?(t[i]=r.r,t[i+1]=r.g,t[i+2]=r.b,t[i+3]=255):t[i+3]=0;u.putImageData(e,0,0)}catch(f){tp.error("Unable to draw hit graph from cached scene canvas. "+f.message)}return this}},{key:"hasPointerCapture",value:function(e){return Xp(e,this)}},{key:"setPointerCapture",value:function(e){Qp(e,this)}},{key:"releaseCapture",value:function(e){$p(e)}}]),n}(jp);Nv.prototype._fillFunc=function(e){e.fill()},Nv.prototype._strokeFunc=function(e){e.stroke()},Nv.prototype._fillFuncHit=function(e){e.fill()},Nv.prototype._strokeFuncHit=function(e){e.stroke()},Nv.prototype._centroid=!1,Nv.prototype.nodeType="Shape",Wh(Nv),Nv.prototype.eventListeners={},Nv.prototype.on.call(Nv.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(Tv)})),Nv.prototype.on.call(Nv.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(Pv)})),Nv.prototype.on.call(Nv.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",(function(){this._clearCache(Iv)})),Nv.prototype.on.call(Nv.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(Rv)})),Nv.prototype.on.call(Nv.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(Ov)})),fp.addGetterSetter(Nv,"stroke",void 0,lp()),fp.addGetterSetter(Nv,"strokeWidth",2,ip()),fp.addGetterSetter(Nv,"fillAfterStrokeEnabled",!1),fp.addGetterSetter(Nv,"hitStrokeWidth","auto",ap()),fp.addGetterSetter(Nv,"strokeHitEnabled",!0,up()),fp.addGetterSetter(Nv,"perfectDrawEnabled",!0,up()),fp.addGetterSetter(Nv,"shadowForStrokeEnabled",!0,up()),fp.addGetterSetter(Nv,"lineJoin"),fp.addGetterSetter(Nv,"lineCap"),fp.addGetterSetter(Nv,"sceneFunc"),fp.addGetterSetter(Nv,"hitFunc"),fp.addGetterSetter(Nv,"dash"),fp.addGetterSetter(Nv,"dashOffset",0,ip()),fp.addGetterSetter(Nv,"shadowColor",void 0,sp()),fp.addGetterSetter(Nv,"shadowBlur",0,ip()),fp.addGetterSetter(Nv,"shadowOpacity",1,ip()),fp.addComponentsGetterSetter(Nv,"shadowOffset",["x","y"]),fp.addGetterSetter(Nv,"shadowOffsetX",0,ip()),fp.addGetterSetter(Nv,"shadowOffsetY",0,ip()),fp.addGetterSetter(Nv,"fillPatternImage"),fp.addGetterSetter(Nv,"fill",void 0,lp()),fp.addGetterSetter(Nv,"fillPatternX",0,ip()),fp.addGetterSetter(Nv,"fillPatternY",0,ip()),fp.addGetterSetter(Nv,"fillLinearGradientColorStops"),fp.addGetterSetter(Nv,"strokeLinearGradientColorStops"),fp.addGetterSetter(Nv,"fillRadialGradientStartRadius",0),fp.addGetterSetter(Nv,"fillRadialGradientEndRadius",0),fp.addGetterSetter(Nv,"fillRadialGradientColorStops"),fp.addGetterSetter(Nv,"fillPatternRepeat","repeat"),fp.addGetterSetter(Nv,"fillEnabled",!0),fp.addGetterSetter(Nv,"strokeEnabled",!0),fp.addGetterSetter(Nv,"shadowEnabled",!0),fp.addGetterSetter(Nv,"dashEnabled",!0),fp.addGetterSetter(Nv,"strokeScaleEnabled",!0),fp.addGetterSetter(Nv,"fillPriority","color"),fp.addComponentsGetterSetter(Nv,"fillPatternOffset",["x","y"]),fp.addGetterSetter(Nv,"fillPatternOffsetX",0,ip()),fp.addGetterSetter(Nv,"fillPatternOffsetY",0,ip()),fp.addComponentsGetterSetter(Nv,"fillPatternScale",["x","y"]),fp.addGetterSetter(Nv,"fillPatternScaleX",1,ip()),fp.addGetterSetter(Nv,"fillPatternScaleY",1,ip()),fp.addComponentsGetterSetter(Nv,"fillLinearGradientStartPoint",["x","y"]),fp.addComponentsGetterSetter(Nv,"strokeLinearGradientStartPoint",["x","y"]),fp.addGetterSetter(Nv,"fillLinearGradientStartPointX",0),fp.addGetterSetter(Nv,"strokeLinearGradientStartPointX",0),fp.addGetterSetter(Nv,"fillLinearGradientStartPointY",0),fp.addGetterSetter(Nv,"strokeLinearGradientStartPointY",0),fp.addComponentsGetterSetter(Nv,"fillLinearGradientEndPoint",["x","y"]),fp.addComponentsGetterSetter(Nv,"strokeLinearGradientEndPoint",["x","y"]),fp.addGetterSetter(Nv,"fillLinearGradientEndPointX",0),fp.addGetterSetter(Nv,"strokeLinearGradientEndPointX",0),fp.addGetterSetter(Nv,"fillLinearGradientEndPointY",0),fp.addGetterSetter(Nv,"strokeLinearGradientEndPointY",0),fp.addComponentsGetterSetter(Nv,"fillRadialGradientStartPoint",["x","y"]),fp.addGetterSetter(Nv,"fillRadialGradientStartPointX",0),fp.addGetterSetter(Nv,"fillRadialGradientStartPointY",0),fp.addComponentsGetterSetter(Nv,"fillRadialGradientEndPoint",["x","y"]),fp.addGetterSetter(Nv,"fillRadialGradientEndPointX",0),fp.addGetterSetter(Nv,"fillRadialGradientEndPointY",0),fp.addGetterSetter(Nv,"fillPatternRotation",0),fp.backCompat(Nv,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var Av=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],Mv=Av.length,Zv=function(e){Lf(n,e);var t=Af(n);function n(e){var r;return(0,gn.Z)(this,n),(r=t.call(this,e)).canvas=new _p,r.hitCanvas=new xp({pixelRatio:1}),r._waitingForDraw=!1,r.on("visibleChange.konva",r._checkVisibility),r._checkVisibility(),r.on("imageSmoothingEnabledChange.konva",r._setSmoothEnabled),r._setSmoothEnabled(),r}return(0,yn.Z)(n,[{key:"createPNGStream",value:function(){return this.canvas._canvas.createPNGStream()}},{key:"getCanvas",value:function(){return this.canvas}},{key:"getNativeCanvasElement",value:function(){return this.canvas._canvas}},{key:"getHitCanvas",value:function(){return this.hitCanvas}},{key:"getContext",value:function(){return this.getCanvas().getContext()}},{key:"clear",value:function(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}},{key:"setZIndex",value:function(e){Bp(Df(n.prototype),"setZIndex",this).call(this,e);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}},{key:"moveToTop",value:function(){jp.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}},{key:"moveUp",value:function(){if(!jp.prototype.moveUp.call(this))return!1;var e=this.getStage();return!(!e||!e.content)&&(e.content.removeChild(this.getNativeCanvasElement()),this.index<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement()),!0)}},{key:"moveDown",value:function(){if(jp.prototype.moveDown.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}},{key:"moveToBottom",value:function(){if(jp.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}},{key:"getLayer",value:function(){return this}},{key:"remove",value:function(){var e=this.getNativeCanvasElement();return jp.prototype.remove.call(this),e&&e.parentNode&&tp._isInDocument(e)&&e.parentNode.removeChild(e),this}},{key:"getStage",value:function(){return this.parent}},{key:"setSize",value:function(e){var t=e.width,n=e.height;return this.canvas.setSize(t,n),this.hitCanvas.setSize(t,n),this._setSmoothEnabled(),this}},{key:"_validateAdd",value:function(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&tp.throw("You may only add groups and shapes to a layer.")}},{key:"_toKonvaCanvas",value:function(e){return(e=e||{}).width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=void 0!==e.x?e.x:this.x(),e.y=void 0!==e.y?e.y:this.y(),jp.prototype._toKonvaCanvas.call(this,e)}},{key:"_checkVisibility",value:function(){var e=this.visible();this.canvas._canvas.style.display=e?"block":"none"}},{key:"_setSmoothEnabled",value:function(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}},{key:"getWidth",value:function(){if(this.parent)return this.parent.width()}},{key:"setWidth",value:function(){tp.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}},{key:"getHeight",value:function(){if(this.parent)return this.parent.height()}},{key:"setHeight",value:function(){tp.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}},{key:"batchDraw",value:function(){var e=this;return this._waitingForDraw||(this._waitingForDraw=!0,tp.requestAnimFrame((function(){e.draw(),e._waitingForDraw=!1}))),this}},{key:"getIntersection",value:function(e){if(!this.isListening()||!this.isVisible())return null;for(var t=1,n=!1;;){for(var r=0;r<Mv;r++){var i=Av[r],o=this._getIntersection({x:e.x+i.x*t,y:e.y+i.y*t}),a=o.shape;if(a)return a;if(n=!!o.antialiased,!o.antialiased)break}if(!n)return null;t+=1}}},{key:"_getIntersection",value:function(e){var t=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,r=n[3];if(255===r){var i=tp._rgbToHex(n[0],n[1],n[2]),o=Dv["#"+i];return o?{shape:o}:{antialiased:!0}}return r>0?{antialiased:!0}:{}}},{key:"drawScene",value:function(e,t){var n=this.getLayer(),r=e||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),Hp.prototype.drawScene.call(this,r,t),this._fire("draw",{node:this}),this}},{key:"drawHit",value:function(e,t){var n=this.getLayer(),r=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),Hp.prototype.drawHit.call(this,r,t),this}},{key:"enableHitGraph",value:function(){return this.hitGraphEnabled(!0),this}},{key:"disableHitGraph",value:function(){return this.hitGraphEnabled(!1),this}},{key:"setHitGraphEnabled",value:function(e){tp.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}},{key:"getHitGraphEnabled",value:function(e){return tp.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}},{key:"toggleHitCanvas",value:function(){if(this.parent&&this.parent.content){var e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}}]),n}(Hp);Zv.prototype.nodeType="Layer",Wh(Zv),fp.addGetterSetter(Zv,"imageSmoothingEnabled",!0),fp.addGetterSetter(Zv,"clearBeforeDraw",!0),fp.addGetterSetter(Zv,"hitGraphEnabled",!0,up());var jv=function(e){Lf(n,e);var t=Af(n);function n(e){var r;return(0,gn.Z)(this,n),(r=t.call(this,e)).listening(!1),tp.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.'),r}return(0,yn.Z)(n)}(Zv);jv.prototype.nodeType="FastLayer",Wh(jv);var Fv=function(e){Lf(n,e);var t=Af(n);function n(){return(0,gn.Z)(this,n),t.apply(this,arguments)}return(0,yn.Z)(n,[{key:"_validateAdd",value:function(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&tp.throw("You may only add groups and shapes to groups.")}}]),n}(Hp);Fv.prototype.nodeType="Group",Wh(Fv);var zv=Bh.performance&&Bh.performance.now?function(){return Bh.performance.now()}:function(){return(new Date).getTime()},Bv=function(){function e(t,n){(0,gn.Z)(this,e),this.id=e.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:zv(),frameRate:0},this.func=t,this.setLayers(n)}return(0,yn.Z)(e,[{key:"setLayers",value:function(e){var t=[];return t=e?e.length>0?e:[e]:[],this.layers=t,this}},{key:"getLayers",value:function(){return this.layers}},{key:"addLayer",value:function(e){var t,n=this.layers,r=n.length;for(t=0;t<r;t++)if(n[t]._id===e._id)return!1;return this.layers.push(e),!0}},{key:"isRunning",value:function(){var t,n=e.animations,r=n.length;for(t=0;t<r;t++)if(n[t].id===this.id)return!0;return!1}},{key:"start",value:function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=zv(),e._addAnimation(this),this}},{key:"stop",value:function(){return e._removeAnimation(this),this}},{key:"_updateFrameObject",value:function(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}}],[{key:"_addAnimation",value:function(e){this.animations.push(e),this._handleAnimation()}},{key:"_removeAnimation",value:function(e){var t,n=e.id,r=this.animations,i=r.length;for(t=0;t<i;t++)if(r[t].id===n){this.animations.splice(t,1);break}}},{key:"_runFrames",value:function(){var e,t,n,r,i,o,a,s,l={},u=this.animations;for(r=0;r<u.length;r++)if(t=(e=u[r]).layers,n=e.func,e._updateFrameObject(zv()),o=t.length,!n||!1!==n.call(e,e.frame))for(i=0;i<o;i++)void 0!==(a=t[i])._id&&(l[a._id]=a);for(s in l)l.hasOwnProperty(s)&&l[s].batchDraw()}},{key:"_animationLoop",value:function(){var t=e;t.animations.length?(t._runFrames(),tp.requestAnimFrame(t._animationLoop)):t.animRunning=!1}},{key:"_handleAnimation",value:function(){this.animRunning||(this.animRunning=!0,tp.requestAnimFrame(this._animationLoop))}}]),e}();Bv.animations=[],Bv.animIdCounter=0,Bv.animRunning=!1;var Hv={node:1,duration:1,easing:1,onFinish:1,yoyo:1},Wv=0,Uv=["fill","stroke","shadowColor"],Gv=function(){function e(t,n,r,i,o,a,s){(0,gn.Z)(this,e),this.prop=t,this.propFunc=n,this.begin=i,this._pos=i,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=s,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=o-this.begin,this.pause()}return(0,yn.Z)(e,[{key:"fire",value:function(e){var t=this[e];t&&t()}},{key:"setTime",value:function(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}},{key:"getTime",value:function(){return this._time}},{key:"setPosition",value:function(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}},{key:"getPosition",value:function(e){return void 0===e&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}},{key:"play",value:function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}},{key:"reverse",value:function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}},{key:"seek",value:function(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}},{key:"reset",value:function(){this.pause(),this._time=0,this.update(),this.fire("onReset")}},{key:"finish",value:function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}},{key:"update",value:function(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}},{key:"onEnterFrame",value:function(){var e=this.getTimer()-this._startTime;2===this.state?this.setTime(e):3===this.state&&this.setTime(this.duration-e)}},{key:"pause",value:function(){this.state=1,this.fire("onPause")}},{key:"getTimer",value:function(){return(new Date).getTime()}}]),e}(),qv=function(){function e(t){(0,gn.Z)(this,e);var n,r,i=this,o=t.node,a=o._id,s=t.easing||Vv.Linear,l=!!t.yoyo;n="undefined"===typeof t.duration?.3:0===t.duration?.001:t.duration,this.node=o,this._id=Wv++;var u=o.getLayer()||(o instanceof Hh.Stage?o.getLayers():null);for(r in u||tp.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Bv((function(){i.tween.onEnterFrame()}),u),this.tween=new Gv(r,(function(e){i._tweenFunc(e)}),s,0,1,1e3*n,l),this._addListeners(),e.attrs[a]||(e.attrs[a]={}),e.attrs[a][this._id]||(e.attrs[a][this._id]={}),e.tweens[a]||(e.tweens[a]={}),t)void 0===Hv[r]&&this._addAttr(r,t[r]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset,this.onUpdate=t.onUpdate}return(0,yn.Z)(e,[{key:"_addAttr",value:function(t,n){var r,i,o,a,s,l,u,c,d=this.node,f=d._id;if((o=e.tweens[f][t])&&delete e.attrs[f][o][t],r=d.getAttr(t),tp._isArray(n))if(i=[],s=Math.max(n.length,r.length),"points"===t&&n.length!==r.length&&(n.length>r.length?(u=r,r=tp._prepareArrayForTween(r,n,d.closed())):(l=n,n=tp._prepareArrayForTween(n,r,d.closed()))),0===t.indexOf("fill"))for(a=0;a<s;a++)if(a%2===0)i.push(n[a]-r[a]);else{var h=tp.colorToRGBA(r[a]);c=tp.colorToRGBA(n[a]),r[a]=h,i.push({r:c.r-h.r,g:c.g-h.g,b:c.b-h.b,a:c.a-h.a})}else for(a=0;a<s;a++)i.push(n[a]-r[a]);else-1!==Uv.indexOf(t)?(r=tp.colorToRGBA(r),i={r:(c=tp.colorToRGBA(n)).r-r.r,g:c.g-r.g,b:c.b-r.b,a:c.a-r.a}):i=n-r;e.attrs[f][this._id][t]={start:r,diff:i,end:n,trueEnd:l,trueStart:u},e.tweens[f][t]=this._id}},{key:"_tweenFunc",value:function(t){var n,r,i,o,a,s,l,u,c=this.node,d=e.attrs[c._id][this._id];for(n in d){if(i=(r=d[n]).start,o=r.diff,u=r.end,tp._isArray(i))if(a=[],l=Math.max(i.length,u.length),0===n.indexOf("fill"))for(s=0;s<l;s++)s%2===0?a.push((i[s]||0)+o[s]*t):a.push("rgba("+Math.round(i[s].r+o[s].r*t)+","+Math.round(i[s].g+o[s].g*t)+","+Math.round(i[s].b+o[s].b*t)+","+(i[s].a+o[s].a*t)+")");else for(s=0;s<l;s++)a.push((i[s]||0)+o[s]*t);else a=-1!==Uv.indexOf(n)?"rgba("+Math.round(i.r+o.r*t)+","+Math.round(i.g+o.g*t)+","+Math.round(i.b+o.b*t)+","+(i.a+o.a*t)+")":i+o*t;c.setAttr(n,a)}}},{key:"_addListeners",value:function(){var t=this;this.tween.onPlay=function(){t.anim.start()},this.tween.onReverse=function(){t.anim.start()},this.tween.onPause=function(){t.anim.stop()},this.tween.onFinish=function(){var n=t.node,r=e.attrs[n._id][t._id];r.points&&r.points.trueEnd&&n.setAttr("points",r.points.trueEnd),t.onFinish&&t.onFinish.call(t)},this.tween.onReset=function(){var n=t.node,r=e.attrs[n._id][t._id];r.points&&r.points.trueStart&&n.points(r.points.trueStart),t.onReset&&t.onReset()},this.tween.onUpdate=function(){t.onUpdate&&t.onUpdate.call(t)}}},{key:"play",value:function(){return this.tween.play(),this}},{key:"reverse",value:function(){return this.tween.reverse(),this}},{key:"reset",value:function(){return this.tween.reset(),this}},{key:"seek",value:function(e){return this.tween.seek(1e3*e),this}},{key:"pause",value:function(){return this.tween.pause(),this}},{key:"finish",value:function(){return this.tween.finish(),this}},{key:"destroy",value:function(){var t,n=this.node._id,r=this._id,i=e.tweens[n];for(t in this.pause(),i)delete e.tweens[n][t];delete e.attrs[n][r]}}]),e}();qv.attrs={},qv.tweens={},jp.prototype.to=function(e){var t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()},new qv(e).play()};var Vv={BackEaseIn:function(e,t,n,r){var i=1.70158;return n*(e/=r)*e*((i+1)*e-i)+t},BackEaseOut:function(e,t,n,r){var i=1.70158;return n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},BackEaseInOut:function(e,t,n,r){var i=1.70158;return(e/=r/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},ElasticEaseIn:function(e,t,n,r,i,o){var a=0;return 0===e?t:1===(e/=r)?t+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)+t)},ElasticEaseOut:function(e,t,n,r,i,o){var a=0;return 0===e?t:1===(e/=r)?t+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-a)*(2*Math.PI)/o)+n+t)},ElasticEaseInOut:function(e,t,n,r,i,o){var a=0;return 0===e?t:2===(e/=r/2)?t+n:(o||(o=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*-.5+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*.5+n+t)},BounceEaseOut:function(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},BounceEaseIn:function(e,t,n,r){return n-Vv.BounceEaseOut(r-e,0,n,r)+t},BounceEaseInOut:function(e,t,n,r){return e<r/2?.5*Vv.BounceEaseIn(2*e,0,n,r)+t:.5*Vv.BounceEaseOut(2*e-r,0,n,r)+.5*n+t},EaseIn:function(e,t,n,r){return n*(e/=r)*e+t},EaseOut:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},EaseInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},StrongEaseIn:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},StrongEaseOut:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},StrongEaseInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},Linear:function(e,t,n,r){return n*e/r+t}},Yv=tp._assign(Hh,{Util:tp,Transform:Vh,Node:jp,Container:Hp,Stage:Cv,stages:kv,Layer:Zv,FastLayer:jv,Group:Fv,DD:wp,Shape:Nv,shapes:Dv,Animation:Bv,Tween:qv,Easings:Vv,Context:vp,Canvas:bp}),Kv=function(e){Lf(n,e);var t=Af(n);function n(){return(0,gn.Z)(this,n),t.apply(this,arguments)}return(0,yn.Z)(n,[{key:"_sceneFunc",value:function(e){var t=Hh.getAngle(this.angle()),n=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,n),e.arc(0,0,this.innerRadius(),t,0,!n),e.closePath(),e.fillStrokeShape(this)}},{key:"getWidth",value:function(){return 2*this.outerRadius()}},{key:"getHeight",value:function(){return 2*this.outerRadius()}},{key:"setWidth",value:function(e){this.outerRadius(e/2)}},{key:"setHeight",value:function(e){this.outerRadius(e/2)}},{key:"getSelfRect",value:function(){var e=this.innerRadius(),t=this.outerRadius(),n=this.clockwise(),r=Hh.getAngle(n?360-this.angle():this.angle()),i=Math.cos(Math.min(r,Math.PI)),o=Math.sin(Math.min(Math.max(Math.PI,r),3*Math.PI/2)),a=Math.sin(Math.min(r,Math.PI/2)),s=i*(i>0?e:t),l=1*t,u=o*(o>0?e:t),c=a*(a>0?t:e);return{x:Math.round(s),y:Math.round(n?-1*c:u),width:Math.round(l-s),height:Math.round(c-u)}}}]),n}(Nv);function Xv(e,t,n,r,i,o,a){var s=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2)),u=a*s/(s+l),c=a*l/(s+l);return[n-u*(i-e),r-u*(o-t),n+c*(i-e),r+c*(o-t)]}function Qv(e,t){var n,r,i=e.length,o=[];for(n=2;n<i-2;n+=2)r=Xv(e[n-2],e[n-1],e[n],e[n+1],e[n+2],e[n+3],t),isNaN(r[0])||(o.push(r[0]),o.push(r[1]),o.push(e[n]),o.push(e[n+1]),o.push(r[2]),o.push(r[3]));return o}Kv.prototype._centroid=!0,Kv.prototype.className="Arc",Kv.prototype._attrsAffectingSize=["innerRadius","outerRadius"],Wh(Kv),fp.addGetterSetter(Kv,"innerRadius",0,ip()),fp.addGetterSetter(Kv,"outerRadius",0,ip()),fp.addGetterSetter(Kv,"angle",0,ip()),fp.addGetterSetter(Kv,"clockwise",!1,up());var $v=function(e){Lf(n,e);var t=Af(n);function n(e){var r;return(0,gn.Z)(this,n),(r=t.call(this,e)).on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")})),r}return(0,yn.Z)(n,[{key:"_sceneFunc",value:function(e){var t,n,r,i=this.points(),o=i.length,a=this.tension(),s=this.closed(),l=this.bezier();if(o){if(e.beginPath(),e.moveTo(i[0],i[1]),0!==a&&o>4){for(n=(t=this.getTensionPoints()).length,r=s?0:4,s||e.quadraticCurveTo(t[0],t[1],t[2],t[3]);r<n-2;)e.bezierCurveTo(t[r++],t[r++],t[r++],t[r++],t[r++],t[r++]);s||e.quadraticCurveTo(t[n-2],t[n-1],i[o-2],i[o-1])}else if(l)for(r=2;r<o;)e.bezierCurveTo(i[r++],i[r++],i[r++],i[r++],i[r++],i[r++]);else for(r=2;r<o;r+=2)e.lineTo(i[r],i[r+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}},{key:"getTensionPoints",value:function(){return this._getCache("tensionPoints",this._getTensionPoints)}},{key:"_getTensionPoints",value:function(){return this.closed()?this._getTensionPointsClosed():Qv(this.points(),this.tension())}},{key:"_getTensionPointsClosed",value:function(){var e=this.points(),t=e.length,n=this.tension(),r=Xv(e[t-2],e[t-1],e[0],e[1],e[2],e[3],n),i=Xv(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],n),o=Qv(e,n);return[r[2],r[3]].concat(o).concat([i[0],i[1],e[t-2],e[t-1],i[2],i[3],r[0],r[1],e[0],e[1]])}},{key:"getWidth",value:function(){return this.getSelfRect().width}},{key:"getHeight",value:function(){return this.getSelfRect().height}},{key:"getSelfRect",value:function(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};for(var t,n,r=(e=0!==this.tension()?[e[0],e[1]].concat((0,nr.Z)(this._getTensionPoints()),[e[e.length-2],e[e.length-1]]):this.points())[0],i=e[0],o=e[1],a=e[1],s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),i=Math.max(i,t),o=Math.min(o,n),a=Math.max(a,n);return{x:r,y:o,width:i-r,height:a-o}}}]),n}(Nv);$v.prototype.className="Line",$v.prototype._attrsAffectingSize=["points","bezier","tension"],Wh($v),fp.addGetterSetter($v,"closed",!1),fp.addGetterSetter($v,"bezier",!1),fp.addGetterSetter($v,"tension",0,ip()),fp.addGetterSetter($v,"points",[],function(){if(Hh.isUnminified)return function(e,t){return tp._isArray(e)?e.forEach((function(e){tp._isNumber(e)||tp.warn('"'+t+'" attribute has non numeric element '+e+". Make sure that all elements are numbers.")})):tp.warn(np(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.'),e}}());var Jv=function(e){Lf(n,e);var t=Af(n);function n(e){var r;(0,gn.Z)(this,n),(r=t.call(this,e)).dataArray=[],r.pathLength=0,r.dataArray=n.parsePathData(r.data()),r.pathLength=0;for(var i=0;i<r.dataArray.length;++i)r.pathLength+=r.dataArray[i].pathLength;return r.on("dataChange.konva",(function(){this.dataArray=n.parsePathData(this.data()),this.pathLength=0;for(var e=0;e<this.dataArray.length;++e)this.pathLength+=this.dataArray[e].pathLength})),r}return(0,yn.Z)(n,[{key:"_sceneFunc",value:function(e){var t=this.dataArray;e.beginPath();for(var n=!1,r=0;r<t.length;r++){var i=t[r].command,o=t[r].points;switch(i){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var a=o[0],s=o[1],l=o[2],u=o[3],c=o[4],d=o[5],f=o[6],h=o[7],p=l>u?l:u,v=l>u?1:l/u,m=l>u?u/l:1;e.translate(a,s),e.rotate(f),e.scale(v,m),e.arc(0,0,p,c,c+d,1-h),e.scale(1/v,1/m),e.rotate(-f),e.translate(-a,-s);break;case"z":n=!0,e.closePath()}}n||this.hasFill()?e.fillStrokeShape(this):e.strokeShape(this)}},{key:"getSelfRect",value:function(){var e=[];this.dataArray.forEach((function(t){if("A"===t.command){var r=t.points[4],i=t.points[5],o=t.points[4]+i,a=Math.PI/180;if(Math.abs(r-o)<a&&(a=Math.abs(r-o)),i<0)for(var s=r-a;s>o;s-=a){var l=n.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],s,0);e.push(l.x,l.y)}else for(var u=r+a;u<o;u+=a){var c=n.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],u,0);e.push(c.x,c.y)}}else if("C"===t.command)for(var d=0;d<=1;d+=.01){var f=n.getPointOnCubicBezier(d,t.start.x,t.start.y,t.points[0],t.points[1],t.points[2],t.points[3],t.points[4],t.points[5]);e.push(f.x,f.y)}else e=e.concat(t.points)}));for(var t,r,i=e[0],o=e[0],a=e[1],s=e[1],l=0;l<e.length/2;l++)t=e[2*l],r=e[2*l+1],isNaN(t)||(i=Math.min(i,t),o=Math.max(o,t)),isNaN(r)||(a=Math.min(a,r),s=Math.max(s,r));return{x:Math.round(i),y:Math.round(a),width:Math.round(o-i),height:Math.round(s-a)}}},{key:"getLength",value:function(){return this.pathLength}},{key:"getPointAtLength",value:function(e){var t,r=0,i=this.dataArray.length;if(!i)return null;for(;r<i&&e>this.dataArray[r].pathLength;)e-=this.dataArray[r].pathLength,++r;if(r===i)return{x:(t=this.dataArray[r-1].points.slice(-2))[0],y:t[1]};if(e<.01)return{x:(t=this.dataArray[r].points.slice(0,2))[0],y:t[1]};var o=this.dataArray[r],a=o.points;switch(o.command){case"L":return n.getPointOnLine(e,o.start.x,o.start.y,a[0],a[1]);case"C":return n.getPointOnCubicBezier(e/o.pathLength,o.start.x,o.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return n.getPointOnQuadraticBezier(e/o.pathLength,o.start.x,o.start.y,a[0],a[1],a[2],a[3]);case"A":var s=a[0],l=a[1],u=a[2],c=a[3],d=a[4],f=a[5],h=a[6];return d+=f*e/o.pathLength,n.getPointOnEllipticalArc(s,l,u,c,d,h)}return null}}],[{key:"getLineLength",value:function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}},{key:"getPointOnLine",value:function(e,t,n,r,i,o,a){void 0===o&&(o=t),void 0===a&&(a=n);var s=(i-n)/(r-t+1e-8),l=Math.sqrt(e*e/(1+s*s));r<t&&(l*=-1);var u,c=s*l;if(r===t)u={x:o,y:a+c};else if((a-n)/(o-t+1e-8)===s)u={x:o+l,y:a+c};else{var d,f,h=this.getLineLength(t,n,r,i),p=(o-t)*(r-t)+(a-n)*(i-n);d=t+(p/=h*h)*(r-t),f=n+p*(i-n);var v=this.getLineLength(o,a,d,f),m=Math.sqrt(e*e-v*v);l=Math.sqrt(m*m/(1+s*s)),r<t&&(l*=-1),u={x:d+l,y:f+(c=s*l)}}return u}},{key:"getPointOnCubicBezier",value:function(e,t,n,r,i,o,a,s,l){function u(e){return e*e*e}function c(e){return 3*e*e*(1-e)}function d(e){return 3*e*(1-e)*(1-e)}function f(e){return(1-e)*(1-e)*(1-e)}return{x:s*u(e)+o*c(e)+r*d(e)+t*f(e),y:l*u(e)+a*c(e)+i*d(e)+n*f(e)}}},{key:"getPointOnQuadraticBezier",value:function(e,t,n,r,i,o,a){function s(e){return e*e}function l(e){return 2*e*(1-e)}function u(e){return(1-e)*(1-e)}return{x:o*s(e)+r*l(e)+t*u(e),y:a*s(e)+i*l(e)+n*u(e)}}},{key:"getPointOnEllipticalArc",value:function(e,t,n,r,i,o){var a=Math.cos(o),s=Math.sin(o),l=n*Math.cos(i),u=r*Math.sin(i);return{x:e+(l*a-u*s),y:t+(l*s+u*a)}}},{key:"parsePathData",value:function(e){if(!e)return[];var t=e,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var r=0;r<n.length;r++)t=t.replace(new RegExp(n[r],"g"),"|"+n[r]);var i,o=t.split("|"),a=[],s=[],l=0,u=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(r=1;r<o.length;r++){var d=o[r],f=d.charAt(0);for(d=d.slice(1),s.length=0;i=c.exec(d);)s.push(i[0]);for(var h=[],p=0,v=s.length;p<v;p++)if("00"!==s[p]){var m=parseFloat(s[p]);isNaN(m)?h.push(0):h.push(m)}else h.push(0,0);for(;h.length>0&&!isNaN(h[0]);){var g,y,b,_,x,w,S,k,C,E,T=null,P=[],I=l,R=u;switch(f){case"l":l+=h.shift(),u+=h.shift(),T="L",P.push(l,u);break;case"L":l=h.shift(),u=h.shift(),P.push(l,u);break;case"m":var O=h.shift(),L=h.shift();if(l+=O,u+=L,T="M",a.length>2&&"z"===a[a.length-1].command)for(var D=a.length-2;D>=0;D--)if("M"===a[D].command){l=a[D].points[0]+O,u=a[D].points[1]+L;break}P.push(l,u),f="l";break;case"M":l=h.shift(),u=h.shift(),T="M",P.push(l,u),f="L";break;case"h":l+=h.shift(),T="L",P.push(l,u);break;case"H":l=h.shift(),T="L",P.push(l,u);break;case"v":u+=h.shift(),T="L",P.push(l,u);break;case"V":u=h.shift(),T="L",P.push(l,u);break;case"C":P.push(h.shift(),h.shift(),h.shift(),h.shift()),l=h.shift(),u=h.shift(),P.push(l,u);break;case"c":P.push(l+h.shift(),u+h.shift(),l+h.shift(),u+h.shift()),l+=h.shift(),u+=h.shift(),T="C",P.push(l,u);break;case"S":y=l,b=u,"C"===(g=a[a.length-1]).command&&(y=l+(l-g.points[2]),b=u+(u-g.points[3])),P.push(y,b,h.shift(),h.shift()),l=h.shift(),u=h.shift(),T="C",P.push(l,u);break;case"s":y=l,b=u,"C"===(g=a[a.length-1]).command&&(y=l+(l-g.points[2]),b=u+(u-g.points[3])),P.push(y,b,l+h.shift(),u+h.shift()),l+=h.shift(),u+=h.shift(),T="C",P.push(l,u);break;case"Q":P.push(h.shift(),h.shift()),l=h.shift(),u=h.shift(),P.push(l,u);break;case"q":P.push(l+h.shift(),u+h.shift()),l+=h.shift(),u+=h.shift(),T="Q",P.push(l,u);break;case"T":y=l,b=u,"Q"===(g=a[a.length-1]).command&&(y=l+(l-g.points[0]),b=u+(u-g.points[1])),l=h.shift(),u=h.shift(),T="Q",P.push(y,b,l,u);break;case"t":y=l,b=u,"Q"===(g=a[a.length-1]).command&&(y=l+(l-g.points[0]),b=u+(u-g.points[1])),l+=h.shift(),u+=h.shift(),T="Q",P.push(y,b,l,u);break;case"A":_=h.shift(),x=h.shift(),w=h.shift(),S=h.shift(),k=h.shift(),C=l,E=u,l=h.shift(),u=h.shift(),T="A",P=this.convertEndpointToCenterParameterization(C,E,l,u,S,k,_,x,w);break;case"a":_=h.shift(),x=h.shift(),w=h.shift(),S=h.shift(),k=h.shift(),C=l,E=u,l+=h.shift(),u+=h.shift(),T="A",P=this.convertEndpointToCenterParameterization(C,E,l,u,S,k,_,x,w)}a.push({command:T||f,points:P,start:{x:I,y:R},pathLength:this.calcLength(I,R,T||f,P)})}"z"!==f&&"Z"!==f||a.push({command:"z",points:[],start:void 0,pathLength:0})}return a}},{key:"calcLength",value:function(e,t,r,i){var o,a,s,l,u=n;switch(r){case"L":return u.getLineLength(e,t,i[0],i[1]);case"C":for(o=0,a=u.getPointOnCubicBezier(0,e,t,i[0],i[1],i[2],i[3],i[4],i[5]),l=.01;l<=1;l+=.01)s=u.getPointOnCubicBezier(l,e,t,i[0],i[1],i[2],i[3],i[4],i[5]),o+=u.getLineLength(a.x,a.y,s.x,s.y),a=s;return o;case"Q":for(o=0,a=u.getPointOnQuadraticBezier(0,e,t,i[0],i[1],i[2],i[3]),l=.01;l<=1;l+=.01)s=u.getPointOnQuadraticBezier(l,e,t,i[0],i[1],i[2],i[3]),o+=u.getLineLength(a.x,a.y,s.x,s.y),a=s;return o;case"A":o=0;var c=i[4],d=i[5],f=i[4]+d,h=Math.PI/180;if(Math.abs(c-f)<h&&(h=Math.abs(c-f)),a=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),d<0)for(l=c-h;l>f;l-=h)s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=u.getLineLength(a.x,a.y,s.x,s.y),a=s;else for(l=c+h;l<f;l+=h)s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=u.getLineLength(a.x,a.y,s.x,s.y),a=s;return s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],f,0),o+=u.getLineLength(a.x,a.y,s.x,s.y)}return 0}},{key:"convertEndpointToCenterParameterization",value:function(e,t,n,r,i,o,a,s,l){var u=l*(Math.PI/180),c=Math.cos(u)*(e-n)/2+Math.sin(u)*(t-r)/2,d=-1*Math.sin(u)*(e-n)/2+Math.cos(u)*(t-r)/2,f=c*c/(a*a)+d*d/(s*s);f>1&&(a*=Math.sqrt(f),s*=Math.sqrt(f));var h=Math.sqrt((a*a*(s*s)-a*a*(d*d)-s*s*(c*c))/(a*a*(d*d)+s*s*(c*c)));i===o&&(h*=-1),isNaN(h)&&(h=0);var p=h*a*d/s,v=h*-s*c/a,m=(e+n)/2+Math.cos(u)*p-Math.sin(u)*v,g=(t+r)/2+Math.sin(u)*p+Math.cos(u)*v,y=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},b=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(y(e)*y(t))},_=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(b(e,t))},x=_([1,0],[(c-p)/a,(d-v)/s]),w=[(c-p)/a,(d-v)/s],S=[(-1*c-p)/a,(-1*d-v)/s],k=_(w,S);return b(w,S)<=-1&&(k=Math.PI),b(w,S)>=1&&(k=0),0===o&&k>0&&(k-=2*Math.PI),1===o&&k<0&&(k+=2*Math.PI),[m,g,a,s,x,k,u,o]}}]),n}(Nv);Jv.prototype.className="Path",Jv.prototype._attrsAffectingSize=["data"],Wh(Jv),fp.addGetterSetter(Jv,"data");var em=function(e){Lf(n,e);var t=Af(n);function n(){return(0,gn.Z)(this,n),t.apply(this,arguments)}return(0,yn.Z)(n,[{key:"_sceneFunc",value:function(e){Bp(Df(n.prototype),"_sceneFunc",this).call(this,e);var t=2*Math.PI,r=this.points(),i=r,o=0!==this.tension()&&r.length>4;o&&(i=this.getTensionPoints());var a,s,l=this.pointerLength(),u=r.length;if(o){var c=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[u-2],r[u-1]],d=Jv.calcLength(i[i.length-4],i[i.length-3],"C",c),f=Jv.getPointOnQuadraticBezier(Math.min(1,1-l/d),c[0],c[1],c[2],c[3],c[4],c[5]);a=r[u-2]-f.x,s=r[u-1]-f.y}else a=r[u-2]-r[u-4],s=r[u-1]-r[u-3];var h=(Math.atan2(s,a)+t)%t,p=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[u-2],r[u-1]),e.rotate(h),e.moveTo(0,0),e.lineTo(-l,p/2),e.lineTo(-l,-p/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),o?(a=(i[0]+i[2])/2-r[0],s=(i[1]+i[3])/2-r[1]):(a=r[2]-r[0],s=r[3]-r[1]),e.rotate((Math.atan2(-s,-a)+t)%t),e.moveTo(0,0),e.lineTo(-l,p/2),e.lineTo(-l,-p/2),e.closePath(),e.restore(),this.__fillStroke(e))}},{key:"__fillStroke",value:function(e){var t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}},{key:"getSelfRect",value:function(){var e=Bp(Df(n.prototype),"getSelfRect",this).call(this),t=this.pointerWidth()/2;return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}}}]),n}($v);em.prototype.className="Arrow",Wh(em),fp.addGetterSetter(em,"pointerLength",10,ip()),fp.addGetterSetter(em,"pointerWidth",10,ip()),fp.addGetterSetter(em,"pointerAtBeginning",!1),fp.addGetterSetter(em,"pointerAtEnding",!0);var tm=function(e){Lf(n,e);var t=Af(n);function n(){return(0,gn.Z)(this,n),t.apply(this,arguments)}return(0,yn.Z)(n,[{key:"_sceneFunc",value:function(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),e.closePath(),e.fillStrokeShape(this)}},{key:"getWidth",value:function(){return 2*this.radius()}},{key:"getHeight",value:function(){return 2*this.radius()}},{key:"setWidth",value:function(e){this.radius()!==e/2&&this.radius(e/2)}},{key:"setHeight",value:function(e){this.radius()!==e/2&&this.radius(e/2)}}]),n}(Nv);tm.prototype._centroid=!0,tm.prototype.className="Circle",tm.prototype._attrsAffectingSize=["radius"],Wh(tm),fp.addGetterSetter(tm,"radius",0,ip());var nm=function(e){Lf(n,e);var t=Af(n);function n(){return(0,gn.Z)(this,n),t.apply(this,arguments)}return(0,yn.Z)(n,[{key:"_sceneFunc",value:function(e){var t=this.radiusX(),n=this.radiusY();e.beginPath(),e.save(),t!==n&&e.scale(1,n/t),e.arc(0,0,t,0,2*Math.PI,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}},{key:"getWidth",value:function(){return 2*this.radiusX()}},{key:"getHeight",value:function(){return 2*this.radiusY()}},{key:"setWidth",value:function(e){this.radiusX(e/2)}},{key:"setHeight",value:function(e){this.radiusY(e/2)}}]),n}(Nv);nm.prototype.className="Ellipse",nm.prototype._centroid=!0,nm.prototype._attrsAffectingSize=["radiusX","radiusY"],Wh(nm),fp.addComponentsGetterSetter(nm,"radius",["x","y"]),fp.addGetterSetter(nm,"radiusX",0,ip()),fp.addGetterSetter(nm,"radiusY",0,ip());var rm=function(e){Lf(n,e);var t=Af(n);function n(e){var r;return(0,gn.Z)(this,n),(r=t.call(this,e)).on("imageChange.konva",(function(){r._setImageLoad()})),r._setImageLoad(),r}return(0,yn.Z)(n,[{key:"_setImageLoad",value:function(){var e=this,t=this.image();t&&t.complete||t&&4===t.readyState||t&&t.addEventListener&&t.addEventListener("load",(function(){e._requestDraw()}))}},{key:"_useBufferCanvas",value:function(){return Bp(Df(n.prototype),"_useBufferCanvas",this).call(this,!0)}},{key:"_sceneFunc",value:function(e){var t,n=this.getWidth(),r=this.getHeight(),i=this.attrs.image;if(i){var o=this.attrs.cropWidth,a=this.attrs.cropHeight;t=o&&a?[i,this.cropX(),this.cropY(),o,a,0,0,n,r]:[i,0,0,n,r]}(this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),i&&e.drawImage.apply(e,t)}},{key:"_hitFunc",value:function(e){var t=this.width(),n=this.height();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}},{key:"getWidth",value:function(){var e,t;return null!==(e=this.attrs.width)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.width}},{key:"getHeight",value:function(){var e,t;return null!==(e=this.attrs.height)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.height}}],[{key:"fromURL",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=tp.createImageElement();i.onload=function(){var e=new n({image:i});t(e)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}}]),n}(Nv);rm.prototype.className="Image",Wh(rm),fp.addGetterSetter(rm,"image"),fp.addComponentsGetterSetter(rm,"crop",["x","y","width","height"]),fp.addGetterSetter(rm,"cropX",0,ip()),fp.addGetterSetter(rm,"cropY",0,ip()),fp.addGetterSetter(rm,"cropWidth",0,ip()),fp.addGetterSetter(rm,"cropHeight",0,ip());var im=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height"],om="up",am="right",sm="down",lm="left",um=im.length,cm=function(e){Lf(n,e);var t=Af(n);function n(e){var r;return(0,gn.Z)(this,n),(r=t.call(this,e)).on("add.konva",(function(e){this._addListeners(e.child),this._sync()})),r}return(0,yn.Z)(n,[{key:"getText",value:function(){return this.find("Text")[0]}},{key:"getTag",value:function(){return this.find("Tag")[0]}},{key:"_addListeners",value:function(e){var t,n=this,r=function(){n._sync()};for(t=0;t<um;t++)e.on(im[t]+"Change.konva",r)}},{key:"getWidth",value:function(){return this.getText().width()}},{key:"getHeight",value:function(){return this.getText().height()}},{key:"_sync",value:function(){var e,t,n,r,i,o,a,s=this.getText(),l=this.getTag();if(s&&l){switch(e=s.width(),t=s.height(),n=l.pointerDirection(),r=l.pointerWidth(),a=l.pointerHeight(),i=0,o=0,n){case om:i=e/2,o=-1*a;break;case am:i=e+r,o=t/2;break;case sm:i=e/2,o=t+a;break;case lm:i=-1*r,o=t/2}l.setAttrs({x:-1*i,y:-1*o,width:e,height:t}),s.setAttrs({x:-1*i,y:-1*o})}}}]),n}(Fv);cm.prototype.className="Label",Wh(cm);var dm=function(e){Lf(n,e);var t=Af(n);function n(){return(0,gn.Z)(this,n),t.apply(this,arguments)}return(0,yn.Z)(n,[{key:"_sceneFunc",value:function(e){var t=this.width(),n=this.height(),r=this.pointerDirection(),i=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius(),s=0,l=0,u=0,c=0;"number"===typeof a?s=l=u=c=Math.min(a,t/2,n/2):(s=Math.min(a[0]||0,t/2,n/2),l=Math.min(a[1]||0,t/2,n/2),c=Math.min(a[2]||0,t/2,n/2),u=Math.min(a[3]||0,t/2,n/2)),e.beginPath(),e.moveTo(s,0),r===om&&(e.lineTo((t-i)/2,0),e.lineTo(t/2,-1*o),e.lineTo((t+i)/2,0)),e.lineTo(t-l,0),e.arc(t-l,l,l,3*Math.PI/2,0,!1),r===am&&(e.lineTo(t,(n-o)/2),e.lineTo(t+i,n/2),e.lineTo(t,(n+o)/2)),e.lineTo(t,n-c),e.arc(t-c,n-c,c,0,Math.PI/2,!1),r===sm&&(e.lineTo((t+i)/2,n),e.lineTo(t/2,n+o),e.lineTo((t-i)/2,n)),e.lineTo(u,n),e.arc(u,n-u,u,Math.PI/2,Math.PI,!1),r===lm&&(e.lineTo(0,(n+o)/2),e.lineTo(-1*i,n/2),e.lineTo(0,(n-o)/2)),e.lineTo(0,s),e.arc(s,s,s,Math.PI,3*Math.PI/2,!1),e.closePath(),e.fillStrokeShape(this)}},{key:"getSelfRect",value:function(){var e=0,t=0,n=this.pointerWidth(),r=this.pointerHeight(),i=this.pointerDirection(),o=this.width(),a=this.height();return i===om?(t-=r,a+=r):i===sm?a+=r:i===lm?(e-=1.5*n,o+=n):i===am&&(o+=1.5*n),{x:e,y:t,width:o,height:a}}}]),n}(Nv);dm.prototype.className="Tag",Wh(dm),fp.addGetterSetter(dm,"pointerDirection","none"),fp.addGetterSetter(dm,"pointerWidth",0,ip()),fp.addGetterSetter(dm,"pointerHeight",0,ip()),fp.addGetterSetter(dm,"cornerRadius",0,op(4));var fm=function(e){Lf(n,e);var t=Af(n);function n(){return(0,gn.Z)(this,n),t.apply(this,arguments)}return(0,yn.Z)(n,[{key:"_sceneFunc",value:function(e){var t=this.cornerRadius(),n=this.width(),r=this.height();if(e.beginPath(),t){var i=0,o=0,a=0,s=0;"number"===typeof t?i=o=a=s=Math.min(t,n/2,r/2):(i=Math.min(t[0]||0,n/2,r/2),o=Math.min(t[1]||0,n/2,r/2),s=Math.min(t[2]||0,n/2,r/2),a=Math.min(t[3]||0,n/2,r/2)),e.moveTo(i,0),e.lineTo(n-o,0),e.arc(n-o,o,o,3*Math.PI/2,0,!1),e.lineTo(n,r-s),e.arc(n-s,r-s,s,0,Math.PI/2,!1),e.lineTo(a,r),e.arc(a,r-a,a,Math.PI/2,Math.PI,!1),e.lineTo(0,i),e.arc(i,i,i,Math.PI,3*Math.PI/2,!1)}else e.rect(0,0,n,r);e.closePath(),e.fillStrokeShape(this)}}]),n}(Nv);fm.prototype.className="Rect",Wh(fm),fp.addGetterSetter(fm,"cornerRadius",0,op(4));var hm=function(e){Lf(n,e);var t=Af(n);function n(){return(0,gn.Z)(this,n),t.apply(this,arguments)}return(0,yn.Z)(n,[{key:"_sceneFunc",value:function(e){var t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;n++)e.lineTo(t[n].x,t[n].y);e.closePath(),e.fillStrokeShape(this)}},{key:"_getPoints",value:function(){for(var e=this.attrs.sides,t=this.attrs.radius||0,n=[],r=0;r<e;r++)n.push({x:t*Math.sin(2*r*Math.PI/e),y:-1*t*Math.cos(2*r*Math.PI/e)});return n}},{key:"getSelfRect",value:function(){var e=this._getPoints(),t=e[0].x,n=e[0].y,r=e[0].x,i=e[0].y;return e.forEach((function(e){t=Math.min(t,e.x),n=Math.max(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.y)})),{x:t,y:r,width:n-t,height:i-r}}},{key:"getWidth",value:function(){return 2*this.radius()}},{key:"getHeight",value:function(){return 2*this.radius()}},{key:"setWidth",value:function(e){this.radius(e/2)}},{key:"setHeight",value:function(e){this.radius(e/2)}}]),n}(Nv);hm.prototype.className="RegularPolygon",hm.prototype._centroid=!0,hm.prototype._attrsAffectingSize=["radius"],Wh(hm),fp.addGetterSetter(hm,"radius",0,ip()),fp.addGetterSetter(hm,"sides",0,ip());var pm=2*Math.PI,vm=function(e){Lf(n,e);var t=Af(n);function n(){return(0,gn.Z)(this,n),t.apply(this,arguments)}return(0,yn.Z)(n,[{key:"_sceneFunc",value:function(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,pm,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),pm,0,!0),e.closePath(),e.fillStrokeShape(this)}},{key:"getWidth",value:function(){return 2*this.outerRadius()}},{key:"getHeight",value:function(){return 2*this.outerRadius()}},{key:"setWidth",value:function(e){this.outerRadius(e/2)}},{key:"setHeight",value:function(e){this.outerRadius(e/2)}}]),n}(Nv);vm.prototype.className="Ring",vm.prototype._centroid=!0,vm.prototype._attrsAffectingSize=["innerRadius","outerRadius"],Wh(vm),fp.addGetterSetter(vm,"innerRadius",0,ip()),fp.addGetterSetter(vm,"outerRadius",0,ip());var mm=function(e){Lf(n,e);var t=Af(n);function n(e){var r;return(0,gn.Z)(this,n),(r=t.call(this,e))._updated=!0,r.anim=new Bv((function(){var e=r._updated;return r._updated=!1,e})),r.on("animationChange.konva",(function(){this.frameIndex(0)})),r.on("frameIndexChange.konva",(function(){this._updated=!0})),r.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})),r}return(0,yn.Z)(n,[{key:"_sceneFunc",value:function(e){var t=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[t],o=this.frameOffsets(),a=i[r+0],s=i[r+1],l=i[r+2],u=i[r+3],c=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,l,u),e.closePath(),e.fillStrokeShape(this)),c)if(o){var d=o[t],f=2*n;e.drawImage(c,a,s,l,u,d[f+0],d[f+1],l,u)}else e.drawImage(c,a,s,l,u,0,0,l,u)}},{key:"_hitFunc",value:function(e){var t=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[t],o=this.frameOffsets(),a=i[r+2],s=i[r+3];if(e.beginPath(),o){var l=o[t],u=2*n;e.rect(l[u+0],l[u+1],a,s)}else e.rect(0,0,a,s);e.closePath(),e.fillShape(this)}},{key:"_useBufferCanvas",value:function(){return Bp(Df(n.prototype),"_useBufferCanvas",this).call(this,!0)}},{key:"_setInterval",value:function(){var e=this;this.interval=setInterval((function(){e._updateIndex()}),1e3/this.frameRate())}},{key:"start",value:function(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}},{key:"stop",value:function(){this.anim.stop(),clearInterval(this.interval)}},{key:"isRunning",value:function(){return this.anim.isRunning()}},{key:"_updateIndex",value:function(){var e=this.frameIndex(),t=this.animation();e<this.animations()[t].length/4-1?this.frameIndex(e+1):this.frameIndex(0)}}]),n}(Nv);mm.prototype.className="Sprite",Wh(mm),fp.addGetterSetter(mm,"animation"),fp.addGetterSetter(mm,"animations"),fp.addGetterSetter(mm,"frameOffsets"),fp.addGetterSetter(mm,"image"),fp.addGetterSetter(mm,"frameIndex",0,ip()),fp.addGetterSetter(mm,"frameRate",17,ip()),fp.backCompat(mm,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var gm=function(e){Lf(n,e);var t=Af(n);function n(){return(0,gn.Z)(this,n),t.apply(this,arguments)}return(0,yn.Z)(n,[{key:"_sceneFunc",value:function(e){var t=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(var i=1;i<2*r;i++){var o=i%2===0?n:t,a=o*Math.sin(i*Math.PI/r),s=-1*o*Math.cos(i*Math.PI/r);e.lineTo(a,s)}e.closePath(),e.fillStrokeShape(this)}},{key:"getWidth",value:function(){return 2*this.outerRadius()}},{key:"getHeight",value:function(){return 2*this.outerRadius()}},{key:"setWidth",value:function(e){this.outerRadius(e/2)}},{key:"setHeight",value:function(e){this.outerRadius(e/2)}}]),n}(Nv);function ym(e){return Array.from(e)}gm.prototype.className="Star",gm.prototype._centroid=!0,gm.prototype._attrsAffectingSize=["innerRadius","outerRadius"],Wh(gm),fp.addGetterSetter(gm,"numPoints",5,ip()),fp.addGetterSetter(gm,"innerRadius",0,ip()),fp.addGetterSetter(gm,"outerRadius",0,ip());var bm,_m="auto",xm="justify",wm="left",Sm="middle",km="normal",Cm=" ",Em=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Tm=Em.length;function Pm(){return bm||(bm=tp.createCanvasElement().getContext("2d"))}var Im=function(e){Lf(n,e);var t=Af(n);function n(e){var r;(0,gn.Z)(this,n),r=t.call(this,function(e){return(e=e||{}).fillLinearGradientColorStops||e.fillRadialGradientColorStops||e.fillPatternImage||(e.fill=e.fill||"black"),e}(e)),r._partialTextX=0,r._partialTextY=0;for(var i=0;i<Tm;i++)r.on(Em[i]+"Change.konva",r._setTextData);return r._setTextData(),r}return(0,yn.Z)(n,[{key:"_sceneFunc",value:function(e){var t=this.textArr,n=t.length;if(this.text()){var r,i=this.padding(),o=this.fontSize(),a=this.lineHeight()*o,s=this.verticalAlign(),l=0,u=this.align(),c=this.getWidth(),d=this.letterSpacing(),f=this.fill(),h=this.textDecoration(),p=-1!==h.indexOf("underline"),v=-1!==h.indexOf("line-through"),m=0,g=(m=a/2,0),y=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",Sm),e.setAttr("textAlign",wm),s===Sm?l=(this.getHeight()-n*a-2*i)/2:"bottom"===s&&(l=this.getHeight()-n*a-2*i),e.translate(i,l+i),r=0;r<n;r++){g=0,y=0;var b,_,x,w=t[r],S=w.text,k=w.width,C=r!==n-1;if(e.save(),"right"===u?g+=c-k-2*i:"center"===u&&(g+=(c-k-2*i)/2),p&&(e.save(),e.beginPath(),e.moveTo(g,m+y+Math.round(o/2)),_=0===(b=S.split(" ").length-1),x=u===xm&&C&&!_?c-2*i:k,e.lineTo(g+Math.round(x),m+y+Math.round(o/2)),e.lineWidth=o/15,e.strokeStyle=f,e.stroke(),e.restore()),v&&(e.save(),e.beginPath(),e.moveTo(g,m+y),_=0===(b=S.split(" ").length-1),x=u===xm&&C&&!_?c-2*i:k,e.lineTo(g+Math.round(x),m+y),e.lineWidth=o/15,e.strokeStyle=f,e.stroke(),e.restore()),0!==d||u===xm){b=S.split(" ").length-1;for(var E=ym(S),T=0;T<E.length;T++){var P=E[T];" "===P&&r!==n-1&&u===xm&&(g+=(c-2*i-k)/b),this._partialTextX=g,this._partialTextY=m+y,this._partialText=P,e.fillStrokeShape(this),g+=this.measureSize(P).width+d}}else this._partialTextX=g,this._partialTextY=m+y,this._partialText=S,e.fillStrokeShape(this);e.restore(),n>1&&(m+=a)}}}},{key:"_hitFunc",value:function(e){var t=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}},{key:"setText",value:function(e){var t=tp._isString(e)?e:null===e||void 0===e?"":e+"";return this._setAttr("text",t),this}},{key:"getWidth",value:function(){return this.attrs.width===_m||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}},{key:"getHeight",value:function(){return this.attrs.height===_m||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}},{key:"getTextWidth",value:function(){return this.textWidth}},{key:"getTextHeight",value:function(){return tp.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}},{key:"measureSize",value:function(e){var t,n=Pm(),r=this.fontSize();return n.save(),n.font=this._getContextFont(),t=n.measureText(e),n.restore(),{width:t.width,height:r}}},{key:"_getContextFont",value:function(){return this.fontStyle()+Cm+this.fontVariant()+Cm+(this.fontSize()+"px ")+this.fontFamily().split(",").map((function(e){var t=(e=e.trim()).indexOf(" ")>=0,n=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!n&&(e='"'.concat(e,'"')),e})).join(", ")}},{key:"_addTextLine",value:function(e){this.align()===xm&&(e=e.trim());var t=this._getTextWidth(e);return this.textArr.push({text:e,width:t})}},{key:"_getTextWidth",value:function(e){var t=this.letterSpacing(),n=e.length;return Pm().measureText(e).width+(n?t*(n-1):0)}},{key:"_setTextData",value:function(){var e=this.text().split("\n"),t=+this.fontSize(),n=0,r=this.lineHeight()*t,i=this.attrs.width,o=this.attrs.height,a=i!==_m&&void 0!==i,s=o!==_m&&void 0!==o,l=this.padding(),u=i-2*l,c=o-2*l,d=0,f=this.wrap(),h="none"!==f,p="char"!==f&&h,v=this.ellipsis();this.textArr=[],Pm().font=this._getContextFont();for(var m=v?this._getTextWidth("\u2026"):0,g=0,y=e.length;g<y;++g){var b=e[g],_=this._getTextWidth(b);if(a&&_>u)for(;b.length>0;){for(var x=0,w=b.length,S="",k=0;x<w;){var C=x+w>>>1,E=b.slice(0,C+1),T=this._getTextWidth(E)+m;T<=u?(x=C+1,S=E,k=T):w=C}if(!S)break;if(p){var P,I=b[S.length];(P=(I===Cm||"-"===I)&&k<=u?S.length:Math.max(S.lastIndexOf(Cm),S.lastIndexOf("-"))+1)>0&&(x=P,S=S.slice(0,x),k=this._getTextWidth(S))}if(S=S.trimRight(),this._addTextLine(S),n=Math.max(n,k),d+=r,!h||s&&d+r>c){var R=this.textArr[this.textArr.length-1];if(R)if(v)this._getTextWidth(R.text+"\u2026")<u||(R.text=R.text.slice(0,R.text.length-3)),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(R.text+"\u2026");break}if((b=(b=b.slice(x)).trimLeft()).length>0&&(_=this._getTextWidth(b))<=u){this._addTextLine(b),d+=r,n=Math.max(n,_);break}}else this._addTextLine(b),d+=r,n=Math.max(n,_);if(s&&d+r>c)break}this.textHeight=t,this.textWidth=n}},{key:"getStrokeScaleEnabled",value:function(){return!0}}]),n}(Nv);Im.prototype._fillFunc=function(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)},Im.prototype._strokeFunc=function(e){e.strokeText(this._partialText,this._partialTextX,this._partialTextY)},Im.prototype.className="Text",Im.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],Wh(Im),fp.overWriteSetter(Im,"width",ap()),fp.overWriteSetter(Im,"height",ap()),fp.addGetterSetter(Im,"fontFamily","Arial"),fp.addGetterSetter(Im,"fontSize",12,ip()),fp.addGetterSetter(Im,"fontStyle",km),fp.addGetterSetter(Im,"fontVariant",km),fp.addGetterSetter(Im,"padding",0,ip()),fp.addGetterSetter(Im,"align",wm),fp.addGetterSetter(Im,"verticalAlign","top"),fp.addGetterSetter(Im,"lineHeight",1,ip()),fp.addGetterSetter(Im,"wrap","word"),fp.addGetterSetter(Im,"ellipsis",!1,up()),fp.addGetterSetter(Im,"letterSpacing",0,ip()),fp.addGetterSetter(Im,"text","",sp()),fp.addGetterSetter(Im,"textDecoration","");var Rm="normal";function Om(e){e.fillText(this.partialText,0,0)}function Lm(e){e.strokeText(this.partialText,0,0)}var Dm=function(e){Lf(n,e);var t=Af(n);function n(e){var r;return(0,gn.Z)(this,n),(r=t.call(this,e)).dummyCanvas=tp.createCanvasElement(),r.dataArray=[],r.dataArray=Jv.parsePathData(r.attrs.data),r.on("dataChange.konva",(function(){this.dataArray=Jv.parsePathData(this.attrs.data),this._setTextData()})),r.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva",r._setTextData),r._setTextData(),r}return(0,yn.Z)(n,[{key:"_sceneFunc",value:function(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var t=this.textDecoration(),n=this.fill(),r=this.fontSize(),i=this.glyphInfo;"underline"===t&&e.beginPath();for(var o=0;o<i.length;o++){e.save();var a=i[o].p0;e.translate(a.x,a.y),e.rotate(i[o].rotation),this.partialText=i[o].text,e.fillStrokeShape(this),"underline"===t&&(0===o&&e.moveTo(0,r/2+1),e.lineTo(r,r/2+1)),e.restore()}"underline"===t&&(e.strokeStyle=n,e.lineWidth=r/20,e.stroke()),e.restore()}},{key:"_hitFunc",value:function(e){e.beginPath();var t=this.glyphInfo;if(t.length>=1){var n=t[0].p0;e.moveTo(n.x,n.y)}for(var r=0;r<t.length;r++){var i=t[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}},{key:"getTextWidth",value:function(){return this.textWidth}},{key:"getTextHeight",value:function(){return tp.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}},{key:"setText",value:function(e){return Im.prototype.setText.call(this,e)}},{key:"_getContextFont",value:function(){return Im.prototype._getContextFont.call(this)}},{key:"_getTextSize",value:function(e){var t=this.dummyCanvas.getContext("2d");t.save(),t.font=this._getContextFont();var n=t.measureText(e);return t.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}}},{key:"_setTextData",value:function(){var e=this,t=this._getTextSize(this.attrs.text),n=this.letterSpacing(),r=this.align(),i=this.kerningFunc();this.textWidth=t.width,this.textHeight=t.height;var o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var a=0,s=0;s<e.dataArray.length;s++)e.dataArray[s].pathLength>0&&(a+=e.dataArray[s].pathLength);var l=0;"center"===r&&(l=Math.max(0,a/2-o/2)),"right"===r&&(l=Math.max(0,a-o));for(var u,c,d,f=ym(this.text()),h=this.text().split(" ").length-1,p=-1,v=0,m=function(){v=0;for(var t=e.dataArray,n=p+1;n<t.length;n++){if(t[n].pathLength>0)return p=n,t[n];"M"===t[n].command&&(u={x:t[n].points[0],y:t[n].points[1]})}return{}},g=function(t){var i=e._getTextSize(t).width+n;" "===t&&"justify"===r&&(i+=(a-o)/h);var s=0,l=0;for(c=void 0;Math.abs(i-s)/i>.01&&l<20;){l++;for(var f=s;void 0===d;)(d=m())&&f+d.pathLength<i&&(f+=d.pathLength,d=void 0);if(d==={}||void 0===u)return;var p=!1;switch(d.command){case"L":Jv.getLineLength(u.x,u.y,d.points[0],d.points[1])>i?c=Jv.getPointOnLine(i,u.x,u.y,d.points[0],d.points[1],u.x,u.y):d=void 0;break;case"A":var g=d.points[4],y=d.points[5],b=d.points[4]+y;0===v?v=g+1e-8:i>s?v+=Math.PI/180*y/Math.abs(y):v-=Math.PI/360*y/Math.abs(y),(y<0&&v<b||y>=0&&v>b)&&(v=b,p=!0),c=Jv.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],v,d.points[6]);break;case"C":0===v?v=i>d.pathLength?1e-8:i/d.pathLength:i>s?v+=(i-s)/d.pathLength/2:v=Math.max(v-(s-i)/d.pathLength/2,0),v>1&&(v=1,p=!0),c=Jv.getPointOnCubicBezier(v,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);break;case"Q":0===v?v=i/d.pathLength:i>s?v+=(i-s)/d.pathLength:v-=(s-i)/d.pathLength,v>1&&(v=1,p=!0),c=Jv.getPointOnQuadraticBezier(v,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3])}void 0!==c&&(s=Jv.getLineLength(u.x,u.y,c.x,c.y)),p&&(p=!1,d=void 0)}},y=l/(e._getTextSize("C").width+n)-1,b=0;b<y&&(g("C"),void 0!==u&&void 0!==c);b++)u=c;for(var _=0;_<f.length&&(g(f[_]),void 0!==u&&void 0!==c);_++){var x=Jv.getLineLength(u.x,u.y,c.x,c.y),w=0;if(i)try{w=i(f[_-1],f[_])*this.fontSize()}catch(C){w=0}u.x+=w,c.x+=w,this.textWidth+=w;var S=Jv.getPointOnLine(w+x/2,u.x,u.y,c.x,c.y),k=Math.atan2(c.y-u.y,c.x-u.x);this.glyphInfo.push({transposeX:S.x,transposeY:S.y,text:f[_],rotation:k,p0:u,p1:c}),u=c}}},{key:"getSelfRect",value:function(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach((function(t){e.push(t.p0.x),e.push(t.p0.y),e.push(t.p1.x),e.push(t.p1.y)}));for(var t,n,r=e[0]||0,i=e[0]||0,o=e[1]||0,a=e[1]||0,s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),i=Math.max(i,t),o=Math.min(o,n),a=Math.max(a,n);var l=this.fontSize();return{x:r-l/2,y:o-l/2,width:i-r+l,height:a-o+l}}}]),n}(Nv);Dm.prototype._fillFunc=Om,Dm.prototype._strokeFunc=Lm,Dm.prototype._fillFuncHit=Om,Dm.prototype._strokeFuncHit=Lm,Dm.prototype.className="TextPath",Dm.prototype._attrsAffectingSize=["text","fontSize","data"],Wh(Dm),fp.addGetterSetter(Dm,"data"),fp.addGetterSetter(Dm,"fontFamily","Arial"),fp.addGetterSetter(Dm,"fontSize",12,ip()),fp.addGetterSetter(Dm,"fontStyle",Rm),fp.addGetterSetter(Dm,"align","left"),fp.addGetterSetter(Dm,"letterSpacing",0,ip()),fp.addGetterSetter(Dm,"textBaseline","middle"),fp.addGetterSetter(Dm,"fontVariant",Rm),fp.addGetterSetter(Dm,"text",""),fp.addGetterSetter(Dm,"textDecoration",null),fp.addGetterSetter(Dm,"kerningFunc",null);var Nm="tr-konva",Am=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((function(e){return e+".".concat(Nm)})).join(" "),Mm="nodesRect",Zm=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],jm={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},Fm="ontouchstart"in Hh._global;var zm=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function Bm(e,t,n){var r=n.x+(e.x-n.x)*Math.cos(t)-(e.y-n.y)*Math.sin(t),i=n.y+(e.x-n.x)*Math.sin(t)+(e.y-n.y)*Math.cos(t);return Object.assign(Object.assign({},e),{rotation:e.rotation+t,x:r,y:i})}function Hm(e,t){var n=function(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}(e);return Bm(e,t,n)}var Wm=function(e){Lf(n,e);var t=Af(n);function n(e){var r;return(0,gn.Z)(this,n),(r=t.call(this,e))._transforming=!1,r._createElements(),r._handleMouseMove=r._handleMouseMove.bind((0,ti.Z)(r)),r._handleMouseUp=r._handleMouseUp.bind((0,ti.Z)(r)),r.update=r.update.bind((0,ti.Z)(r)),r.on(Am,r.update),r.getNode()&&r.update(),r}return(0,yn.Z)(n,[{key:"attachTo",value:function(e){return this.setNode(e),this}},{key:"setNode",value:function(e){return tp.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}},{key:"getNode",value:function(){return this._nodes&&this._nodes[0]}},{key:"_getEventNamespace",value:function(){return Nm+this._id}},{key:"setNodes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._nodes&&this._nodes.length&&this.detach(),this._nodes=t,1===t.length&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((function(t){var n=function(){1===e.nodes().length&&e.useSingleNodeRotation()&&e.rotation(e.nodes()[0].getAbsoluteRotation()),e._resetTransformCache(),e._transforming||e.isDragging()||e.update()},r=t._attrsAffectingSize.map((function(t){return t+"Change."+e._getEventNamespace()})).join(" ");t.on(r,n),t.on(Zm.map((function(t){return t+".".concat(e._getEventNamespace())})).join(" "),n),t.on("absoluteTransformChange.".concat(e._getEventNamespace()),n),e._proxyDrag(t)})),this._resetTransformCache();var n=!!this.findOne(".top-left");return n&&this.update(),this}},{key:"_proxyDrag",value:function(e){var t,n=this;e.on("dragstart.".concat(this._getEventNamespace()),(function(r){t=e.getAbsolutePosition(),n.isDragging()||e===n.findOne(".back")||n.startDrag(r,!1)})),e.on("dragmove.".concat(this._getEventNamespace()),(function(r){if(t){var i=e.getAbsolutePosition(),o=i.x-t.x,a=i.y-t.y;n.nodes().forEach((function(t){if(t!==e&&!t.isDragging()){var n=t.getAbsolutePosition();t.setAbsolutePosition({x:n.x+o,y:n.y+a}),t.startDrag(r)}})),t=null}}))}},{key:"getNodes",value:function(){return this._nodes||[]}},{key:"getActiveAnchor",value:function(){return this._movingAnchorName}},{key:"detach",value:function(){var e=this;this._nodes&&this._nodes.forEach((function(t){t.off("."+e._getEventNamespace())})),this._nodes=[],this._resetTransformCache()}},{key:"_resetTransformCache",value:function(){this._clearCache(Mm),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}},{key:"_getNodeRect",value:function(){return this._getCache(Mm,this.__getNodeRect)}},{key:"__getNodeShape",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotation(),n=arguments.length>2?arguments[2]:void 0,r=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=e.getAbsoluteScale(n),o=e.getAbsolutePosition(n),a=r.x*i.x-e.offsetX()*i.x,s=r.y*i.y-e.offsetY()*i.y,l=(Hh.getAngle(e.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI),u={x:o.x+a*Math.cos(l)+s*Math.sin(-l),y:o.y+s*Math.cos(l)+a*Math.sin(l),width:r.width*i.x,height:r.height*i.y,rotation:l};return Bm(u,-Hh.getAngle(t),{x:0,y:0})}},{key:"__getNodeRect",value:function(){var e=this;if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};var t=[];this.nodes().map((function(n){var r=n.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:e.ignoreStroke()}),i=[{x:r.x,y:r.y},{x:r.x+r.width,y:r.y},{x:r.x+r.width,y:r.y+r.height},{x:r.x,y:r.y+r.height}],o=n.getAbsoluteTransform();i.forEach((function(e){var n=o.point(e);t.push(n)}))}));var n,r,i,o,a=new Vh;a.rotate(-Hh.getAngle(this.rotation())),t.forEach((function(e){var t=a.point(e);void 0===n&&(n=i=t.x,r=o=t.y),n=Math.min(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.x),o=Math.max(o,t.y)})),a.invert();var s=a.point({x:n,y:r});return{x:s.x,y:s.y,width:i-n,height:o-r,rotation:Hh.getAngle(this.rotation())}}},{key:"getX",value:function(){return this._getNodeRect().x}},{key:"getY",value:function(){return this._getNodeRect().y}},{key:"getWidth",value:function(){return this._getNodeRect().width}},{key:"getHeight",value:function(){return this._getNodeRect().height}},{key:"_createElements",value:function(){this._createBack(),zm.forEach(function(e){this._createAnchor(e)}.bind(this)),this._createAnchor("rotater")}},{key:"_createAnchor",value:function(e){var t=this,n=new fm({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:Fm?10:"auto"}),r=this;n.on("mousedown touchstart",(function(e){r._handleMouseDown(e)})),n.on("dragstart",(function(e){n.stopDrag(),e.cancelBubble=!0})),n.on("dragend",(function(e){e.cancelBubble=!0})),n.on("mouseenter",(function(){var r=Hh.getAngle(t.rotation()),i=function(e,t){if("rotater"===e)return"crosshair";t+=tp.degToRad(jm[e]||0);var n=(tp.radToDeg(t)%360+360)%360;return tp._inRange(n,337.5,360)||tp._inRange(n,0,22.5)?"ns-resize":tp._inRange(n,22.5,67.5)?"nesw-resize":tp._inRange(n,67.5,112.5)?"ew-resize":tp._inRange(n,112.5,157.5)?"nwse-resize":tp._inRange(n,157.5,202.5)?"ns-resize":tp._inRange(n,202.5,247.5)?"nesw-resize":tp._inRange(n,247.5,292.5)?"ew-resize":tp._inRange(n,292.5,337.5)?"nwse-resize":(tp.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}(e,r);n.getStage().content&&(n.getStage().content.style.cursor=i),t._cursorChange=!0})),n.on("mouseout",(function(){n.getStage().content&&(n.getStage().content.style.cursor=""),t._cursorChange=!1})),this.add(n)}},{key:"_createBack",value:function(){var e=this,t=new Nv({name:"back",width:0,height:0,draggable:!0,sceneFunc:function(e){var t=this.getParent(),n=t.padding();e.beginPath(),e.rect(-n,-n,this.width()+2*n,this.height()+2*n),e.moveTo(this.width()/2,-n),t.rotateEnabled()&&e.lineTo(this.width()/2,-t.rotateAnchorOffset()*tp._sign(this.height())-n),e.fillStrokeShape(this)},hitFunc:function(t,n){if(e.shouldOverdrawWholeArea()){var r=e.padding();t.beginPath(),t.rect(-r,-r,n.width()+2*r,n.height()+2*r),t.fillStrokeShape(n)}}});this.add(t),this._proxyDrag(t),t.on("dragstart",(function(e){e.cancelBubble=!0})),t.on("dragmove",(function(e){e.cancelBubble=!0})),t.on("dragend",(function(e){e.cancelBubble=!0})),this.on("dragmove",(function(t){e.update()}))}},{key:"_handleMouseDown",value:function(e){this._movingAnchorName=e.target.name().split(" ")[0];var t=this._getNodeRect(),n=t.width,r=t.height,i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));this.sin=Math.abs(r/i),this.cos=Math.abs(n/i),"undefined"!==typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var o=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},this._fire("transformstart",{evt:e,target:this.getNode()}),this._nodes.forEach((function(t){t._fire("transformstart",{evt:e,target:t})}))}},{key:"_handleMouseMove",value:function(e){var t,n,r,i=this.findOne("."+this._movingAnchorName),o=i.getStage();o.setPointersPositions(e);var a=o.getPointerPosition(),s={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y},l=i.getAbsolutePosition();this.anchorDragBoundFunc()&&(s=this.anchorDragBoundFunc()(l,s,e)),i.setAbsolutePosition(s);var u=i.getAbsolutePosition();if(l.x!==u.x||l.y!==u.y)if("rotater"!==this._movingAnchorName){var c=this.keepRatio()||e.shiftKey,d=this.centeredScaling()||e.altKey;if("top-left"===this._movingAnchorName){if(c){var f=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(f.x-i.x(),2)+Math.pow(f.y-i.y(),2));var h=this.findOne(".top-left").x()>f.x?-1:1,p=this.findOne(".top-left").y()>f.y?-1:1;t=r*this.cos*h,n=r*this.sin*p,this.findOne(".top-left").x(f.x-t),this.findOne(".top-left").y(f.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(i.y());else if("top-right"===this._movingAnchorName){if(c){f=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(i.x()-f.x,2)+Math.pow(f.y-i.y(),2));h=this.findOne(".top-right").x()<f.x?-1:1,p=this.findOne(".top-right").y()>f.y?-1:1;t=r*this.cos*h,n=r*this.sin*p,this.findOne(".top-right").x(f.x+t),this.findOne(".top-right").y(f.y-n)}var v=i.position();this.findOne(".top-left").y(v.y),this.findOne(".bottom-right").x(v.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(i.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(i.x());else if("bottom-left"===this._movingAnchorName){if(c){f=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(f.x-i.x(),2)+Math.pow(i.y()-f.y,2));h=f.x<i.x()?-1:1,p=i.y()<f.y?-1:1;t=r*this.cos*h,n=r*this.sin*p,i.x(f.x-t),i.y(f.y+n)}v=i.position(),this.findOne(".top-left").x(v.x),this.findOne(".bottom-right").y(v.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(i.y());else if("bottom-right"===this._movingAnchorName){if(c){f=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(i.x()-f.x,2)+Math.pow(i.y()-f.y,2));h=this.findOne(".bottom-right").x()<f.x?-1:1,p=this.findOne(".bottom-right").y()<f.y?-1:1;t=r*this.cos*h,n=r*this.sin*p,this.findOne(".bottom-right").x(f.x+t),this.findOne(".bottom-right").y(f.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(d=this.centeredScaling()||e.altKey){var m=this.findOne(".top-left"),g=this.findOne(".bottom-right"),y=m.x(),b=m.y(),_=this.getWidth()-g.x(),x=this.getHeight()-g.y();g.move({x:-y,y:-b}),m.move({x:_,y:x})}var w=this.findOne(".top-left").getAbsolutePosition();t=w.x,n=w.y;var S=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),k=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:n,width:S,height:k,rotation:Hh.getAngle(this.rotation())},e)}else{var C=this._getNodeRect();t=i.x()-C.width/2,n=-i.y()+C.height/2;var E=Math.atan2(-n,t)+Math.PI/2;C.height<0&&(E-=Math.PI);var T=Hh.getAngle(this.rotation())+E,P=Hh.getAngle(this.rotationSnapTolerance()),I=function(e,t,n){for(var r=t,i=0;i<e.length;i++){var o=Hh.getAngle(e[i]),a=Math.abs(o-t)%(2*Math.PI);Math.min(a,2*Math.PI-a)<n&&(r=o)}return r}(this.rotationSnaps(),T,P),R=Hm(C,I-C.rotation);this._fitNodesInto(R,e)}}},{key:"_handleMouseUp",value:function(e){this._removeEvents(e)}},{key:"getAbsoluteTransform",value:function(){return this.getTransform()}},{key:"_removeEvents",value:function(e){if(this._transforming){this._transforming=!1,"undefined"!==typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var t=this.getNode();this._fire("transformend",{evt:e,target:t}),t&&this._nodes.forEach((function(t){t._fire("transformend",{evt:e,target:t})})),this._movingAnchorName=null}}},{key:"_fitNodesInto",value:function(e,t){var n=this,r=this._getNodeRect();if(tp._inRange(e.width,2*-this.padding()-1,1))this.update();else if(tp._inRange(e.height,2*-this.padding()-1,1))this.update();else{var i=this.flipEnabled(),o=new Vh;if(o.rotate(Hh.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){var a=o.point({x:2*-this.padding(),y:0});if(e.x+=a.x,e.y+=a.y,e.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=a.x,this._anchorDragOffset.y-=a.y,!i)return void this.update()}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){var s=o.point({x:2*this.padding(),y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=s.x,this._anchorDragOffset.y-=s.y,e.width+=2*this.padding(),!i)return void this.update()}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){var l=o.point({x:0,y:2*-this.padding()});if(e.x+=l.x,e.y+=l.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=l.x,this._anchorDragOffset.y-=l.y,e.height+=2*this.padding(),!i)return void this.update()}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){var u=o.point({x:0,y:2*this.padding()});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=u.x,this._anchorDragOffset.y-=u.y,e.height+=2*this.padding(),!i)return void this.update()}if(this.boundBoxFunc()){var c=this.boundBoxFunc()(r,e);c?e=c:tp.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}var d=1e7,f=new Vh;f.translate(r.x,r.y),f.rotate(r.rotation),f.scale(r.width/d,r.height/d);var h=new Vh;h.translate(e.x,e.y),h.rotate(e.rotation),h.scale(e.width/d,e.height/d);var p=h.multiply(f.invert());this._nodes.forEach((function(e){var r,i=e.getParent().getAbsoluteTransform(),o=e.getTransform().copy();o.translate(e.offsetX(),e.offsetY());var a=new Vh;a.multiply(i.copy().invert()).multiply(p).multiply(i).multiply(o);var s=a.decompose();e.setAttrs(s),n._fire("transform",{evt:t,target:e}),e._fire("transform",{evt:t,target:e}),null===(r=e.getLayer())||void 0===r||r.batchDraw()})),this.rotation(tp._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}}},{key:"forceUpdate",value:function(){this._resetTransformCache(),this.update()}},{key:"_batchChangeChild",value:function(e,t){this.findOne(e).setAttrs(t)}},{key:"update",value:function(){var e,t=this,n=this._getNodeRect();this.rotation(tp._getRotation(n.rotation));var r=n.width,i=n.height,o=this.enabledAnchors(),a=this.resizeEnabled(),s=this.padding(),l=this.anchorSize();this.find("._anchor").forEach((function(e){e.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:t.anchorStroke(),strokeWidth:t.anchorStrokeWidth(),fill:t.anchorFill(),cornerRadius:t.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+s,offsetY:l/2+s,visible:a&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+s,visible:a&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-s,offsetY:l/2+s,visible:a&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+s,visible:a&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-s,visible:a&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+s,offsetY:l/2-s,visible:a&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-s,visible:a&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-s,offsetY:l/2-s,visible:a&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*tp._sign(i)-s,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),null===(e=this.getLayer())||void 0===e||e.batchDraw()}},{key:"isTransforming",value:function(){return this._transforming}},{key:"stopTransform",value:function(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}},{key:"destroy",value:function(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Fv.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}},{key:"toObject",value:function(){return jp.prototype.toObject.call(this)}}]),n}(Fv);Wm.prototype.className="Transformer",Wh(Wm),fp.addGetterSetter(Wm,"enabledAnchors",zm,(function(e){return e instanceof Array||tp.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach((function(e){-1===zm.indexOf(e)&&tp.warn("Unknown anchor name: "+e+". Available names are: "+zm.join(", "))})),e||[]})),fp.addGetterSetter(Wm,"flipEnabled",!0,up()),fp.addGetterSetter(Wm,"resizeEnabled",!0),fp.addGetterSetter(Wm,"anchorSize",10,ip()),fp.addGetterSetter(Wm,"rotateEnabled",!0),fp.addGetterSetter(Wm,"rotationSnaps",[]),fp.addGetterSetter(Wm,"rotateAnchorOffset",50,ip()),fp.addGetterSetter(Wm,"rotationSnapTolerance",5,ip()),fp.addGetterSetter(Wm,"borderEnabled",!0),fp.addGetterSetter(Wm,"anchorStroke","rgb(0, 161, 255)"),fp.addGetterSetter(Wm,"anchorStrokeWidth",1,ip()),fp.addGetterSetter(Wm,"anchorFill","white"),fp.addGetterSetter(Wm,"anchorCornerRadius",0,ip()),fp.addGetterSetter(Wm,"borderStroke","rgb(0, 161, 255)"),fp.addGetterSetter(Wm,"borderStrokeWidth",1,ip()),fp.addGetterSetter(Wm,"borderDash"),fp.addGetterSetter(Wm,"keepRatio",!0),fp.addGetterSetter(Wm,"centeredScaling",!1),fp.addGetterSetter(Wm,"ignoreStroke",!1),fp.addGetterSetter(Wm,"padding",0,ip()),fp.addGetterSetter(Wm,"node"),fp.addGetterSetter(Wm,"nodes"),fp.addGetterSetter(Wm,"boundBoxFunc"),fp.addGetterSetter(Wm,"anchorDragBoundFunc"),fp.addGetterSetter(Wm,"shouldOverdrawWholeArea",!1),fp.addGetterSetter(Wm,"useSingleNodeRotation",!0),fp.backCompat(Wm,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var Um=function(e){Lf(n,e);var t=Af(n);function n(){return(0,gn.Z)(this,n),t.apply(this,arguments)}return(0,yn.Z)(n,[{key:"_sceneFunc",value:function(e){e.beginPath(),e.arc(0,0,this.radius(),0,Hh.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}},{key:"getWidth",value:function(){return 2*this.radius()}},{key:"getHeight",value:function(){return 2*this.radius()}},{key:"setWidth",value:function(e){this.radius(e/2)}},{key:"setHeight",value:function(e){this.radius(e/2)}}]),n}(Nv);function Gm(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}Um.prototype.className="Wedge",Um.prototype._centroid=!0,Um.prototype._attrsAffectingSize=["radius"],Wh(Um),fp.addGetterSetter(Um,"radius",0,ip()),fp.addGetterSetter(Um,"angle",0,ip()),fp.addGetterSetter(Um,"clockwise",!1),fp.backCompat(Um,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var qm=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Vm=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];fp.addGetterSetter(jp,"blurRadius",0,ip(),fp.afterSetFilter);fp.addGetterSetter(jp,"brightness",0,ip(),fp.afterSetFilter);fp.addGetterSetter(jp,"contrast",0,ip(),fp.afterSetFilter);function Ym(e,t,n,r,i){var o=n-t,a=i-r;return 0===o?r+a/2:0===a?r:a*((e-t)/o)+r}fp.addGetterSetter(jp,"embossStrength",.5,ip(),fp.afterSetFilter),fp.addGetterSetter(jp,"embossWhiteLevel",.5,ip(),fp.afterSetFilter),fp.addGetterSetter(jp,"embossDirection","top-left",null,fp.afterSetFilter),fp.addGetterSetter(jp,"embossBlend",!1,null,fp.afterSetFilter);fp.addGetterSetter(jp,"enhance",0,ip(),fp.afterSetFilter);fp.addGetterSetter(jp,"hue",0,ip(),fp.afterSetFilter),fp.addGetterSetter(jp,"saturation",0,ip(),fp.afterSetFilter),fp.addGetterSetter(jp,"luminance",0,ip(),fp.afterSetFilter);fp.addGetterSetter(jp,"hue",0,ip(),fp.afterSetFilter),fp.addGetterSetter(jp,"saturation",0,ip(),fp.afterSetFilter),fp.addGetterSetter(jp,"value",0,ip(),fp.afterSetFilter);function Km(e,t,n){var r=4*(n*e.width+t),i=[];return i.push(e.data[r++],e.data[r++],e.data[r++],e.data[r++]),i}function Xm(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}fp.addGetterSetter(jp,"kaleidoscopePower",2,ip(),fp.afterSetFilter),fp.addGetterSetter(jp,"kaleidoscopeAngle",0,ip(),fp.afterSetFilter);fp.addGetterSetter(jp,"threshold",0,ip(),fp.afterSetFilter);fp.addGetterSetter(jp,"noise",.2,ip(),fp.afterSetFilter);fp.addGetterSetter(jp,"pixelSize",8,ip(),fp.afterSetFilter);fp.addGetterSetter(jp,"levels",.5,ip(),fp.afterSetFilter);fp.addGetterSetter(jp,"red",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),fp.addGetterSetter(jp,"green",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),fp.addGetterSetter(jp,"blue",0,rp,fp.afterSetFilter);fp.addGetterSetter(jp,"red",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),fp.addGetterSetter(jp,"green",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),fp.addGetterSetter(jp,"blue",0,rp,fp.afterSetFilter),fp.addGetterSetter(jp,"alpha",1,(function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e}));fp.addGetterSetter(jp,"threshold",.5,ip(),fp.afterSetFilter);Yv.Util._assign(Yv,{Arc:Kv,Arrow:em,Circle:tm,Ellipse:nm,Image:rm,Label:cm,Tag:dm,Line:$v,Path:Jv,Rect:fm,RegularPolygon:hm,Ring:vm,Sprite:mm,Star:gm,Text:Im,TextPath:Dm,Transformer:Wm,Wedge:Um,Filters:{Blur:function(e){var t=Math.round(this.blurRadius());t>0&&function(e,t){var n,r,i,o,a,s,l,u,c,d,f,h,p,v,m,g,y,b,_,x,w,S,k,C,E=e.data,T=e.width,P=e.height,I=t+t+1,R=T-1,O=P-1,L=t+1,D=L*(L+1)/2,N=new Gm,A=null,M=N,Z=null,j=null,F=qm[t],z=Vm[t];for(i=1;i<I;i++)M=M.next=new Gm,i===L&&(A=M);for(M.next=N,l=s=0,r=0;r<P;r++){for(g=y=b=_=u=c=d=f=0,h=L*(x=E[s]),p=L*(w=E[s+1]),v=L*(S=E[s+2]),m=L*(k=E[s+3]),u+=D*x,c+=D*w,d+=D*S,f+=D*k,M=N,i=0;i<L;i++)M.r=x,M.g=w,M.b=S,M.a=k,M=M.next;for(i=1;i<L;i++)o=s+((R<i?R:i)<<2),u+=(M.r=x=E[o])*(C=L-i),c+=(M.g=w=E[o+1])*C,d+=(M.b=S=E[o+2])*C,f+=(M.a=k=E[o+3])*C,g+=x,y+=w,b+=S,_+=k,M=M.next;for(Z=N,j=A,n=0;n<T;n++)E[s+3]=k=f*F>>z,0!==k?(k=255/k,E[s]=(u*F>>z)*k,E[s+1]=(c*F>>z)*k,E[s+2]=(d*F>>z)*k):E[s]=E[s+1]=E[s+2]=0,u-=h,c-=p,d-=v,f-=m,h-=Z.r,p-=Z.g,v-=Z.b,m-=Z.a,o=l+((o=n+t+1)<R?o:R)<<2,u+=g+=Z.r=E[o],c+=y+=Z.g=E[o+1],d+=b+=Z.b=E[o+2],f+=_+=Z.a=E[o+3],Z=Z.next,h+=x=j.r,p+=w=j.g,v+=S=j.b,m+=k=j.a,g-=x,y-=w,b-=S,_-=k,j=j.next,s+=4;l+=T}for(n=0;n<T;n++){for(y=b=_=g=c=d=f=u=0,h=L*(x=E[s=n<<2]),p=L*(w=E[s+1]),v=L*(S=E[s+2]),m=L*(k=E[s+3]),u+=D*x,c+=D*w,d+=D*S,f+=D*k,M=N,i=0;i<L;i++)M.r=x,M.g=w,M.b=S,M.a=k,M=M.next;for(a=T,i=1;i<=t;i++)s=a+n<<2,u+=(M.r=x=E[s])*(C=L-i),c+=(M.g=w=E[s+1])*C,d+=(M.b=S=E[s+2])*C,f+=(M.a=k=E[s+3])*C,g+=x,y+=w,b+=S,_+=k,M=M.next,i<O&&(a+=T);for(s=n,Z=N,j=A,r=0;r<P;r++)E[3+(o=s<<2)]=k=f*F>>z,k>0?(k=255/k,E[o]=(u*F>>z)*k,E[o+1]=(c*F>>z)*k,E[o+2]=(d*F>>z)*k):E[o]=E[o+1]=E[o+2]=0,u-=h,c-=p,d-=v,f-=m,h-=Z.r,p-=Z.g,v-=Z.b,m-=Z.a,o=n+((o=r+L)<O?o:O)*T<<2,u+=g+=Z.r=E[o],c+=y+=Z.g=E[o+1],d+=b+=Z.b=E[o+2],f+=_+=Z.a=E[o+3],Z=Z.next,h+=x=j.r,p+=w=j.g,v+=S=j.b,m+=k=j.a,g-=x,y-=w,b-=S,_-=k,j=j.next,s+=T}}(e,t)},Brighten:function(e){var t,n=255*this.brightness(),r=e.data,i=r.length;for(t=0;t<i;t+=4)r[t]+=n,r[t+1]+=n,r[t+2]+=n},Contrast:function(e){var t,n=Math.pow((this.contrast()+100)/100,2),r=e.data,i=r.length,o=150,a=150,s=150;for(t=0;t<i;t+=4)o=r[t],a=r[t+1],s=r[t+2],o/=255,o-=.5,o*=n,o+=.5,a/=255,a-=.5,a*=n,a+=.5,s/=255,s-=.5,s*=n,s+=.5,o=(o*=255)<0?0:o>255?255:o,a=(a*=255)<0?0:a>255?255:a,s=(s*=255)<0?0:s>255?255:s,r[t]=o,r[t+1]=a,r[t+2]=s},Emboss:function(e){var t=10*this.embossStrength(),n=255*this.embossWhiteLevel(),r=this.embossDirection(),i=this.embossBlend(),o=0,a=0,s=e.data,l=e.width,u=e.height,c=4*l,d=u;switch(r){case"top-left":o=-1,a=-1;break;case"top":o=-1,a=0;break;case"top-right":o=-1,a=1;break;case"right":o=0,a=1;break;case"bottom-right":o=1,a=1;break;case"bottom":o=1,a=0;break;case"bottom-left":o=1,a=-1;break;case"left":o=0,a=-1;break;default:tp.error("Unknown emboss direction: "+r)}do{var f=(d-1)*c,h=o;d+h<1&&(h=0),d+h>u&&(h=0);var p=(d-1+h)*l*4,v=l;do{var m=f+4*(v-1),g=a;v+g<1&&(g=0),v+g>l&&(g=0);var y=p+4*(v-1+g),b=s[m]-s[y],_=s[m+1]-s[y+1],x=s[m+2]-s[y+2],w=b,S=w>0?w:-w;if((_>0?_:-_)>S&&(w=_),(x>0?x:-x)>S&&(w=x),w*=t,i){var k=s[m]+w,C=s[m+1]+w,E=s[m+2]+w;s[m]=k>255?255:k<0?0:k,s[m+1]=C>255?255:C<0?0:C,s[m+2]=E>255?255:E<0?0:E}else{var T=n-w;T<0?T=0:T>255&&(T=255),s[m]=s[m+1]=s[m+2]=T}}while(--v)}while(--d)},Enhance:function(e){var t,n,r,i,o=e.data,a=o.length,s=o[0],l=s,u=o[1],c=u,d=o[2],f=d,h=this.enhance();if(0!==h){for(i=0;i<a;i+=4)(t=o[i+0])<s?s=t:t>l&&(l=t),(n=o[i+1])<u?u=n:n>c&&(c=n),(r=o[i+2])<d?d=r:r>f&&(f=r);var p,v,m,g,y,b,_,x,w;for(l===s&&(l=255,s=0),c===u&&(c=255,u=0),f===d&&(f=255,d=0),h>0?(v=l+h*(255-l),m=s-h*(s-0),y=c+h*(255-c),b=u-h*(u-0),x=f+h*(255-f),w=d-h*(d-0)):(v=l+h*(l-(p=.5*(l+s))),m=s+h*(s-p),y=c+h*(c-(g=.5*(c+u))),b=u+h*(u-g),x=f+h*(f-(_=.5*(f+d))),w=d+h*(d-_)),i=0;i<a;i+=4)o[i+0]=Ym(o[i+0],s,l,m,v),o[i+1]=Ym(o[i+1],u,c,b,y),o[i+2]=Ym(o[i+2],d,f,w,x)}},Grayscale:function(e){var t,n,r=e.data,i=r.length;for(t=0;t<i;t+=4)n=.34*r[t]+.5*r[t+1]+.16*r[t+2],r[t]=n,r[t+1]=n,r[t+2]=n},HSL:function(e){var t,n,r,i,o,a=e.data,s=a.length,l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,c=127*this.luminance(),d=1*l*Math.cos(u*Math.PI/180),f=1*l*Math.sin(u*Math.PI/180),h=.299+.701*d+.167*f,p=.587-.587*d+.33*f,v=.114-.114*d-.497*f,m=.299-.299*d-.328*f,g=.587+.413*d+.035*f,y=.114-.114*d+.293*f,b=.299-.3*d+1.25*f,_=.587-.586*d-1.05*f,x=.114+.886*d-.2*f;for(t=0;t<s;t+=4)n=a[t+0],r=a[t+1],i=a[t+2],o=a[t+3],a[t+0]=h*n+p*r+v*i+c,a[t+1]=m*n+g*r+y*i+c,a[t+2]=b*n+_*r+x*i+c,a[t+3]=o},HSV:function(e){var t,n,r,i,o,a=e.data,s=a.length,l=Math.pow(2,this.value()),u=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,d=l*u*Math.cos(c*Math.PI/180),f=l*u*Math.sin(c*Math.PI/180),h=.299*l+.701*d+.167*f,p=.587*l-.587*d+.33*f,v=.114*l-.114*d-.497*f,m=.299*l-.299*d-.328*f,g=.587*l+.413*d+.035*f,y=.114*l-.114*d+.293*f,b=.299*l-.3*d+1.25*f,_=.587*l-.586*d-1.05*f,x=.114*l+.886*d-.2*f;for(t=0;t<s;t+=4)n=a[t+0],r=a[t+1],i=a[t+2],o=a[t+3],a[t+0]=h*n+p*r+v*i,a[t+1]=m*n+g*r+y*i,a[t+2]=b*n+_*r+x*i,a[t+3]=o},Invert:function(e){var t,n=e.data,r=n.length;for(t=0;t<r;t+=4)n[t]=255-n[t],n[t+1]=255-n[t+1],n[t+2]=255-n[t+2]},Kaleidoscope:function(e){var t,n,r,i,o,a,s,l,u,c=e.width,d=e.height,f=Math.round(this.kaleidoscopePower()),h=Math.round(this.kaleidoscopeAngle()),p=Math.floor(c*(h%360)/360);if(!(f<1)){var v=tp.createCanvasElement();v.width=c,v.height=d;var m=v.getContext("2d").getImageData(0,0,c,d);!function(e,t,n){var r,i,o,a,s=e.data,l=t.data,u=e.width,c=e.height,d=n.polarCenterX||u/2,f=n.polarCenterY||c/2,h=0,p=0,v=0,m=0,g=Math.sqrt(d*d+f*f);i=u-d,o=c-f,g=(a=Math.sqrt(i*i+o*o))>g?a:g;var y,b,_,x,w=c,S=u,k=360/S*Math.PI/180;for(b=0;b<S;b+=1)for(_=Math.sin(b*k),x=Math.cos(b*k),y=0;y<w;y+=1)i=Math.floor(d+g*y/w*x),h=s[0+(r=4*((o=Math.floor(f+g*y/w*_))*u+i))],p=s[r+1],v=s[r+2],m=s[r+3],l[0+(r=4*(b+y*u))]=h,l[r+1]=p,l[r+2]=v,l[r+3]=m}(e,m,{polarCenterX:c/2,polarCenterY:d/2});for(var g=c/Math.pow(2,f);g<=8;)g*=2,f-=1;var y=g=Math.ceil(g),b=0,_=y,x=1;for(p+g>c&&(b=y,_=0,x=-1),n=0;n<d;n+=1)for(t=b;t!==_;t+=x)l=4*(c*n+Math.round(t+p)%c),i=m.data[l+0],o=m.data[l+1],a=m.data[l+2],s=m.data[l+3],u=4*(c*n+t),m.data[u+0]=i,m.data[u+1]=o,m.data[u+2]=a,m.data[u+3]=s;for(n=0;n<d;n+=1)for(y=Math.floor(g),r=0;r<f;r+=1){for(t=0;t<y+1;t+=1)l=4*(c*n+t),i=m.data[l+0],o=m.data[l+1],a=m.data[l+2],s=m.data[l+3],u=4*(c*n+2*y-t-1),m.data[u+0]=i,m.data[u+1]=o,m.data[u+2]=a,m.data[u+3]=s;y*=2}!function(e,t,n){var r,i,o,a,s,l,u=e.data,c=t.data,d=e.width,f=e.height,h=n.polarCenterX||d/2,p=n.polarCenterY||f/2,v=0,m=0,g=0,y=0,b=Math.sqrt(h*h+p*p);i=d-h,o=f-p,b=(l=Math.sqrt(i*i+o*o))>b?l:b;var _,x,w,S=f,k=d,C=n.polarRotation||0;for(i=0;i<d;i+=1)for(o=0;o<f;o+=1)a=i-h,s=o-p,_=Math.sqrt(a*a+s*s)*S/b,x=(x=(180*Math.atan2(s,a)/Math.PI+360+C)%360)*k/360,w=Math.floor(x),v=u[0+(r=4*(Math.floor(_)*d+w))],m=u[r+1],g=u[r+2],y=u[r+3],c[0+(r=4*(o*d+i))]=v,c[r+1]=m,c[r+2]=g,c[r+3]=y}(m,e,{polarRotation:0})}},Mask:function(e){var t=function(e,t){var n=Km(e,0,0),r=Km(e,e.width-1,0),i=Km(e,0,e.height-1),o=Km(e,e.width-1,e.height-1),a=t||10;if(Xm(n,r)<a&&Xm(r,o)<a&&Xm(o,i)<a&&Xm(i,n)<a){for(var s=function(e){for(var t=[0,0,0],n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}([r,n,o,i]),l=[],u=0;u<e.width*e.height;u++){var c=Xm(s,[e.data[4*u],e.data[4*u+1],e.data[4*u+2]]);l[u]=c<a?0:255}return l}}(e,this.threshold());return t&&function(e,t){for(var n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}(e,t=function(e,t,n){for(var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var l=0;l<t;l++){for(var u=s*t+l,c=0,d=0;d<i;d++)for(var f=0;f<i;f++){var h=s+d-o,p=l+f-o;if(h>=0&&h<n&&p>=0&&p<t){var v=r[d*i+f];c+=e[h*t+p]*v}}a[u]=c}return a}(t=function(e,t,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var l=0;l<t;l++){for(var u=s*t+l,c=0,d=0;d<i;d++)for(var f=0;f<i;f++){var h=s+d-o,p=l+f-o;if(h>=0&&h<n&&p>=0&&p<t){var v=r[d*i+f];c+=e[h*t+p]*v}}a[u]=c>=1020?255:0}return a}(t=function(e,t,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var l=0;l<t;l++){for(var u=s*t+l,c=0,d=0;d<i;d++)for(var f=0;f<i;f++){var h=s+d-o,p=l+f-o;if(h>=0&&h<n&&p>=0&&p<t){var v=r[d*i+f];c+=e[h*t+p]*v}}a[u]=2040===c?255:0}return a}(t,e.width,e.height),e.width,e.height),e.width,e.height)),e},Noise:function(e){var t,n=255*this.noise(),r=e.data,i=r.length,o=n/2;for(t=0;t<i;t+=4)r[t+0]+=o-2*o*Math.random(),r[t+1]+=o-2*o*Math.random(),r[t+2]+=o-2*o*Math.random()},Pixelate:function(e){var t,n,r,i,o,a,s,l,u,c,d,f,h,p,v=Math.ceil(this.pixelSize()),m=e.width,g=e.height,y=Math.ceil(m/v),b=Math.ceil(g/v),_=e.data;if(v<=0)tp.error("pixelSize value can not be <= 0");else for(f=0;f<y;f+=1)for(h=0;h<b;h+=1){for(i=0,o=0,a=0,s=0,u=(l=f*v)+v,d=(c=h*v)+v,p=0,t=l;t<u;t+=1)if(!(t>=m))for(n=c;n<d;n+=1)n>=g||(i+=_[(r=4*(m*n+t))+0],o+=_[r+1],a+=_[r+2],s+=_[r+3],p+=1);for(i/=p,o/=p,a/=p,s/=p,t=l;t<u;t+=1)if(!(t>=m))for(n=c;n<d;n+=1)n>=g||(_[(r=4*(m*n+t))+0]=i,_[r+1]=o,_[r+2]=a,_[r+3]=s)}},Posterize:function(e){var t,n=Math.round(254*this.levels())+1,r=e.data,i=r.length,o=255/n;for(t=0;t<i;t+=1)r[t]=Math.floor(r[t]/o)*o},RGB:function(e){var t,n,r=e.data,i=r.length,o=this.red(),a=this.green(),s=this.blue();for(t=0;t<i;t+=4)n=(.34*r[t]+.5*r[t+1]+.16*r[t+2])/255,r[t]=n*o,r[t+1]=n*a,r[t+2]=n*s,r[t+3]=r[t+3]},RGBA:function(e){var t,n,r=e.data,i=r.length,o=this.red(),a=this.green(),s=this.blue(),l=this.alpha();for(t=0;t<i;t+=4)n=1-l,r[t]=o*l+r[t]*n,r[t+1]=a*l+r[t+1]*n,r[t+2]=s*l+r[t+2]*n},Sepia:function(e){var t,n,r,i,o=e.data,a=o.length;for(t=0;t<a;t+=4)n=o[t+0],r=o[t+1],i=o[t+2],o[t+0]=Math.min(255,.393*n+.769*r+.189*i),o[t+1]=Math.min(255,.349*n+.686*r+.168*i),o[t+2]=Math.min(255,.272*n+.534*r+.131*i)},Solarize:function(e){var t=e.data,n=e.width,r=4*n,i=e.height;do{var o=(i-1)*r,a=n;do{var s=o+4*(a-1),l=t[s],u=t[s+1],c=t[s+2];l>127&&(l=255-l),u>127&&(u=255-u),c>127&&(c=255-c),t[s]=l,t[s+1]=u,t[s+2]=c}while(--a)}while(--i)},Threshold:function(e){var t,n=255*this.threshold(),r=e.data,i=r.length;for(t=0;t<i;t+=1)r[t]=r[t]<n?0:255}}});var Qm=Yv,$m=n(258),Jm=n.n($m),eg={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0},tg=!1,ng=!1,rg=".react-konva-event",ig=!1;var og="ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.\nPosition of a node will be changed during drag&drop, so you should update state of the react app as well.\nConsider to add onDragMove or onDragEnd events.\nFor more info see: https://github.com/konvajs/react-konva/issues/256\n",ag='ReactKonva: You are using "zIndex" attribute for a Konva node.\nreact-konva may get confused with ordering. Just define correct order of elements in your render function of a component.\nFor more info see: https://github.com/konvajs/react-konva/issues/194\n',sg={};function lg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sg;if(t===n&&console.error("same props"),!tg&&"zIndex"in t&&(console.warn(ag),tg=!0),!ng&&t.draggable){var r=void 0!==t.x||void 0!==t.y,i=t.onDragEnd||t.onDragMove;r&&!i&&(console.warn(og),ng=!0)}for(var o in n)if(!eg[o]){var a="on"===o.slice(0,2),s=n[o]!==t[o];if(a&&s)"content"===(p=o.substr(2).toLowerCase()).substr(0,7)&&(p="content"+p.substr(7,1).toUpperCase()+p.substr(8)),e.off(p,n[o]);var l=!t.hasOwnProperty(o);l&&e.setAttr(o,void 0)}var u=ig||t._useStrictMode,c={},d=!1,f={};for(var o in t)if(!eg[o]){a="on"===o.slice(0,2);var h=n[o]!==t[o];if(a&&h)"content"===(p=o.substr(2).toLowerCase()).substr(0,7)&&(p="content"+p.substr(7,1).toUpperCase()+p.substr(8)),t[o]&&(f[p]=t[o]);!a&&(t[o]!==n[o]||u&&t[o]!==e.getAttr(o))&&(d=!0,c[o]=t[o])}for(var p in d&&(e.setAttrs(c),ug(e)),f)e.on(p+rg,f[p])}function ug(e){if(!Hh.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}var cg=n(5296),dg={},fg={};function hg(e,t){"string"!==typeof t?(e.add(t),ug(e)):console.error("Do not use plain text as child of Konva.Node. You are using text: "+t)}function pg(e,t,n){var r=Qm[e];r||(console.error("Konva has no node with the type "+e+'. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/'+e+'"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html'),r=Qm.Group);var i={},o={};for(var a in t){"on"===a.slice(0,2)?o[a]=t[a]:i[a]=t[a]}var s=new r(i);return lg(s,o),s}function vg(e,t,n){console.error('Text components are not supported for now in ReactKonva. Your text is: "'+e+'"')}function mg(e,t,n){return!1}function gg(e){return e}function yg(){return null}function bg(){return null}function _g(e,t,n,r){return fg}function xg(){}function wg(e){}function Sg(e,t){return!1}function kg(){return dg}function Cg(){return dg}Qm.Node.prototype._applyProps=lg;var Eg=setTimeout,Tg=clearTimeout,Pg=-1;function Ig(e,t){return!1}var Rg=!1,Og=!0,Lg=!0;function Dg(e,t){t.parent===e?t.moveToTop():e.add(t),ug(e)}function Ng(e,t){t.parent===e?t.moveToTop():e.add(t),ug(e)}function Ag(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),ug(e)}function Mg(e,t,n){Ag(e,t,n)}function Zg(e,t){t.destroy(),t.off(rg),ug(e)}function jg(e,t){t.destroy(),t.off(rg),ug(e)}function Fg(e,t,n){console.error('Text components are not yet supported in ReactKonva. You text is: "'+n+'"')}function zg(e,t,n){}function Bg(e,t,n,r,i){lg(e,i,r)}function Hg(e){e.hide(),ug(e)}function Wg(e){}function Ug(e,t){(null==t.visible||t.visible)&&e.show()}function Gg(e,t){}function qg(e){}var Vg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Yg=function(e){var n=t.useRef(),r=t.useRef(),i=t.useRef(),o=function(e){var n=t.useRef();return t.useLayoutEffect((function(){n.current=e})),n.current}(e),a=function(t){var n=e.forwardedRef;n&&("function"===typeof n?n(t):n.current=t)};return t.useLayoutEffect((function(){return r.current=new Qm.Stage({width:e.width,height:e.height,container:n.current}),a(r.current),i.current=ey.createContainer(r.current),ey.updateContainer(e.children,i.current),function(){Qm.isBrowser&&(a(null),ey.updateContainer(null,i.current,null),r.current.destroy())}}),[]),t.useLayoutEffect((function(){a(r.current),lg(r.current,e,o),ey.updateContainer(e.children,i.current,null)})),t.createElement("div",{ref:n,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},Kg="Layer",Xg="Group",Qg="Circle",$g="Text",Jg="Arrow",ey=Jm()(e);ey.injectIntoDevTools({findHostInstanceByFiber:function(){return null},bundleType:0,version:t.version,rendererPackageName:"react-konva"});var ty=t.forwardRef((function(e,n){return t.createElement(Yg,Vg({},e,{forwardedRef:n}))})),ny=n(3081),ry=n(9707),iy=n(836),oy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ay=function(e){var n=e.children,r=e.groupProps,o=e.divProps,a=e.transform,s=e.transformFunc,l=t.useRef(null),u=t.useRef(),c=null===a||void 0===a||a,d=function(){var e=u.current;if(e){if(c&&l.current){var t=l.current.getAbsoluteTransform().decompose();s&&(t=s(t)),e.style.position="absolute",e.style.zIndex="10",e.style.top="0px",e.style.left="0px",e.style.transform="translate(".concat(t.x,"px, ").concat(t.y,"px) rotate(").concat(t.rotation,"deg) scaleX(").concat(t.scaleX,") scaleY(").concat(t.scaleY,")"),e.style.transformOrigin="top left"}else e.style.position="",e.style.zIndex="",e.style.top="",e.style.left="",e.style.transform="",e.style.transformOrigin="";var n=o||{},r=n.style,i=oy(n,["style"]);Object.assign(e.style,r),Object.assign(e,i)}};return t.useLayoutEffect((function(){var e,t=l.current;if(t){var n=null===(e=t.getStage())||void 0===e?void 0:e.container();if(n){var r=document.createElement("div");return u.current=r,n.appendChild(r),c&&function(e){var t=window.getComputedStyle(e).position;return!("absolute"===t||"relative"===t)}(n)&&(n.style.position="relative"),t.on("absoluteTransformChange",d),d(),function(){var e;t.off("absoluteTransformChange",d),i.unmountComponentAtNode(r),null===(e=r.parentNode)||void 0===e||e.removeChild(r)}}}}),[c]),t.useLayoutEffect((function(){d()}),[o]),t.useLayoutEffect((function(){i.render(n,u.current)})),t.createElement(Xg,Object.assign({ref:l},r))},sy=(n(6189),Hn((function(e){return{root:{position:"relative",overflow:"hidden",pointerEvents:"none"},textContainer:{transition:"".concat(e.transitions.create(["top"],{duration:200})," , ").concat(e.transitions.create(["opacity"],{duration:1e3})),position:"absolute",overflow:"hidden",pointerEvents:"none",display:"inline-flex"},text:{pointerEvents:"none",userSelect:"none",msUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",fontFamily:"Arial"}}}))),ly={entering:{opacity:1},entered:{opacity:0},exiting:{opacity:0},exited:{opacity:0}},uy=function(e){return(0,oa.jsx)(Xg,{x:e.target.anchors.anchor1X+e.offset/e.stageScale,y:e.target.anchors.anchor1Y+e.offset/e.stageScale,children:(0,oa.jsx)(ay,{divProps:{style:{zIndex:-1}},children:(0,oa.jsx)(dy,{logs:e.logs,rootID:e.target.rootID,size:e.size,stageScale:e.stageScale,theme:e.theme})})})};uy.defaultProps={stageScale:1,size:10,offset:10};var cy=uy;function dy(e){var n=sy(),r=(0,t.useState)([]),i=(0,fn.Z)(r,2),o=i[0],a=i[1];return(0,t.useEffect)((function(){a(e.logs.filter((function(t){return t.rootID===e.rootID})).map((function(e){var t,n=e.summary.description.split(","),r=(0,fn.Z)(n,2),i=r[0],o=r[1],a=null===(t=e.debugs)||void 0===t?void 0:t.reduce((function(e,t){return t.find((function(e){return"hit"===e.type})).value?e+1:e}),0),s=["".concat("undefined"!==o&&o?o:i)];return void 0!==a&&s.push("".concat(a,"/").concat(e.debugs.length)),{description:s.join(" "),value:e.delta,ID:e.ID}})))}),[e.logs]),(0,oa.jsx)(fy,{events:o,size:e.size,stageScale:e.stageScale,children:function(t,r){return function(i){return(0,oa.jsxs)("div",{className:n.textContainer,style:(0,Zn.Z)({top:15*r/e.stageScale,height:15/e.stageScale},ly[i]),children:[(0,oa.jsx)(Ii,{className:n.text,style:{fontSize:12/e.stageScale,marginRight:5/e.stageScale,color:e.theme.palette.text.primary},children:t.description}),(0,oa.jsx)(Ii,{className:n.text,style:{fontSize:12/e.stageScale,marginRight:5/e.stageScale,color:0===t.value?e.theme.palette.property.org:t.value<0?e.theme.palette.property.red:e.theme.palette.property.blue},children:Math.abs(t.value).toFixed(0)})]})}}})}function fy(e){var t,n=sy();return(0,oa.jsx)("div",{className:n.root,style:{width:800/e.stageScale,height:15*e.size/e.stageScale},children:(0,oa.jsx)(si,{component:"div",children:null===(t=e.events)||void 0===t?void 0:t.slice(-(e.size+1)).reverse().map((function(t,n){return(0,oa.jsx)(Rr,{in:!1,timeout:5e3,children:e.children(t,n)},"".concat(t.description,":").concat(t.ID))}))})})}var hy={rootID:"hostileID",maximumSpeed:1/0,speed:150,anchors:{anchor1X:25,anchor1Y:200,anchor2X:75,anchor2Y:200},vector:{x:50,y:0,pX:50,pY:0}},py={rootID:"onboardID",maximumSpeed:1/0,speed:0,anchors:{anchor1X:25,anchor1Y:25,anchor2X:25,anchor2Y:25},vector:{x:0,y:0,pX:0,pY:0}};function vy(e,t){var n=!1;switch(t.type){case"anchor1":return(0,Zn.Z)((0,Zn.Z)({},e),{},{anchors:(0,Zn.Z)((0,Zn.Z)({},e.anchors),t.value)});case"maximumSpeed":.95*e.maximumSpeed<e.speed&&(n=!0,e.speed=e.maximumSpeed),e.maximumSpeed=t.value,t.value=(0,Zn.Z)({},e.anchors);case"anchor2":var r=t.value.anchor2X-e.anchors.anchor1X,i=t.value.anchor2Y-e.anchors.anchor1Y,o=3*Math.sqrt(Math.pow(r,2)+Math.pow(i,2)),a=n||o>e.maximumSpeed?e.maximumSpeed/o:1;return(0,Zn.Z)((0,Zn.Z)({},e),{},{speed:o,anchors:(0,Zn.Z)((0,Zn.Z)({},e.anchors),{},{anchor2X:e.anchors.anchor1X+r*a,anchor2Y:e.anchors.anchor1Y+i*a}),vector:(0,Zn.Z)((0,Zn.Z)({},e.vector),{},{x:r*a,y:i*a})});case"vector":return(0,Zn.Z)((0,Zn.Z)({},e),{},{vector:(0,Zn.Z)((0,Zn.Z)({},e.vector),{},{x:t.value.x,y:t.value.y})});case"perfectVector":return(0,Zn.Z)((0,Zn.Z)({},e),{},{vector:(0,Zn.Z)((0,Zn.Z)({},e.vector),{},{pX:t.value.pX,pY:t.value.pY})});case"reset":return(0,Zn.Z)({},t.value);default:return Error()}}var my=t.memo((function(e){var n,r,i=Lr(),o=(0,t.useCallback)((function(){var t,n;e.setStagePoint({x:0,y:0}),e.dispatchOnBoardAnchor({type:"reset",value:py}),e.dispatchHostileAnchor({type:"reset",value:hy}),null!==(t=e.hostileSummaries)&&void 0!==t&&t.summary.capacity.propulsion.maximumVelocity&&e.dispatchHostileAnchor({type:"maximumSpeed",value:e.hostileSummaries.summary.capacity.propulsion.maximumVelocity}),null!==(n=e.onBoardSummaries)&&void 0!==n&&n.summary.capacity.propulsion.maximumVelocity&&e.dispatchOnBoardAnchor({type:"maximumSpeed",value:e.onBoardSummaries.summary.capacity.propulsion.maximumVelocity})}),[null===(n=e.hostileSummaries)||void 0===n?void 0:n.summary.capacity.propulsion.maximumVelocity,null===(r=e.onBoardSummaries)||void 0===r?void 0:r.summary.capacity.propulsion.maximumVelocity]),a=(0,t.useCallback)((function(){e.setStageScale(1.5*e.stageScale)}),[e.stageScale]),s=(0,t.useCallback)((function(){e.setStageScale(.65*e.stageScale)}),[e.stageScale]),l=(0,t.useCallback)((function(){e.setStageDraggable(!e.isStageDrragable)}),[e.isStageDrragable]);return(0,oa.jsxs)(Gu,{style:{padding:5},spacing:1,container:!0,justifyContent:"flex-end",children:[(0,oa.jsx)(Gu,{item:!0,xs:8,children:(0,oa.jsxs)(gi,{fullWidth:!0,style:{color:i.palette.text.primary},children:[(0,oa.jsx)(ra,{title:"Zoom In",placement:"bottom",arrow:!0,children:(0,oa.jsx)(vi,{style:{zIndex:2},onClick:a,children:(0,oa.jsx)(ry.Z,{})})}),(0,oa.jsx)(ra,{title:"Reset",placement:"bottom",arrow:!0,children:(0,oa.jsx)(vi,{style:{zIndex:2},onClick:o,children:(0,oa.jsx)(Fh.Z,{})})}),(0,oa.jsx)(ra,{title:"Zoom Out",placement:"bottom",arrow:!0,children:(0,oa.jsx)(vi,{style:{zIndex:2},onClick:s,children:(0,oa.jsx)(iy.Z,{})})})]})}),(0,oa.jsx)(Gu,{item:!0,xs:4,children:(0,oa.jsx)(gi,{fullWidth:!0,children:(0,oa.jsx)(ra,{title:"Move",placement:"bottom",arrow:!0,children:(0,oa.jsx)(vi,{style:{color:e.isStageDrragable?i.palette.background.paper:i.palette.text.primary,backgroundColor:e.isStageDrragable?i.palette.text.primary:i.palette.background.paper,zIndex:2},variant:e.isStageDrragable?"contained":"outlined",onClick:l,children:(0,oa.jsx)(ny.Z,{})})})})})]})})),gy=t.memo((function(e){var n=(0,t.useState)({x:e.hostileAnchor.anchors.anchor1X-e.onBoardAnchor.anchors.anchor1X,y:e.hostileAnchor.anchors.anchor1Y-e.onBoardAnchor.anchors.anchor1Y}),r=(0,fn.Z)(n,2),i=r[0],o=r[1],a=(0,t.useState)(Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))/100),s=(0,fn.Z)(a,2),l=s[0],u=s[1];return(0,t.useEffect)((function(){var t={x:e.hostileAnchor.anchors.anchor1X-e.onBoardAnchor.anchors.anchor1X,y:e.hostileAnchor.anchors.anchor1Y-e.onBoardAnchor.anchors.anchor1Y},n=Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))/100;o(t),u(n)}),[e.hostileAnchor.anchors.anchor1X,e.onBoardAnchor.anchors.anchor1X,e.hostileAnchor.anchors.anchor1Y,e.onBoardAnchor.anchors.anchor1Y]),(0,oa.jsxs)(Kg,{children:[(0,oa.jsx)($g,{x:e.onBoardAnchor.anchors.anchor1X+e.onBoardAnchor.vector.x,y:e.onBoardAnchor.anchors.anchor1Y+e.onBoardAnchor.vector.y,fill:e.theme.palette.text.primary,text:"".concat((3*Math.sqrt(Math.pow(e.onBoardAnchor.vector.x,2)+Math.pow(e.onBoardAnchor.vector.y,2))).toFixed(1),"m/s"),fontSize:12/e.stageScale,offsetX:-2}),(0,oa.jsx)($g,{x:e.hostileAnchor.anchors.anchor1X+e.hostileAnchor.vector.x,y:e.hostileAnchor.anchors.anchor1Y+e.hostileAnchor.vector.y,fill:e.theme.palette.text.primary,text:"".concat((3*Math.sqrt(Math.pow(e.hostileAnchor.vector.x,2)+Math.pow(e.hostileAnchor.vector.y,2))).toFixed(1),"m/s"),fontSize:12/e.stageScale,offsetX:-2}),(0,oa.jsx)($g,{x:e.hostileAnchor.anchors.anchor1X+12/e.stageScale,y:e.hostileAnchor.anchors.anchor1Y-15/e.stageScale,fontSize:12/e.stageScale,fill:e.theme.palette.text.primary,text:"".concat(ky(i,e.hostileAnchor.vector).toFixed(0),"\xb0")}),(0,oa.jsx)(Jg,{pointerLength:4/e.stageScale,pointerWidth:4/e.stageScale,points:[e.hostileAnchor.anchors.anchor1X,e.hostileAnchor.anchors.anchor1Y,e.hostileAnchor.anchors.anchor2X,e.hostileAnchor.anchors.anchor2Y],strokeWidth:2/e.stageScale,stroke:e.theme.palette.property.red,fill:e.theme.palette.property.red}),(0,oa.jsx)(Qg,{x:e.hostileAnchor.anchors.anchor1X,y:e.hostileAnchor.anchors.anchor1Y,fill:"#C0C0C0",opacity:.1,radius:20/e.stageScale,draggable:!0,onDragMove:_y(e.dispatchHostileAnchor,e.hostileAnchor),onDragEnd:e.dispatchSituation}),(0,oa.jsx)(Qg,{x:e.hostileAnchor.anchors.anchor2X,y:e.hostileAnchor.anchors.anchor2Y,fill:"#C0C0C0",opacity:.1,radius:10/e.stageScale,draggable:!0,onDragMove:xy(e.dispatchHostileAnchor),onDragEnd:function(t){wy(e.dispatchHostileAnchor,e.hostileAnchor)(t),e.dispatchSituation()}}),(0,oa.jsx)(Jg,{pointerLength:4/e.stageScale,pointerWidth:4/e.stageScale,points:[e.onBoardAnchor.anchors.anchor1X,e.onBoardAnchor.anchors.anchor1Y,e.onBoardAnchor.anchors.anchor2X,e.onBoardAnchor.anchors.anchor2Y],strokeWidth:2/e.stageScale,stroke:e.theme.palette.property.blue,fill:e.theme.palette.property.blue}),(0,oa.jsx)(Qg,{x:e.onBoardAnchor.anchors.anchor1X,y:e.onBoardAnchor.anchors.anchor1Y,radius:20/e.stageScale,draggable:!0,onDragMove:_y(e.dispatchOnBoardAnchor,e.onBoardAnchor),onDragEnd:e.dispatchSituation,on:!0}),(0,oa.jsx)(Qg,{x:e.onBoardAnchor.anchors.anchor2X,y:e.onBoardAnchor.anchors.anchor2Y,radius:20/e.stageScale,draggable:!0,onDragMove:xy(e.dispatchOnBoardAnchor),onDragEnd:function(t){wy(e.dispatchOnBoardAnchor,e.onBoardAnchor)(t),e.dispatchSituation()}}),(0,oa.jsx)("Line",{points:[e.onBoardAnchor.anchors.anchor1X,e.onBoardAnchor.anchors.anchor1Y,e.hostileAnchor.anchors.anchor1X,e.hostileAnchor.anchors.anchor1Y],strokeWidth:2/e.stageScale,stroke:e.theme.palette.primary.main,fill:e.theme.palette.primary.main,dash:[5/e.stageScale,5/e.stageScale]}),(0,oa.jsx)($g,{x:(e.onBoardAnchor.anchors.anchor1X+e.hostileAnchor.anchors.anchor1X)/2,y:(e.onBoardAnchor.anchors.anchor1Y+e.hostileAnchor.anchors.anchor1Y)/2,fill:e.theme.palette.text.primary,fontSize:12/e.stageScale,text:"".concat(l.toFixed(2),"km"),offsetX:-2})]})})),yy=function(e){return(0,oa.jsxs)(Kg,{children:[(0,oa.jsx)(cy,{theme:e.theme,logs:e.logs,target:e.hostileAnchor,stageScale:e.stageScale}),(0,oa.jsx)(cy,{theme:e.theme,logs:e.logs,target:e.onBoardAnchor,stageScale:e.stageScale})]})};function by(e){var n,r,i=Lr(),o=(0,t.useReducer)(vy,hy),a=(0,fn.Z)(o,2),s=a[0],l=a[1],u=(0,t.useReducer)(vy,py),c=(0,fn.Z)(u,2),d=c[0],f=c[1],h=(0,t.useState)(1),p=(0,fn.Z)(h,2),v=p[0],m=p[1],g=(0,t.useState)({x:0,y:0}),y=(0,fn.Z)(g,2),b=y[0],_=y[1],x=(0,t.useState)(!1),w=(0,fn.Z)(x,2),S=w[0],k=w[1];(0,t.useEffect)((function(){C()}),[]),(0,t.useEffect)((function(){var t;null!==(t=e.hostileSummaries)&&void 0!==t&&t.summary.capacity.propulsion.maximumVelocity&&l({type:"maximumSpeed",value:e.hostileSummaries.summary.capacity.propulsion.maximumVelocity})}),[null===(n=e.hostileSummaries)||void 0===n?void 0:n.summary.capacity.propulsion.maximumVelocity]),(0,t.useEffect)((function(){var t;null!==(t=e.onBoardSummaries)&&void 0!==t&&t.summary.capacity.propulsion.maximumVelocity&&f({type:"maximumSpeed",value:e.onBoardSummaries.summary.capacity.propulsion.maximumVelocity})}),[null===(r=e.onBoardSummaries)||void 0===r?void 0:r.summary.capacity.propulsion.maximumVelocity]);var C=(0,t.useCallback)((function(){e.setSituation({onboard:d,hostile:s})}),[d,s]);return(0,oa.jsxs)(t.Fragment,{children:[(0,oa.jsx)(my,{stageScale:v,setStageScale:m,isStageDrragable:S,setStageDraggable:k,setStagePoint:_,dispatchHostileAnchor:l,dispatchOnBoardAnchor:f,onBoardSummaries:e.onBoardSummaries,hostileSummaries:e.hostileSummaries}),(0,oa.jsxs)(ty,{style:{zIndex:1},x:b.x,y:b.y,width:window.innerWidth,height:window.innerHeight/2,scaleX:v,scaleY:v,draggable:S,onDragEnd:function(e){_({x:e.currentTarget.x(),y:e.currentTarget.y()})},children:[(0,oa.jsx)(gy,{theme:i,stageScale:v,onBoardAnchor:d,hostileAnchor:s,dispatchSituation:C,dispatchHostileAnchor:l,dispatchOnBoardAnchor:f}),(0,oa.jsx)(yy,{theme:i,stageScale:v,logs:e.logs,onBoardAnchor:d,hostileAnchor:s})]})]})}function _y(e,t){return function(n){e({type:"anchor1",value:{anchor1X:n.target.attrs.x,anchor1Y:n.target.attrs.y}}),e({type:"anchor2",value:{anchor2X:n.target.attrs.x+t.vector.pX,anchor2Y:n.target.attrs.y+t.vector.pY}})}}function xy(e){return function(t){e({type:"anchor2",value:{anchor2X:t.target.attrs.x,anchor2Y:t.target.attrs.y}})}}function wy(e,t){return function(n){e({type:"perfectVector",value:{pX:n.target.attrs.x-t.anchors.anchor1X,pY:n.target.attrs.y-t.anchors.anchor1Y}})}}function Sy(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function ky(e,t){var n=function(e,t){return e.x*t.x+e.y*t.y}(e,t)/(Sy(e)*Sy(t));return Math.acos(n)*(180/Math.PI)}var Cy=n(2157),Ey=Hn((function(e){return{root:{width:"100%",borderTop:"solid 1px ".concat(e.palette.divider),position:"relative",transition:e.transitions.create("height",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},bottomDivContainer:{width:"100%",height:25,position:"absolute",bottom:0,display:"flex",justifyContent:"center"},bottomDiv:{width:25,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",border:"solid 1px ".concat(e.palette.divider),borderTopLeftRadius:"50%",borderTopRightRadius:"50%"},expandButton:{minWidth:0,width:"100%",height:"100%",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),zIndex:2},jax:{fontSize:20}}})),Ty=function(e){var n=Ey(),r=(0,t.useState)(!1),i=(0,fn.Z)(r,2),o=i[0],a=i[1];return(0,t.useEffect)((function(){a(function(e){var t,n,r;if(null===e||void 0===e||null===(t=e.debugs)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n[0])||void 0===r||!r.type)return{title:"No Detail",reference:"",applied:""};switch(e.debugs[0][0].type){case"turret_accuracy":var i=e.debugs[0][0].payload;return{latex:"Turret Accuracy\\\\\n        \n        {\\scriptsize 0.5}^{((\\frac{Angular \\times 40000m}{Tracking \\times Signature})^{2}+\n        (\\frac{max(0, Distance - Optimal)}{Falloff})^{2})}\\\\\n        \n        {\\scriptsize 0.5}^{((\\frac{".concat(i.angularVelocity.toFixed(5)," \\times 40000m}\n        {").concat(i.tracking.toFixed(2)," \\times ").concat(i.signatureRadius.toFixed(0),"})^{2}+\n        (\\frac{max(0,").concat(i.distance.toFixed(0)," - ").concat(i.optimalRange.toFixed(0),")}\n        {").concat(i.falloffRange.toFixed(0),"})^{2})}\\\\\n        \n        {\\scriptsize ").concat((100*e.debugs[0][0].value).toFixed(1),"\\%}")};case"launcher_damage_modifier":var o=e.debugs[0][0].payload;return{latex:"Missile Damage\\\\\n        \n        {\\scriptsize D \\times min(1,{\\tiny \\frac{S}{E_r}},\n        {\\tiny (\\frac{S \\times E_v}{E_r \\times T_v})}^{drf})}\\\\\n          \n        {\\scriptsize D \\times min(1,{\\tiny \\frac{".concat(o.signatureRadius.toFixed(0),"}\n        {").concat(o.explosionRadius.toFixed(0),"}},\n        {\\tiny (\\frac{").concat(o.signatureRadius.toFixed(0)," \\times ").concat(o.signatureRadius.toFixed(1),"}\n        {").concat(o.explosionRadius.toFixed(0)," \\times ").concat(o.targetVelocity.toFixed(1),"})}^\n        {").concat(o.damageReductionFactor.toFixed(3),"})}\\\\\n        \n        {\\scriptsize D \\times").concat(e.debugs[0][0].value.toFixed(3),"}")};default:return{title:"No Detail",reference:"",applied:""}}}(e.logs[e.logs.length-1]))}),[e.logs]),(0,oa.jsx)(Cy.Z.Provider,{children:(0,oa.jsx)(Cy.Z.Node,{className:n.jax,formula:o.latex})})};function Py(e){var n=Ey(),r=(0,t.useState)(!1),i=(0,fn.Z)(r,2),o=i[0],a=i[1],s=(0,t.useCallback)((function(){a(!o)}),[o]);return(0,oa.jsxs)("div",{className:n.root,style:{height:o?200:0},children:[o&&(0,oa.jsx)(Ty,{logs:e.logs}),(0,oa.jsx)("div",{className:n.bottomDivContainer,children:(0,oa.jsx)("div",{className:n.bottomDiv,children:(0,oa.jsx)(ra,{title:"Stats for nerds (Experimental)",placement:"top",arrow:!0,children:(0,oa.jsx)(xu,{className:n.expandButton,style:{transform:o?"rotate(180deg)":""},onClick:s,children:(0,oa.jsx)(wu.Z,{})})})})})]})}var Iy=Hn((function(e){return{root:{width:"90%",minWidth:300,maxWidth:600,height:"100%"}}}));function Ry(e){var t=Iy();(0,Gn.Z)();return(0,oa.jsxs)(Qc,{className:t.root,elevation:3,children:[(0,oa.jsx)(by,{logs:e.logs,onBoardSummaries:e.onBoardSummaries,hostileSummaries:e.hostileSummaries,setSituation:e.setSituation}),(0,oa.jsx)(Py,{logs:e.logs})]})}var Oy=t.forwardRef((function(e,n){var r=e.animation,i=void 0===r?"pulse":r,o=e.classes,a=e.className,s=e.component,l=void 0===s?"span":s,u=e.height,c=e.variant,d=void 0===c?"text":c,f=e.width,h=(0,Wn.Z)(e,["animation","classes","className","component","height","variant","width"]),p=Boolean(h.children);return t.createElement(l,(0,Fn.Z)({ref:n,className:(0,Un.Z)(o.root,o[d],a,p&&[o.withChildren,!f&&o.fitContent,!u&&o.heightAuto],!1!==i&&o[i])},h,{style:(0,Fn.Z)({width:f,height:u},h.style)}))})),Ly=(0,yr.Z)((function(e){return{root:{display:"block",backgroundColor:(0,Jr.Fq)(e.palette.text.primary,"light"===e.palette.type?.11:.13),height:"1.2em"},text:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 60%",transform:"scale(1, 0.60)",borderRadius:e.shape.borderRadius,"&:empty:before":{content:'"\\00a0"'}},rect:{},circle:{borderRadius:"50%"},pulse:{animation:"$pulse 1.5s ease-in-out 0.5s infinite"},"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}},wave:{position:"relative",overflow:"hidden","&::after":{animation:"$wave 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(e.palette.action.hover,", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}},"@keyframes wave":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}},withChildren:{"& > *":{visibility:"hidden"}},fitContent:{maxWidth:"fit-content"},heightAuto:{height:"auto"}}}),{name:"MuiSkeleton"})(Oy),Dy=Hn((function(e){return{modeButton:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary},rootCard:{width:"90%",minWidth:300,maxWidth:600,marginBottom:24,height:"fit-content"},demoButton:{width:"100%",backgroundColor:e.palette.property.blue,color:e.palette.button.color,borderRadius:0}}})),Ny=function(e,t){return"update"===t.type?(t.payload.forEach((function(t){e.push(t)})),e.slice(e.length-40>0?e.length-40:0)):e};function Ay(e){var n,r,i=Dy(),o=Lr(),a=(0,t.useReducer)(Ny,[]),s=(0,fn.Z)(a,2),l=s[0],u=s[1],c=(0,t.useState)(!1),d=(0,fn.Z)(c,2),f=d[0],h=d[1],p=(0,t.useState)(!1),v=(0,fn.Z)(p,2),m=v[0],g=v[1],y=(0,t.useState)(),b=(0,fn.Z)(y,2),_=b[0],x=b[1],w=(0,t.useState)(),S=(0,fn.Z)(w,2),k=S[0],C=S[1],E=(0,t.useState)(),T=(0,fn.Z)(E,2),P=T[0],I=T[1],R=(0,t.useState)(),O=(0,fn.Z)(R,2),L=O[0],D=O[1],N=(0,t.useState)(),A=(0,fn.Z)(N,2),M=A[0],Z=A[1],j=(0,t.useState)(),F=(0,fn.Z)(j,2),z=F[0],B=F[1],H=(0,t.useCallback)((function(e){if(e[0].ship&&e[1].ship){var t=(null===e||void 0===e?void 0:e[0])||JSON.parse(JSON.stringify(e[0])),n=(null===e||void 0===e?void 0:e[1])||JSON.parse(JSON.stringify(e[1]));My(t),x(t),My(n),C(n),g(!m)}}),[e.slotsSet,m]),W=(0,t.useCallback)((function(){g(!m)}),[e.slotsSet,m]);return(0,t.useEffect)((function(){sb.ref("/demo/demo.gif").getDownloadURL().then((function(e){h(e)}))}),[]),(0,oa.jsxs)(t.Fragment,{children:[(0,oa.jsx)(Gu,{xs:e.isCompact?12:6,container:!0,item:!0,justifyContent:e.isCompact?"center":"flex-end",children:(0,oa.jsxs)(Qc,{className:i.rootCard,elevation:3,children:[(0,oa.jsx)(Gu,{xs:12,container:!0,item:!0,justifyContent:"center",children:(0,oa.jsxs)(gi,{color:"inherit",variant:"text",fullWidth:!0,disableElevation:!0,children:[(0,oa.jsx)(ra,{title:"Import fits from above. Needs both(red and blue) fits to start simulation",placement:"bottom",arrow:!0,children:(0,oa.jsx)(vi,{className:i.modeButton,onClick:H,children:(0,oa.jsx)(Ms.Z,{style:{color:o.palette.text.primary}})})}),(0,oa.jsx)(ra,{title:"Restart the simulation",placement:"bottom",arrow:!0,children:(0,oa.jsx)(vi,{className:i.modeButton,onClick:W,children:(0,oa.jsx)(Fh.Z,{style:{color:o.palette.text.primary}})})})]})}),!_&&(0,oa.jsx)(Gu,{xs:12,container:!0,item:!0,justifyContent:"center",children:(0,oa.jsxs)(Qc,{style:{margin:20,width:"100%"},elevation:3,children:[f?(0,oa.jsx)("img",{src:f.toString(),style:{height:340}}):(0,oa.jsx)(Ly,{variant:"rect",width:"100%",height:340}),(0,oa.jsx)(Gu,{xs:12,container:!0,item:!0,justifyContent:"center",children:(0,oa.jsx)(vi,{className:i.demoButton,onClick:function(){(function(e){return e.get("/demojson",(function(){var e=localStorage.getItem("/demojson");return null!==e?Promise.resolve(JSON.parse(e)):sb.ref("/demo/demo.json").getDownloadURL().then(function(){var e=pn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).then((function(e){return Mn.decompress(e)}));case 2:return n=e.sent,localStorage.setItem("/demojson",JSON.stringify(n)),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))})(e.cache).then((function(e){H(e)}))},children:"CLICK TO TRY DEMO"})})]})}),(0,oa.jsx)(Nh,{slots:_,setSlots:x,targetSummaries:L,dispatchTargetSummaries:z,location:null===(n=e.situation)||void 0===n?void 0:n.onboard,shareSummaries:I,shareDispatchSummaries:Z,updateFlag:m,dispatchLog:u,color:o.palette.property.blue}),(0,oa.jsx)(Nh,{slots:k,setSlots:C,targetSummaries:P,dispatchTargetSummaries:M,location:null===(r=e.situation)||void 0===r?void 0:r.hostile,shareSummaries:D,shareDispatchSummaries:B,updateFlag:m,dispatchLog:u,color:o.palette.property.red})]})}),(0,oa.jsx)(Gu,{xs:e.isCompact?12:6,container:!0,item:!0,justifyContent:e.isCompact?"center":"flex-start",children:(0,oa.jsx)(Ry,{logs:l,onBoardSummaries:P,hostileSummaries:L,setSituation:e.setSituation})}),(0,oa.jsx)(Gu,{style:{marginTop:24},xs:12,container:!0,item:!0,justifyContent:"center",children:(0,oa.jsx)(Gu,{xs:12,container:!0,item:!0,justifyContent:"center",children:(0,oa.jsx)(vi,{onClick:function(){!function(e,t,n,r){return console.log({up:{slots:e,innerSlots:n.utils.slots,fit:ya.Z.apply(e),innerFit:n.utils.fit,summaries:n},down:{slots:t,innerSlots:r.utils.slots,fit:ya.Z.apply(t),innerFit:r.utils.fit,summaries:r}}),!1;var i={};if(null!==n&&void 0!==n&&n.utils&&null!==r&&void 0!==r&&r.utils){var o=[n,r].map((function(e){var t={lowSlots:[],midSlots:[],highSlots:[],droneSlots:[]};return["droneSlots","highSlots","midSlots","lowSlots"].forEach((function(n){e[n].forEach((function(e){var r,i,o,a;if(e.summary){var s=(0,Zn.Z)({},e.summary);s.root=null===(r=e.summary.root)||void 0===r||null===(i=r.summary)||void 0===i?void 0:i.description,s.target=null===(o=e.summary.target)||void 0===o||null===(a=o.summary)||void 0===a?void 0:a.description,t[n].push({summary:s})}}))})),t.summary=e.summary,t}));i=JSON.stringify({up:{slots:(0,Zn.Z)((0,Zn.Z)({},e),{},{skills:void 0}),innerSlots:(0,Zn.Z)((0,Zn.Z)({},n.utils.slots),{},{skills:void 0}),fit:ya.Z.apply(e),innerFit:n.utils.fit,summaries:o[0]},down:{slots:(0,Zn.Z)((0,Zn.Z)({},t),{},{skills:void 0}),innerSlots:(0,Zn.Z)((0,Zn.Z)({},r.utils.slots),{},{skills:void 0}),fit:ya.Z.apply(t),innerFit:r.utils.fit,summaries:o[1]}})}else i=JSON.stringify({up:{slots:(0,Zn.Z)((0,Zn.Z)({},e),{},{skills:void 0}),fit:ya.Z.apply(e)},down:{slots:(0,Zn.Z)((0,Zn.Z)({},t),{},{skills:void 0}),fit:ya.Z.apply(t)}});var a="Error log",s=new Blob([i],{type:"application/json"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(s,a);else{var l=document.createElement("a"),u=URL.createObjectURL(s);l.href=u,l.download=a,document.body.appendChild(l),l.click(),setTimeout((function(){document.body.removeChild(l),window.URL.revokeObjectURL(u)}),0)}}(e.slotsSet[0],e.slotsSet[1],P,L)},children:"Download error log"})})})]})}function My(e){ya.Z.mapSlots(e,(function(e){e.item&&(e.item.typeState="passive")}),{isIterate:{droneSlots:!0,highSlots:!0,midSlots:!0,lowSlots:!0}})}var Zy=function(e){(function(e){return"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()},jy=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.shouldPreventDefault,o=void 0===i||i,a=r.delay,s=void 0===a?1500:a,l=(0,t.useState)(!1),u=(0,fn.Z)(l,2),c=u[0],d=u[1],f=(0,t.useRef)(),h=(0,t.useRef)(),p=(0,t.useCallback)((function(t){o&&t.target&&(t.target.addEventListener("touchend",Zy,{passive:!1}),h.current=t.target),f.current=setTimeout((function(){e(t),d(!0)}),s)}),[e,s,o]),v=(0,t.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];f.current&&clearTimeout(f.current),t&&!c&&n(),d(!1),o&&h.current&&h.current.removeEventListener("touchend",Zy)}),[o,n,c]);return{onMouseDown:function(e){return p(e)},onTouchStart:function(e){return p(e)},onMouseUp:function(e){return v(e)},onMouseLeave:function(e){return v(e,!1)},onTouchEnd:function(e){return v(e)}}},Fy=Hn((function(e){return{modeButton:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary},modeButtonActive:{backgroundColor:e.palette.background.paper,color:e.palette.property.org},errorButtonGroup:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),color:e.palette.text.primary}}})),zy=function(e){var n=Fy(),r=(0,t.useState)(!1),i=(0,fn.Z)(r,2),o=i[0],a=i[1],s=jy((function(){a(!o)}),(function(){var e=window.open("https://github.com/tiktrimo/EVE-Fitting.js/wiki/Bug-&-Suggestion","_blank","noopener,noreferrer");e&&(e.opener=null)}));return(0,oa.jsx)(Vr,{elevation:2,children:(0,oa.jsxs)(gi,{variant:"text",className:n.errorButtonGroup,children:[(0,oa.jsx)(vi,{href:"https://github.com/tiktrimo/EVE-Fitting.js",target:"_blank",children:(0,oa.jsx)(Pf.Z,{})}),(0,oa.jsx)(vi,(0,Zn.Z)((0,Zn.Z)({},s),{},{children:"Report bug"})),o&&(0,oa.jsx)(vi,{onClick:function(){localStorage.clear(),window.location.reload()},children:"Clear Local Storage and refresh"}),(0,oa.jsx)(vi,{href:"https://github.com/tiktrimo/EVE-Fitting.js/wiki/Fitting",target:"_blank",children:"WIKI"})]})})},By=function(e){var t=Fy();Lr();return(0,oa.jsx)(Vr,{style:{marginLeft:10},elevation:2,children:(0,oa.jsxs)(gi,{variant:"text",children:[(0,oa.jsx)(vi,{className:e.isDark?t.modeButton:t.modeButtonActive,onClick:function(){e.setIsDark(!1)},children:(0,oa.jsx)(If.Z,{})}),(0,oa.jsx)(vi,{className:e.isDark?t.modeButtonActive:t.modeButton,onClick:function(){e.setIsDark(!0)},children:(0,oa.jsx)(Rf.Z,{})})]})})},Hy=function(e){var t=Lr();return(0,oa.jsxs)(Gu,{style:{position:"relative"},xs:12,container:!0,item:!0,justifyContent:"center",children:[(0,oa.jsx)("div",{style:{width:400,backgroundColor:t.palette.action.disabled,height:1,position:"absolute",top:17,zIndex:-1}}),(0,oa.jsx)("div",{style:{width:200,backgroundColor:t.palette.background.paper,display:"flex",justifyContent:"center"},children:(0,oa.jsx)(Ii,{style:{fontSize:26,fontWeight:600,color:t.palette.action.disabled},children:e.label})})]})};function Wy(e){var n,r=Lr(),i=(0,t.useState)(0),o=(0,fn.Z)(i,2),a=o[0],s=o[1],l=(0,t.useRef)(null),u=(0,t.useState)(!0),c=(0,fn.Z)(u,2),d=c[0],f=c[1],h=(0,t.useState)("fit"),p=(0,fn.Z)(h,2),v=p[0],m=p[1],g=(0,t.useState)(),y=(0,fn.Z)(g,2),b=y[0],_=y[1],x=(0,t.useState)(),w=(0,fn.Z)(x,2),S=w[0],k=w[1],C=(0,t.useState)(),E=(0,fn.Z)(C,2),T=E[0],P=E[1];return(0,t.useEffect)((function(){var e;s(window.innerWidth),f((null===(e=l.current)||void 0===e?void 0:e.offsetWidth)<800);var t=function(e){var t;s(window.innerWidth),f((null===(t=l.current)||void 0===t?void 0:t.offsetWidth)<800)};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[null===(n=l.current)||void 0===n?void 0:n.offsetWidth]),(0,oa.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse"},children:(0,oa.jsxs)(Gu,{innerRef:l,style:{width:a<1e3?"100%":a-620,margin:0,paddingTop:12},container:!0,spacing:3,children:[(0,oa.jsx)(Gu,{xs:12,container:!0,item:!0,justifyContent:"center",children:(0,oa.jsx)(Hy,{label:"FITTING"})}),(0,oa.jsx)(Gu,{xs:d?12:6,container:!0,item:!0,justifyContent:d?"center":"flex-end",children:(0,oa.jsx)(Ef,{setSlots:k,backgroundColor:r.palette.property.blue,color:r.palette.background.paper,tag:"fit",activeDrawer:v,setActiveDrawer:m,cache:e.cache})}),(0,oa.jsx)(Gu,{xs:d?12:6,container:!0,item:!0,justifyContent:d?"center":"flex-start",children:(0,oa.jsx)(Ef,{setSlots:P,backgroundColor:r.palette.property.red,color:r.palette.background.paper,tag:"fit1",activeDrawer:v,setActiveDrawer:m,cache:e.cache})}),(0,oa.jsx)(Gu,{xs:12,container:!0,item:!0,justifyContent:"center",children:(0,oa.jsx)(Hy,{label:"SIMULATION"})}),(0,oa.jsx)(Ay,{isCompact:d,slotsSet:[S,T],situation:b,setSituation:_,cache:e.cache}),(0,oa.jsxs)(Gu,{xs:12,container:!0,item:!0,justifyContent:"center",children:[(0,oa.jsx)(zy,{}),(0,oa.jsx)(By,{isDark:e.isDark,setIsDark:e.setIsDark})]})]})})}var Uy=new _n(3600),Gy=Hn((function(e){return{root:{width:"100%",height:"100%",position:"fixed",top:0,left:0,borderRadius:0,overflow:"auto"}}}));function qy(e){var n=Gy();return(0,t.useEffect)((function(){Uy.get("/marketCategories",(function(){var e=localStorage.getItem("/marketCategories");return null!==e?Promise.resolve(JSON.parse(e)):sb.ref("/marketCategories.json").getDownloadURL().then(function(){var e=pn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).then((function(e){return Mn.decompress(e)}));case 2:return n=e.sent,localStorage.setItem("/marketCategories",JSON.stringify(n)),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}),[]),(0,t.useEffect)((function(){Uy.get("/typeIDsTable",(function(){var e=localStorage.getItem("/typeIDsTable");return null!==e?Promise.resolve(JSON.parse(e)):sb.ref("/listInvTypesTable.json").getDownloadURL().then(function(){var e=pn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).then((function(e){return Mn.decompress(e)}));case 2:return n=e.sent,localStorage.setItem("/typeIDsTable",JSON.stringify(n)),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}),[]),(0,t.useEffect)((function(){Uy.get("/skillsStaticBoard",(function(){var e=localStorage.getItem("/skillsStaticBoard");return null!==e?Promise.resolve(JSON.parse(e)):sb.ref("/skillsStaticBoard.json").getDownloadURL().then(function(){var e=pn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).then((function(e){return Mn.decompress(e)}));case 2:return n=e.sent,localStorage.setItem("/skillsStaticBoard",JSON.stringify(n)),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}),[]),(0,t.useEffect)((function(){Uy.get("/attributesCategories",(function(){var e=localStorage.getItem("/attributesCategories");return null!==e?Promise.resolve(JSON.parse(e)):sb.ref("/attributesCategories.json").getDownloadURL().then(function(){var e=pn(mn().mark((function e(t){var n;return mn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).then((function(e){return Mn.decompress(e)}));case 2:return n=e.sent,localStorage.setItem("/attributesCategories",JSON.stringify(n)),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}),[]),(0,oa.jsx)(Vr,{className:n.root,elevation:0,children:(0,oa.jsx)(Wy,{isDark:e.isDark,setIsDark:e.setIsDark,cache:Uy})})}var Vy=n(369),Yy=n(423),Ky=n(9316);var Xy=function(e){var n=e.children,r=e.theme,i=(0,Gn.Z)(),o=t.useMemo((function(){var e=null===i?r:function(e,t){return"function"===typeof t?t(e):(0,Fn.Z)({},e,t)}(i,r);return null!=e&&(e[Ky.Z]=null!==i),e}),[r,i]);return t.createElement(Yy.Z.Provider,{value:o},n)},Qy=n(5995),$y=n(4894),Jy={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64"},eb=n(4335),tb=n(4806),nb=(0,Vy.Z)({palette:{primary:{light:"#6d6d6d",main:"#424242",dark:"#1b1b1b"},action:{opaqueHover:"#F5F5F5",opaqueHoverSecondary:"#EEEEEE"},button:{color:"#ffffff"},property:{blue:Qy.Z[500],blueSecondary:Qy.Z[200],red:$y.Z[500],redSecondary:$y.Z[200],grey:Jy[500],greySecondary:Jy[200],org:eb.Z[500],orgSecondary:eb.Z[200],green:tb.Z[500]}},breakpoints:{values:{xs:0,sm:600,md:1100,lg:1200,xl:1536}}}),rb=(0,Vy.Z)({palette:{type:"dark",primary:{light:"#ffffff",main:"#ffffff",dark:"#f5f5f5"},action:{opaqueHover:"#515151",opaqueHoverSecondary:"#616161"},button:{color:"#ffffff"},property:{blue:"#66b3e8",blueSecondary:"#b1cce2",red:"#f54256",redSecondary:"#e8a5a5",grey:Jy[400],greySecondary:Jy[200],org:"#ff994d",orgSecondary:"#f3cb90",green:tb.Z[500]}},breakpoints:{values:{xs:0,sm:600,md:1100,lg:1200,xl:1536}},overrides:{MuiPaper:{elevation3:{boxShadow:"",border:"solid 0.1px #595959"}}}});function ib(e){var n=(0,t.useState)(!1),r=(0,fn.Z)(n,2),i=r[0],o=r[1];return(0,oa.jsx)(Xy,{theme:i?rb:nb,children:(0,oa.jsx)(qy,{isDark:i,setIsDark:o})})}s.Z.initializeApp(a());var ob=s.Z.database(),ab=s.Z.analytics(),sb=s.Z.storage();ab.logEvent("pageLoad",{type:"log"}),i.render((0,oa.jsx)(ib,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}()}();
//# sourceMappingURL=main.29a06d27.js.map