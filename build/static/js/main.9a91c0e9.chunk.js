(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{128:function(e,t,a){e.exports=a(164)},133:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t),a.d(t,"database",(function(){return Fr})),a.d(t,"analytics",(function(){return Wr})),a.d(t,"storage",(function(){return Hr}));var n=a(0),r=a.n(n),i=a(16),o=a.n(i);a(133),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(118),l=a(223),u=a(54),s=(a(165),a(134),a(166),a(20)),d=a.n(s),f=a(30),m=a(36),p=a(37),b=a(138),v=function(){function e(t){Object(m.a)(this,e),this.cache=new b({stdTTL:t,checkperiod:.2*t,useClones:!1})}return Object(p.a)(e,[{key:"get",value:function(e,t){var a=this,n=this.cache.get(e);return n?Promise.resolve(n):t().then((function(t){return a.cache.set(e,t),t}))}},{key:"wait",value:function(e){var t=this,a=this.cache.get(e);return a?Promise.resolve(a):new Promise((function(a,n){!function t(n,r){return function(){var i=r.get(e);if(void 0!==i||n>120)return a(i);setTimeout(t(n++,r),100)}}(0,t.cache)()}))}},{key:"del",value:function(e){this.cache.del(e)}},{key:"flush",value:function(){this.cache.flushAll()}}]),e}(),h=a(55),g=a(6),O=a(40),y=a(11),E=a(206),S=a(225),j=a(215),I=a(167),L=a(13),D=a(210),w=a(228),k=a(211),x=a(226),C=a(58),T=r.a.createElement(C.a,null,r.a.createElement("path",{d:"m11.949456,5.46298l0,5.560755",strokeWidth:"2",stroke:"#000"}),r.a.createElement("path",{d:"m4.974388,17.593532l4.953309,-2.93155",strokeWidth:"2",stroke:"#000"}),r.a.createElement("path",{d:"m14.038607,14.695678l5.020701,2.864158",strokeWidth:"2",stroke:"#000"})),N=r.a.createElement(C.a,{color:"disabled"},r.a.createElement("path",{d:"m5.041085,11.962486l5.445918,0",strokeWidth:"2",stroke:"#000"}),r.a.createElement("path",{d:"m13.477731,11.962486l5.445918,0",strokeWidth:"2",stroke:"#000"})),M=r.a.createElement(C.a,null,r.a.createElement("path",{d:"m11.983486,6.352277l0,11.23114",strokeWidth:"2",stroke:"#000"})),A=r.a.createElement(C.a,null,r.a.createElement("path",{stroke:"null",d:"m4.606327,4.629219l-1.762578,1.762578l0,2.128828l0,2.105937l0.915625,0l0.915625,0l0,-1.556562l0,-1.556562l1.442109,-1.419219l1.442109,-1.419219l1.533672,0l1.533672,0l0,-0.915625l0,-0.915625l-2.128828,0l-2.105937,0l-1.785469,1.785469z"}),r.a.createElement("path",{stroke:"null",d:"m13.373437,3.759375l0,0.915625l1.556562,0l1.556562,0l1.419219,1.442109l1.419219,1.442109l0,1.533672l0,1.533672l0.915625,0l0.915625,0l0,-2.128828l0,-2.105937l-1.785469,-1.785469l-1.762578,-1.762578l-2.128828,0l-2.105937,0l0,0.915625z"}),r.a.createElement("path",{stroke:"null",d:"m2.843749,15.502266l0,2.105937l1.785469,1.785469l1.762578,1.762578l2.128828,0l2.105937,0l0,-0.915625l0,-0.915625l-1.556562,0l-1.556562,0l-1.419219,-1.442109l-1.419219,-1.442109l0,-1.533672l0,-1.533672l-0.915625,0l-0.915625,0l0,2.128828z"}),r.a.createElement("path",{stroke:"null",d:"m19.324999,14.93l0,1.556562l-1.442109,1.419219l-1.442109,1.419219l-1.533672,0l-1.533672,0l0,0.915625l0,0.915625l2.128828,0l2.105937,0l1.785469,-1.785469l1.762578,-1.762578l0,-2.128828l0,-2.105937l-0.915625,0l-0.915625,0l0,1.556562z"})),R=r.a.createElement(C.a,null,r.a.createElement("line",{x1:"5",y1:"5",x2:"10",y2:"10",strokeWidth:"2",stroke:"rgb(0,0,0)"}),r.a.createElement("line",{x1:"19",y1:"5",x2:"14",y2:"10",strokeWidth:"2",stroke:"rgb(0,0,0)"}),r.a.createElement("line",{x1:"10",y1:"14",x2:"5",y2:"19",strokeWidth:"2",stroke:"rgb(0,0,0)"}),r.a.createElement("line",{x1:"14",y1:"14",x2:"19",y2:"19",strokeWidth:"2",stroke:"rgb(0,0,0)"})),P=(C.a,r.a.createElement(C.a,null,r.a.createElement("path",{d:" M 12 18.923 L 8.686 13 L 5.371 7.077 L 12 7.077 L 18.629 7.077 L 15.314 13 L 12 18.923 Z ",fill:"none",strokeWidth:"2",stroke:"rgb(0,0,0)"}))),_=r.a.createElement(C.a,null,r.a.createElement("path",{d:" M 3.563 11.324 L 3.563 16.203 L 6.582 19.217 L 9.54 16.268 L 14.414 16.268 L 17.371 19.217 L 20.437 16.156 L 20.437 11.324 L 12.105 2.566 L 3.563 11.324 Z ",fill:"none",strokeWidth:"2",stroke:"rgb(0,0,0)"})),F=a(207),W=a(102),H=a.n(W),B=a(63),G=a.n(B),z=a(103),V=a.n(z),Q=a(2),K=a(9),U=function(){function e(){Object(m.a)(this,e)}return Object(p.a)(e,null,[{key:"extractSkillsStaticPlaneBoard",value:function(t){if(t.constructor!==Object)return[];var a=Object(Q.a)(e,de)[de](t),n=Object(Q.a)(e,q)[q](a);return Object.values(n).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return Object(y.a)({},e,{debug:void 0,falseDebug:void 0})}))}}]),e}(),Z=Object(K.a)("mapSlots_slots"),X=Object(K.a)("applyBoard"),q=Object(K.a)("applyBoard_createStaticBoard"),J=Object(K.a)("applyBoard_createPassiveBoard"),Y=Object(K.a)("applyBoard_slots"),$=Object(K.a)("applyBoard_type"),ee=Object(K.a)("applyBoard_attribute"),te=Object(K.a)("applyBoard_mod"),ae=Object(K.a)("applyBoard_sortMods"),ne=Object(K.a)("applyBoard_modIsModApplicable"),re=Object(K.a)("applyBoard_modIsTypeApplicable"),ie=Object(K.a)("applyBoard_modIsStateApplicable"),oe=Object(K.a)("giveDomainID"),ce=Object(K.a)("giveDomainID_slots"),le=Object(K.a)("giveDomainID_skills"),ue=Object(K.a)("createBoard"),se=Object(K.a)("createBoard_slots"),de=Object(K.a)("createBoard_skills"),fe=Object(K.a)("createBoard_singleType"),me=Object(K.a)("createBoard_setState"),pe=Object(K.a)("common_findAttributeByID"),be=Object(K.a)("common_operation"),ve=Object(K.a)("oepration_mul"),he=Object(K.a)("oepration_per"),ge=Object(K.a)("operation_add"),Oe=Object(K.a)("operation_sub"),ye=Object(K.a)("operation_div"),Ee=Object(K.a)("common_penaltyMul"),Se=Object(K.a)("common_penalizedModifyingValue");U.validateChargeSlot=function(e){if(!e||!e.item||!e.charge)return!1;var t=e.item,a=e.charge,n=Object(Q.a)(U,pe)[pe](t,128),r=Object(Q.a)(U,pe)[pe](a,128);if(n&&r&&n.value!==r.value)return!1;var i=[604,605,606,609,610].map((function(e){var a=Object(Q.a)(U,pe)[pe](t,e);return a?a.value:void 0})).filter((function(e){return e}));return 0!==i.length&&!!i.includes(a.groupID)},U.mapSlots_CONFIG={isIterate:{ship:!1,miscSlots:!1,highSlots:!1,midSlots:!1,lowSlots:!1,rigSlots:!1,droneSlots:!1}},U.mapSlots=function(e,t,a){var n=Object(y.a)({},U.mapSlots_CONFIG.isIterate,{},a.isIterate);return["ship","miscSlots","highSlots","midSlots","lowSlots","rigSlots","droneSlots"].reduce((function(a,r){return!0===n[r]?a.concat(Object(Q.a)(U,Z)[Z](e[r],t)):a}),[])},Object.defineProperty(U,Z,{writable:!0,value:function(e,t){return e.map((function(e){return t(e)}))}}),U.apply=function(e){var t=Object(Q.a)(U,oe)[oe](e),a=Object(Q.a)(U,ue)[ue](t),n=Object(Q.a)(U,q)[q](a);return Object(Q.a)(U,X)[X](t,n)},Object.defineProperty(U,X,{writable:!0,value:function(e,t){var a=Object(Q.a)(U,$)[$](e.ship,t),n=Object(Q.a)(U,Y)[Y](e.miscSlots,t),r=Object(Q.a)(U,Y)[Y](e.highSlots,t),i=Object(Q.a)(U,Y)[Y](e.midSlots,t);return{ship:a,miscSlots:n,lowSlots:Object(Q.a)(U,Y)[Y](e.lowSlots,t),midSlots:i,highSlots:r,rigSlots:Object(Q.a)(U,Y)[Y](e.rigSlots,t),droneSlots:Object(Q.a)(U,Y)[Y](e.droneSlots,t)}}}),Object.defineProperty(U,q,{writable:!0,value:function(e){var t={},a=Object(Q.a)(U,J)[J](e);return e.forEach((function(e){if(t[e.modifiedAttributeID]||(t[e.modifiedAttributeID]=[]),!0===e.isStatic)t[e.modifiedAttributeID].push(e);else{var n=Object(Q.a)(U,te)[te](e,a);n.isStatic=!0,t[e.modifiedAttributeID].push(n)}})),t}}),Object.defineProperty(U,J,{writable:!0,value:function(e){var t={};return e.forEach((function(e){t[e.modifiedAttributeID]||(t[e.modifiedAttributeID]=[]),t[e.modifiedAttributeID].push(e)})),t}}),Object.defineProperty(U,Y,{writable:!0,value:function(e,t){return e.map((function(e){var a=e.item,n=e.charge;return Object(y.a)({},e,{item:Object(Q.a)(U,$)[$](a,t),charge:Object(Q.a)(U,$)[$](n,t)})}))}}),Object.defineProperty(U,$,{writable:!0,value:function(e,t){if(!e||!e.typeAttributesStats)return e;var a=e.typeAttributesStats.map((function(a){return Object(Q.a)(U,ee)[ee](e,a,t)}));return Object(y.a)({},e,{typeAttributesStats:a})}}),Object.defineProperty(U,ee,{writable:!0,value:function(e,t,a){var n=a[t.attributeID];if(!n||0===n.length)return t;var r=t.value,i=0;(t.debug||t.falseDebug)&&console.log("ERROR","debugCorrupt");var o=[],c=[];return Object(Q.a)(U,ae)[ae](n.map((function(e){return Object(Q.a)(U,te)[te](e,a)}))).forEach((function(t){if(Object(Q.a)(U,re)[re](e,t)){var a=r;r=Object(Q.a)(U,be)[be](r,t.modifyingAttributeValue,t.operation,i),o.push(Object(y.a)({},t,{penCount:i,values:{baseValue:a,appliedValue:r,penalizedModifyingAttributeValue:Object(Q.a)(U,Se)[Se](t.modifyingAttributeValue,t.operation,i)}})),!0===t.isPenalized&&i++}else c.push(t)})),Object(y.a)({},t,{value:r,debug:o,falseDebug:c})}}),Object.defineProperty(U,te,{writable:!0,value:function(e,t){if(e.modifyingAttributeID===e.modifiedAttributeID||!0===e.isStatic)return e;var a=t[e.modifyingAttributeID];if(!a||0===a.length)return e;var n=e.modifyingAttributeValue,r=0;(e.debug||e.falseDebug)&&console.log("ERROR","debugCorrupt");var i=[],o=[];return Object(Q.a)(U,ae)[ae](a.map((function(e){return Object(Q.a)(U,te)[te](e,t)}))).forEach((function(t){if(Object(Q.a)(U,ne)[ne](e,t)){var a=n;n=Object(Q.a)(U,be)[be](n,t.modifyingAttributeValue,t.operation,r),i.push(Object(y.a)({},t,{penCount:r,values:{baseValue:a,appliedValue:n,penalizedModifyingAttributeValue:Object(Q.a)(U,Se)[Se](t.modifyingAttributeValue,t.operation,r)}})),!0===t.isPenalized&&r++}else o.push(t)})),Object(y.a)({},e,{modifyingAttributeValue:n,debug:i,falseDebug:o})}}),Object.defineProperty(U,ae,{writable:!0,value:function(e){var t=e[0],a=function(){return!0},n=t.modifiedAttributeHighIsGood;!0===n?a=function(e,t){return e.operation===t.operation?t.modifyingAttributeValue-e.modifyingAttributeValue:"prePercent"===e.operation||"postPercent"===e.operation?t.modifyingAttributeValue-e.modifyingAttributeValue-1:"prePercent"===t.operation||"postPercent"===t.operation?1+t.modifyingAttributeValue-e.modifyingAttributeValue:void 0}:!1===n&&(a=function(e,t){return e.operation===t.operation?e.modifyingAttributeValue-t.modifyingAttributeValue:"prePercent"===e.operation||"postPercent"===e.operation?1+e.modifyingAttributeValue-t.modifyingAttributeValue:"prePercent"===t.operation||"postPercent"===t.operation?e.modifyingAttributeValue-t.modifyingAttributeValue-1:void 0});var r=[],i=[];return e.forEach((function(e){"modAdd"===e.operation||"modSub"===e.operation||"postDiv"===e.operation||!0===e.isStackException?r.push(e):i.push(e)})),!1===t.modifiedAttributeStackable&&(i.sort(a),i.forEach((function(e,t,a){a[t]=Object(y.a)({},e,{isPenalized:!0})}))),r.concat(i)}}),Object.defineProperty(U,ne,{writable:!0,value:function(e,t){var a;if(!Object(Q.a)(U,ie)[ie](t))return!1;switch(t.domain){case"itemID":switch(t.func){case"ItemModifier":return e.domainID===t.domainID;default:return!1}case"shipID":switch(t.func){case"ItemModifier":return"ship"===e.domainID;case"LocationGroupModifier":return e.typeGroupID===t.groupID;case"LocationRequiredSkillModifier":return null===e||void 0===e||null===(a=e.typeSkills)||void 0===a?void 0:a.includes(t.skillTypeID);default:return!1}default:return!0}}}),Object.defineProperty(U,re,{writable:!0,value:function(e,t){if(!Object(Q.a)(U,ie)[ie](t))return!1;switch(void 0===e.domainID&&console.log("domainID missing",e),t.domain){case"itemID":switch(t.func){case"ItemModifier":return e.domainID===t.domainID;default:return!1}case"shipID":switch(t.func){case"ItemModifier":return"ship"===e.domainID;case"LocationGroupModifier":return e.groupID===t.groupID;case"LocationRequiredSkillModifier":return!!e.typeSkills&&e.typeSkills.includes(t.skillTypeID);default:return!1}case"charID":switch(t.func){case"OwnerRequiredSkillModifier":return!!e.typeSkills&&e.typeSkills.includes(t.skillTypeID);case"ItemModifier":return!0;default:return!1}case"otherID":switch(t.func){case"ItemModifier":return e.domainID.split(":")[0]===t.domainID.split(":")[0];default:return!1}case"structureID":return!1;default:return!0}}}),Object.defineProperty(U,ie,{writable:!0,value:function(e){switch(e.typeState){case"overload":return!0;case"activation":switch(e.effectCategory){case"overload":return!1;default:return!0}case"passive":switch(e.effectCategory){case"overload":case"target":case"activation":return!1;default:return!0}case"offline":return e.effectCategory,!1;default:return!1}}}),Object.defineProperty(U,oe,{writable:!0,value:function(e){return{skills:Object(Q.a)(U,le)[le](e.skills),ship:Object(y.a)({},e.ship,{domainID:"ship"}),miscSlots:Object(Q.a)(U,ce)[ce](e.miscSlots,"miscSlots"),lowSlots:Object(Q.a)(U,ce)[ce](e.lowSlots,"lowSlots"),midSlots:Object(Q.a)(U,ce)[ce](e.midSlots,"midSlots"),highSlots:Object(Q.a)(U,ce)[ce](e.highSlots,"highSlots"),rigSlots:Object(Q.a)(U,ce)[ce](e.rigSlots,"rigSlots"),droneSlots:Object(Q.a)(U,ce)[ce](e.droneSlots,"droneSlots")}}}),Object.defineProperty(U,ce,{writable:!0,value:function(e,t){if(e&&e.constructor===Array)return e.map((function(e,a){return{item:!!e.item.typeID&&Object(y.a)({},e.item,{domainID:"".concat(t,"(").concat(a,"):item")}),charge:!!e.charge.typeID&&Object(y.a)({},e.charge,{domainID:"".concat(t,"(").concat(a,"):charge")})}}))}}),Object.defineProperty(U,le,{writable:!0,value:function(e){return e&&e.constructor===Array?void 0!==e[0].domainID?e:e.map((function(e){return Object(y.a)({},e,{domainID:"skill:".concat(e.typeName)})})):e}}),Object.defineProperty(U,ue,{writable:!0,value:function(e){var t=Object(Q.a)(U,de)[de](e.skills),a=Object(Q.a)(U,fe)[fe](e.ship,!0),n=Object(Q.a)(U,se)[se](e.miscSlots,!0),r=Object(Q.a)(U,se)[se](e.lowSlots),i=Object(Q.a)(U,se)[se](e.midSlots),o=Object(Q.a)(U,se)[se](e.highSlots),c=Object(Q.a)(U,se)[se](e.rigSlots),l=Object(Q.a)(U,se)[se](e.droneSlots);return[].concat(Object(L.a)(t),Object(L.a)(a),Object(L.a)(n),Object(L.a)(r),Object(L.a)(i),Object(L.a)(o),Object(L.a)(c),Object(L.a)(l))}}),Object.defineProperty(U,se,{writable:!0,value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||e.constructor!==Array)return[];var a=[];return e.forEach((function(e){var n=Object(Q.a)(U,fe)[fe](e.item,t),r=Object(Q.a)(U,fe)[fe](e.charge,!0);n&&n.forEach((function(e){return a.push(e)})),r&&r.forEach((function(e){return a.push(e)}))})),a}}),Object.defineProperty(U,de,{writable:!0,value:function(e){return e.constructor===Array?e:Object.values(e).reduce((function(e,t){var a=Object(Q.a)(U,fe)[fe](t,!0).map((function(e){return Object(y.a)({},e,{domainID:"skill:".concat(e.typeName)})}));return e.concat(a)}),[])}}),Object.defineProperty(U,fe,{writable:!0,value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return[];var a=[132],n=e.typeEffectsStats?e.typeEffectsStats.filter((function(e){return void 0!==e.modifierInfo&&!a.includes(e.effectID)})):[],r=[];return n.forEach((function(a){a.modifierInfo.forEach((function(n){var i=Object(Q.a)(U,pe)[pe](e,n.modifyingAttributeID),o=n.modifyingAttributeValue?n.modifyingAttributeValue:null===i||void 0===i?void 0:i.value;r.push(Object(y.a)({domainID:e.domainID,typeName:e.typeName},n,{effectName:a.effectName,effectCategory:a.effectCategory,modifyingAttributeValue:o,typeID:e.typeID,typeState:33!==e.iconID?e.typeState:"passive",typeGroupID:e.groupID,typeSkills:e.typeSkills,isStackException:void 0!==n.isStackException?n.isStackException:t}))}))})),r}}),U.getCurrentState=function(e){return Object(Q.a)(U,me)[me](e)},U.getInitialState=function(e){if(e&&e.typeEffectsStats)return 33===e.iconID?"passive":e.typeEffectsStats.reduce((function(e,t){return"activation"===t.effectCategory&&16!==t.effectID||"target"===t.effectCategory?"activation":e}),"passive")},Object.defineProperty(U,me,{writable:!0,value:function(e){if(e||0===e){if(33===e.iconID)return"passive";var t=e.typeEffectsStats.reduce((function(e,t){return"activation"===t.effectCategory&&16!==t.effectID||"target"===t.effectCategory?"activation":e}),"passive"),a=e.typeState;return void 0===a?t:"passive"===t&&"activation"===a?"passive":a}}}),Object.defineProperty(U,pe,{writable:!0,value:function(e,t){if(e&&e.typeAttributesStats&&e.typeAttributesStats.constructor===Array)return e.typeAttributesStats.find((function(e){return e.attributeID===t}))}}),Object.defineProperty(U,be,{writable:!0,value:function(e,t,a,n){if(void 0===t)return e;var r=e;switch(a){case"preMul":case"postMul":r=Object(Q.a)(U,ve)[ve](e,t,n);break;case"prePercent":case"postPercent":r=Object(Q.a)(U,he)[he](e,t,n);break;case"modAdd":r=Object(Q.a)(U,ge)[ge](e,t);break;case"modSub":r=Object(Q.a)(U,Oe)[Oe](e,t);break;case"postDiv":r=Object(Q.a)(U,ye)[ye](e,t)}return r}}),Object.defineProperty(U,ve,{writable:!0,value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e*((t-1)*Object(Q.a)(U,Ee)[Ee](a)+1)}}),Object.defineProperty(U,he,{writable:!0,value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e*(t/100*Object(Q.a)(U,Ee)[Ee](a)+1)}}),Object.defineProperty(U,ge,{writable:!0,value:function(e,t){return e+t}}),Object.defineProperty(U,Oe,{writable:!0,value:function(e,t){return e-t}}),Object.defineProperty(U,ye,{writable:!0,value:function(e,t){return e/t}}),Object.defineProperty(U,Ee,{writable:!0,value:function(e){return Math.pow(Math.E,-.140274*e*e)}}),Object.defineProperty(U,Se,{writable:!0,value:function(e,t,a){switch(t){case"preMul":case"postMul":return 1+Object(Q.a)(U,Ee)[Ee](a)*(e-1);case"prePercent":case"postPercent":return Object(Q.a)(U,Ee)[Ee](a)*e;case"modAdd":case"modSub":return e;case"postDiv":return e/Object(Q.a)(U,Ee)[Ee](a);default:return e}}});var je=Object(E.a)((function(e){return{rootAvatar:{width:20,height:20,color:"#ffffff",backgroundColor:"#000000",right:15,bottom:3,fontSize:12,fontWeight:700,transition:e.transitions.create("color",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})}}}));function Ie(e){var t,a,i=je(),o=Object(n.useState)({color:"#000000",backgroundColor:"#ffffff"}),c=Object(g.a)(o,2),l=c[0],u=c[1],s=Object(n.useState)(!1),d=Object(g.a)(s,2),f=d[0],m=d[1],p=Object(n.useCallback)((function(t){t.stopPropagation(),"DRONE_SLOT"!==e.variant&&e.dispatchSlotsOpen({type:"AMMO",payload:{slotVariant:e.variant,filter:De(e.item)}}),e.setActiveSlotNumber(e.index),e.setActiveSlot({type:e.variant,index:e.index})}),[e.index,e.variant,e.item]);return Object(n.useEffect)((function(){void 0!==e.count&&e.count.constructor===Number?m("".concat(e.count)):e.charge?U.validateChargeSlot({item:e.item,charge:e.charge})?(u({color:"#000000",backgroundColor:"#ffffff",border:"0.1px solid rgb(235, 235, 235)"}),m(r.a.createElement(V.a,{fontSize:"small"}))):(u({color:"#ffffff",backgroundColor:"#ff4242"}),m(r.a.createElement(G.a,{fontSize:"small"}))):(m(r.a.createElement(H.a,{fontSize:"small"})),u({color:"#000000",backgroundColor:"#ffffff",border:"0.1px solid rgb(235, 235, 235)"}))}),[null===(t=e.charge)||void 0===t?void 0:t.typeID,null===(a=e.item)||void 0===a?void 0:a.typeID,e.count]),r.a.createElement(F.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:De(e.item).group.length>0||Le(e.count)?r.a.createElement(w.a,{className:i.rootAvatar,style:Object(y.a)({},l),onClick:p},f):void 0},e.children)}function Le(e){return void 0!==e&&e.constructor===Number}function De(e){if(!e||!e.typeAttributesStats)return{group:[],size:!1};var t=e.typeAttributesStats,a=[604,605,606,609,610].map((function(e){var a=t.find((function(t){return t.attributeID===e}));return a?a.value:void 0})).filter((function(e){return e})),n=t.find((function(e){return 128===e.attributeID}));return{group:a,size:null===n||void 0===n?void 0:n.value}}var we=Object(E.a)((function(e){return{rootAvatar:{width:10,height:10,right:15,top:3,fontSize:1}}}));function ke(e){var t=we();return r.a.createElement(F.a,{overlap:"circle",anchorOrigin:{vertical:"top",horizontal:"right"},badgeContent:xe(e.item)&&r.a.createElement(w.a,{style:{backgroundColor:xe(e.item)},className:t.rootAvatar},"")},e.children)}function xe(e){if(e)switch(e.metaGroupID){case 1:return;case 2:return"#f59500";case 3:return"#78bf36";case 4:return"#086101";case 5:return"#340E73";case 6:return"#3660bf";case 14:return"#9F3A03";case 15:return"#ad0000";default:return}}var Ce=Object(E.a)((function(e){return{root:{borderRadius:0,width:40}}}));function Te(e){var t=Ce();return r.a.createElement(I.a,Object.assign({},e,{classes:{root:t.root},variant:"contained",style:!0===e.disabled?Object(y.a)({},e.style,{backgroundColor:"#e0e0e0",color:"#ffffff"}):Object(y.a)({},e.style),disableElevation:!0}),e.children)}var Ne=a(72),Me=a(75),Ae=a(73),Re=a(71),Pe=a(208);function _e(e){var t,a=Object(n.useState)(!1),i=Object(g.a)(a,2),o=i[0],c=i[1],l=Object(n.useRef)(null);return Object(n.useEffect)((function(){e.open||!0!==o||c(!1)}),[e.open]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:l,onClick:function(){!0!==e.menuButton.props.disabled&&c(!o)}},e.menuButton),r.a.createElement(Pe.a,{open:e.open&&o,anchorEl:l.current,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:function(){return c(!1)},PaperProps:{style:{width:null===(t=l.current)||void 0===t?void 0:t.clientWidth},elevation:0,square:!0},container:l.current},e.children))}var Fe=r.a.createElement(C.a,null,r.a.createElement("path",{d:" M 7.449 2.745 Q 7.108 5.589 9.411 8.575 C 11.991 11.918 6.369 12.954 8.473 15.342 C 10.577 17.731 9.657 19.095 9.212 19.437 C 8.843 19.722 7.165 19.693 6.084 17.731 C 5.004 15.769 4.918 13.466 7.449 11.134 Q 9.98 8.802 6.795 7.523 L 7.449 2.745 Z ",fill:"rgb(255,255,255)"}),r.a.createElement("path",{d:" M 11.761 2.745 Q 11.42 5.589 13.723 8.575 C 16.303 11.918 10.681 12.954 12.785 15.342 C 14.889 17.731 13.969 19.095 13.524 19.437 C 13.155 19.722 11.477 19.693 10.396 17.731 C 9.316 15.769 9.231 13.466 11.761 11.134 Q 14.292 8.802 11.107 7.523 L 11.761 2.745 Z ",fill:"rgb(255,255,255)"}),r.a.createElement("path",{d:" M 15.978 2.745 Q 15.636 5.589 17.94 8.575 C 20.519 11.918 14.897 12.954 17.001 15.342 C 19.106 17.731 18.185 19.095 17.741 19.437 C 17.371 19.722 15.693 19.693 14.613 17.731 C 13.532 15.769 13.447 13.466 15.978 11.134 Q 18.508 8.802 15.324 7.523 L 15.978 2.745 Z ",fill:"rgb(255,255,255)"})),We=r.a.createElement(C.a,null,r.a.createElement("path",{d:" M 16.746 12 L 12 14.74 L 7.254 17.48 L 7.254 12 L 7.254 6.52 L 12 9.26 L 16.746 12 Z ",fill:"rgb(255,255,255)"})),He=r.a.createElement(C.a,null,r.a.createElement("line",{x1:"14.742",y1:"6.625",x2:"14.742",y2:"17.375",strokeWidth:"2",stroke:"rgb(255,255,255)"}),r.a.createElement("line",{x1:"9.258",y1:"6.625",x2:"9.258",y2:"17.375",strokeWidth:"2",stroke:"rgb(255,255,255)"})),Be=r.a.createElement(C.a,null,r.a.createElement("path",{d:" M 7.073 12 C 7.073 9.281 9.281 7.073 12 7.073 C 14.719 7.073 16.927 9.281 16.927 12 C 16.927 14.719 14.719 16.927 12 16.927 C 9.281 16.927 7.073 14.719 7.073 12 Z ",fill:"none",strokeWidth:"2",stroke:"rgb(255,255,255)"})),Ge=Object(E.a)((function(e){return{rootButton:{width:40}}})),ze=function(e){return r.a.createElement(x.a,{title:"Overload",placement:"left",arrow:!0},r.a.createElement("div",null,r.a.createElement(Te,{style:{width:"100%",minWidth:20,backgroundColor:Ne.a[500],color:"#ffffff"},onClick:function(){e.dispatchListItems({type:e.variant,payload:"overload"})},disabled:e.disabled},Fe)))},Ve=function(e){return r.a.createElement(x.a,{title:"Active",placement:"left",arrow:!0},r.a.createElement("div",null,r.a.createElement(Te,{style:{width:"100%",minWidth:20,backgroundColor:Me.a[500],color:"#ffffff"},onClick:function(){e.dispatchListItems({type:e.variant,payload:"activation"})},disabled:e.disabled},We)))},Qe=function(e){return r.a.createElement(x.a,{title:"Online",placement:"left",arrow:!0},r.a.createElement("div",null,r.a.createElement(Te,{style:{width:"100%",minWidth:20,backgroundColor:Ae.a[500],color:"#ffffff"},onClick:function(){e.dispatchListItems({type:e.variant,payload:"passive"})},disabled:e.disabled},Be)))},Ke=function(e){return r.a.createElement(x.a,{title:"Offline",placement:"left",arrow:!0},r.a.createElement("div",null,r.a.createElement(Te,{style:{width:"100%",minWidth:20,backgroundColor:Re.a[500],color:"#ffffff"},onClick:function(){e.dispatchListItems({type:e.variant,payload:"offline"})},disabled:e.disabled},He)))};function Ue(e){var t,a,i,o,c=Ge(),l=Object(n.useState)(!0),u=Object(g.a)(l,2),s=u[0],d=u[1];return Object(n.useEffect)((function(){switch(U.getInitialState(e.activeItem)){case"activation":d(!0);break;case"passive":d(!1);break;default:d(void 0)}}),[null===(t=e.activeItem)||void 0===t?void 0:t.typeID]),r.a.createElement(_e,{open:e.slotsOpen[e.variant].open,menuButton:r.a.createElement(Te,{className:c.rootButton,style:{width:"100%",minWidth:20,backgroundColor:Ze(null===(a=e.activeItem)||void 0===a?void 0:a.typeState,"AMMO"===e.variant),color:"#ffffff"},disabled:!(null===(i=e.activeItem)||void 0===i?void 0:i.typeID)},r.a.createElement(x.a,{title:"Item state",placement:"bottom",arrow:!0},Xe(null===(o=e.activeItem)||void 0===o?void 0:o.typeState,"AMMO"===e.variant)))},r.a.createElement(ze,{variant:e.variant,dispatchListItems:e.dispatchListItems,disabled:!s||"DRONE_SLOT"===e.variant||"AMMO"===e.variant}),r.a.createElement(Ve,{variant:e.variant,dispatchListItems:e.dispatchListItems,disabled:!s||"AMMO"===e.variant}),r.a.createElement(Qe,{variant:e.variant,dispatchListItems:e.dispatchListItems}),r.a.createElement(Ke,{variant:e.variant,dispatchListItems:e.dispatchListItems,disabled:"AMMO"===e.variant}))}function Ze(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!0===t)return Ae.a[500];switch(e){case"overload":return Ne.a[500];case"activation":return Me.a[500];case"passive":return Ae.a[500];case"offline":return Re.a[500];default:return"#ffffff00"}}function Xe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!0===t)return Be;switch(e){case"overload":return Fe;case"activation":return We;case"passive":return Be;case"offline":default:return He}}var qe=Object(E.a)((function(e){return{root:{height:50,width:"110%",minWidth:60},rootActive:{height:50,width:"110%",minWidth:60,backgroundColor:"#F5F5F5"},rootDiv:{position:"absolute",left:0,top:0},rootAvatarHover:{width:40,height:40,marginLeft:10,marginTop:4,color:"#000000",backgroundColor:"#F5F5F5",border:"0.1px solid rgb(235, 235, 235)",marginRight:20},rootAvatarDefault:{width:40,height:40,marginLeft:10,marginTop:4,color:"#000000",backgroundColor:"#ffffff",border:"0.1px solid rgb(235, 235, 235)",marginRight:20},stateArcBorder:{width:40,height:40,borderRadius:"50%",border:"3px solid",borderLeftColor:"transparent",borderRightColor:"transparent",borderTopColor:"transparent",borderBottomColor:"transparent",position:"absolute",top:2,left:7}}}));function Je(e){var t,a,i,o,c,l=qe(),u=Object(n.useState)(!1),s=Object(g.a)(u,2),d=s[0],f=s[1],m=Object(n.useState)(!1),p=Object(g.a)(m,2),b=p[0],v=p[1],h=Object(n.useState)(!1),O=Object(g.a)(h,2),y=O[0],E=O[1],S=Object(n.useCallback)((function(){switch(e.setActiveSlotNumber(e.index),e.variant){case"RIG_SLOT":e.dispatchSlotsOpen({type:"RIG_SLOT",payload:{filter:$e(e.slots.ship)}});break;case"DRONE_SLOT":e.dispatchSlotsOpen({type:"DRONE_SLOT",payload:{filter:et(e.slots.ship)}});break;default:e.dispatchSlotsOpen({type:e.variant})}}),[null===(t=e.slots.ship)||void 0===t?void 0:t.typeID,e.variant,e.index]);return Object(n.useEffect)((function(){!0!==e.isActive&&!0!==e.isActive.open||e.setActiveSlot({type:e.variant,index:e.index})}),[e.isActive]),Object(n.useEffect)((function(){var t=e.fetchedItem;t&&t.typeID?f(e.fetchedItem):f(!1)}),[null===(a=e.fetchedItem)||void 0===a?void 0:a.typeID]),Object(n.useEffect)((function(){var t=e.fetchedCharge;t&&t.typeID?v(e.fetchedCharge):v(!1)}),[null===(i=e.fetchedCharge)||void 0===i?void 0:i.typeID]),r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{className:e.isActive?l.rootActive:l.root,onClick:S,dense:!0,button:!0},r.a.createElement("div",{className:l.rootDiv,onMouseEnter:function(){E(!0)},onMouseLeave:function(){E(!1)}},r.a.createElement(Ie,Object.assign({},e,{item:d,charge:b,count:null===(o=e.fetchedItem)||void 0===o?void 0:o.typeCount}),r.a.createElement(ke,{item:d},r.a.createElement("div",{className:l.stateArcBorder,style:{borderLeftColor:Ze(null===e||void 0===e||null===(c=e.fetchedItem)||void 0===c?void 0:c.typeState)}}),r.a.createElement(w.a,{className:y?l.rootAvatarHover:l.rootAvatarDefault},d?function(e,t){if(e&&!t)return r.a.createElement("img",{draggable:"false",style:{width:"100%",height:"100%"},src:"https://images.evetech.net/types/".concat(null===e||void 0===e?void 0:e.typeID,"/icon?size=64")});if(e&&t)return r.a.createElement("img",{draggable:"false",style:{width:"100%",height:"100%"},src:"https://images.evetech.net/types/".concat(null===t||void 0===t?void 0:t.typeID,"/icon?size=64")})}(d,b):function(e){switch(e.variant){case"SHIP":return r.a.createElement(x.a,{open:e.open&&!e.slotsOpen.SHIP.open,title:"Click here to choose ship",placement:"right",arrow:!0},_);case"MISC_SLOT":return P;case"HIGH_SLOT":return T;case"MID_SLOT":return N;case"LOW_SLOT":return M;case"RIG_SLOT":return A;case"DRONE_SLOT":return R}}(e))))),r.a.createElement(k.a,{style:{marginLeft:50},primary:null===d||void 0===d?void 0:d.typeName,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"},secondary:!!b&&"".concat(null===b||void 0===b?void 0:b.typeName," ").concat(Ye(d,b)),secondaryTypographyProps:{noWrap:!0,variant:"subtitle2"}})))}function Ye(e,t){var a=e.capacity/t.volume||1;return 1===a?"":"x".concat(Math.floor(a))}function $e(e){var t;if(e)return{size:null===(t=e.typeAttributesStats.find((function(e){return 1547===e.attributeID})))||void 0===t?void 0:t.value}}function et(e){var t;if(e)return{size:null===(t=e.typeAttributesStats.find((function(e){return 1271===e.attributeID})))||void 0===t?void 0:t.value}}var tt=function(){function e(){Object(m.a)(this,e)}return Object(p.a)(e,null,[{key:"extractIDs",value:function(t,a){return a?Object(Q.a)(e,at)[at](t).reduce((function(e,t){var n=a.find((function(e){return e.typeName===t}));return n?e.push(n.typeID):console.log("ERROR","EFT:typeName is not found",t),e}),[]):[]}}]),e}(),at=Object(K.a)("extractIDs_getTypeNames"),nt=Object(K.a)("buildFitFromText_getModuleText"),rt=Object(K.a)("buildFitFromText_buildModules"),it=Object(K.a)("buildFitFromText_buildModule"),ot=Object(K.a)("buildFitFromText_buildDrones"),ct=Object(K.a)("buildFitFromText_divideBy_x"),lt=Object(K.a)("buildFitFromText_readoutTextBlock"),ut=Object(K.a)("buildTextFromFit_moduleSlots"),st=Object(K.a)("buildTextFromFit_droneSlots"),dt=Object(K.a)("buildCompareTextFromFit_moduleSlots"),ft=Object(K.a)("buildCompareTextFromFit_droneSlots"),mt=Object(K.a)("common_findIdByName");function pt(e,t){if(e&&e.typeAttributesStats&&e.typeAttributesStats.constructor===Array){var a=e.typeAttributesStats.filter((function(e){return e.attributeID===t}));return 1===a.length?a[0].value:a.length>=2?a.map((function(e){return e.value})):void 0}}Object.defineProperty(tt,at,{writable:!0,value:function(e){var t=e.slice(0,e.indexOf("]")+1),a=e.substring(e.indexOf("]")+1),n=t.replace("[","").split(",")[0],r=Object(L.a)(new Set(a.split(/\r?\n/).reduce((function(e,t){var a=t.split(", "),n=t.split(" x");if(2===a.length){var r=a[0],i=a[1];return e.concat([r,i])}if(2===n.length){var o=n[0];return e.concat([o])}return""!==t?e.concat(t):e}),[])));return[n].concat(Object(L.a)(r))}}),tt.buildFitFromText=function(e,t){var a=e.slice(0,e.indexOf("]")+1).replace("[","").split(",")[0],n=Object(Q.a)(tt,mt)[mt](a,t),r=e.split(/\r?\n\r?\n\r?\n/),i=Object(Q.a)(tt,nt)[nt](r),o=r[1],c=Object(Q.a)(tt,rt)[rt](i,t),l=Object(Q.a)(tt,ot)[ot](o,t);return Object(y.a)({ship:n},c,{},l)},Object.defineProperty(tt,nt,{writable:!0,value:function(e){var t=e[0].indexOf("]")+1;return e[0].substring(t).trimStart()}}),Object.defineProperty(tt,rt,{writable:!0,value:function(e,t){var a=e.split(/\r?\n\r?\n/),n={};return["lowSlots","midSlots","highSlots","rigSlots","miscSlots"].forEach((function(e,r){n[e]=Object(Q.a)(tt,it)[it](a[r],t)})),n}}),Object.defineProperty(tt,it,{writable:!0,value:function(e,t){return e?e.split(/\r?\n/).map((function(e){if(-1!==e.indexOf("Empty"))return{item:!1,chage:!1};var a=e.split(", ")[0],n=e.split(", ")[1];return{item:Object(Q.a)(tt,mt)[mt](a,t),charge:Object(Q.a)(tt,mt)[mt](n,t)}})):[]}}),Object.defineProperty(tt,ot,{writable:!0,value:function(e,t){return"droneSlots"!==Object(Q.a)(tt,lt)[lt](e,t)?{}:{droneSlots:e.split(/\r?\n/).map((function(e){var a=Object(Q.a)(tt,ct)[ct](e),n=a.typeName,r=a.typeCount,i=Object(Q.a)(tt,mt)[mt](n,t);return{item:Object(y.a)({},i,{typeCount:r}),charge:!1}}))}}}),Object.defineProperty(tt,ct,{writable:!0,value:function(e){var t=e.split(" x");return{typeName:t[0],typeCount:Number(t[1])}}}),Object.defineProperty(tt,lt,{writable:!0,value:function(e,t){if(!e)return"undefined";var a=e.slice(0,e.search(/\r?\n/));if(-1!==a.indexOf(" x")){var n=a.split(" x")[0];return!!Object(Q.a)(tt,mt)[mt](n,t).typeDroneSize&&"droneSlots"}if(-1!==a.indexOf(",")){var r=a.split(", ")[0],i=Object(Q.a)(tt,mt)[mt](r,t);return i.typeIsHiPower?"highSlots":i.typeIsMedPower?"midSlots":i.typeIsLoPower?"lowSlots":"ship"}return!1}}),tt.buildTextFromFit=function(e){var t,a;return[["[".concat(null===e||void 0===e||null===(t=e.ship)||void 0===t?void 0:t.typeName,", ").concat(null===e||void 0===e||null===(a=e.ship)||void 0===a?void 0:a.typeName," fit]"),Object(Q.a)(tt,ut)[ut](null===e||void 0===e?void 0:e.lowSlots,"[Empty Low slot]"),Object(Q.a)(tt,ut)[ut](null===e||void 0===e?void 0:e.midSlots,"[Empty Med slot]"),Object(Q.a)(tt,ut)[ut](null===e||void 0===e?void 0:e.highSlots,"[Empty High slot]"),Object(Q.a)(tt,ut)[ut](null===e||void 0===e?void 0:e.rigSlots,"[Empty Rig slot]"),Object(Q.a)(tt,ut)[ut](null===e||void 0===e?void 0:e.miscSlots,"[Empty Subsystem slot]")].filter((function(e){return!!e})).join("\n\n"),Object(Q.a)(tt,st)[st](null===e||void 0===e?void 0:e.droneSlots,"[Empty Subsystem slot]")].join("\n\n\n")},Object.defineProperty(tt,ut,{writable:!0,value:function(e,t){return!(!e||0===e.length)&&e.map((function(e){return e&&e.item?e.charge?e.item.typeName.concat(", ",e.charge.typeName):e.item.typeName:t})).join("\n")}}),Object.defineProperty(tt,st,{writable:!0,value:function(e){return e?e.map((function(e){return e&&e.item?"".concat(e.item.typeName," x").concat(e.item.typeCount):""})).join("\n"):""}}),tt.buildCompareTextFromFit=function(e){var t,a,n;return["[".concat(null===e||void 0===e||null===(t=e.ship)||void 0===t?void 0:t.typeName,", ").concat(null===e||void 0===e||null===(a=e.ship)||void 0===a?void 0:a.typeName," fit] ").concat(null===e||void 0===e||null===(n=e.ship)||void 0===n?void 0:n.typeState),Object(Q.a)(tt,dt)[dt](null===e||void 0===e?void 0:e.miscSlots,"[Empty Misc slot]"),Object(Q.a)(tt,dt)[dt](null===e||void 0===e?void 0:e.lowSlots,"[Empty Low slot]"),Object(Q.a)(tt,dt)[dt](null===e||void 0===e?void 0:e.midSlots,"[Empty Med slot]"),Object(Q.a)(tt,dt)[dt](null===e||void 0===e?void 0:e.highSlots,"[Empty High slot]"),Object(Q.a)(tt,dt)[dt](null===e||void 0===e?void 0:e.rigSlots,"[Empty Rig slot]"),Object(Q.a)(tt,ft)[ft](null===e||void 0===e?void 0:e.droneSlots)].join("\n\n")},Object.defineProperty(tt,dt,{writable:!0,value:function(e,t){return e?e.map((function(e){return e&&e.item?e.charge?"".concat(e.item.typeName,", ").concat(e.charge.typeName," ").concat(e.item.typeState):"".concat(e.item.typeName," ").concat(e.item.typeState):t})).join("\n"):""}}),Object.defineProperty(tt,ft,{writable:!0,value:function(e){return e?e.map((function(e){var t=e.item;return"".concat(t.typeName," x").concat(t.typeCount," ").concat(t.typeState)})).join("\n"):""}}),Object.defineProperty(tt,mt,{writable:!0,value:function(e,t){if(!e)return!1;var a=t.find((function(t){return t.typeName===e}));return a||!1}});var bt=a(213),vt=a(212),ht=Object(E.a)((function(){return{root:{position:"relative"},lodingIndicator:{position:"absolute",height:10,width:10,top:2,left:2,backgroundColor:vt.a[200]},divider:{width:"200%"}}}));function gt(e){var t,a,i=ht(),o=Object(n.useState)(new Array(e.slotCount).fill(!1)),c=Object(g.a)(o,2),l=c[0],u=c[1],s=Object(n.useState)(new Array(e.slotCount).fill(!1)),m=Object(g.a)(s,2),p=m[0],b=m[1],v=Object(n.useState)(new Array(e.slotCount).fill(!1)),h=Object(g.a)(v,2),O=h[0],E=h[1],S=Object(n.useState)(new Array(e.slotCount).fill(!1)),j=Object(g.a)(S,2),I=j[0],D=j[1],k={setRawItems:u,setFetchedItems:E,setRawCharges:b,setFetchedCharges:D},x=Object(n.useState)(0),C=Object(g.a)(x,2),T=C[0],N=C[1],M=Object(n.useState)(!0),A=Object(g.a)(M,2),R=A[0],P=A[1],_=Object(n.useState)(!1),F=Object(g.a)(_,2),W=F[0],H=F[1],B=Object(n.useState)(0),G=Object(g.a)(B,2),z=G[0],V=G[1];return Object(n.useEffect)((function(){e.importFitText||"SHIP"===e.variant||(u(new Array(e.slotCount).fill(!1)),b(new Array(e.slotCount).fill(!1)))}),[null===(t=e.slots)||void 0===t||null===(a=t.ship)||void 0===a?void 0:a.typeID]),Object(n.useEffect)((function(){e.importFitText||"SHIP"===e.variant||(l.length=e.slotCount,u(Array.from(l,(function(e){return e||!1}))),p.length=e.slotCount,b(Array.from(p,(function(e){return e||!1}))))}),[e.slotCount]),Object(n.useEffect)((function(){console.log(e.importFitText),!1!==e.importFitText&&function(e,t){if(!e.importFitText)return;!function(){var a=Object(f.a)(d.a.mark((function a(n){var r,i,o,c,l,u,s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.cache.wait("/typeIDsTable");case 2:return r=a.sent,i=tt.buildFitFromText(n,r),a.next=6,e.cache.wait("typeID/".concat(i.ship.typeID));case 6:if(o=a.sent,"SHIP"!==e.variant){a.next=10;break}return t.setRawItems([i.ship]),a.abrupt("return",void 0);case 10:c=Ot({ship:o},i,e),l=new Array(c).fill(!1),u=new Array(c).fill(!1),s=i[nn(e.variant)]||[],console.log(nn(e.variant),c,s),s.forEach((function(e,t){l[t]=!!e.item&&Object(y.a)({},e.item,{typeState:"activation"}),u[t]=!!e.charge&&Object(y.a)({},e.charge,{typeState:"passive"})})),t.setRawItems(l),t.setRawCharges(u),e.importStateFlag[e.variant]=!0,e.setImportStateFlag(Object(y.a)({},e.importStateFlag));case 20:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()(e.importFitText)}(e,k)}),[e.importFitText]),Object(n.useEffect)((function(){switch(e.listItems[e.variant]){case!1:case void 0:return;case"DEL":l[T]=!1,p[T]=!1;break;case"ADD":var t=l[T];t.typeCount=Lt(t.typeCount,1,6);break;case"activation":St(l[T],"activation");break;case"offline":St(l[T],"offline");break;case"passive":St(l[T],"passive");break;case"overload":St(l[T],"overload");break;case"LOOPLOOP":return void P(!R);default:(function(e,t){if(!0!==t.typeIsTurretFitted&&!0!==t.typeIsLauncherFitted)return!0;var a=function(e){var t=0,a=0;return U.mapSlots(e,(function(e){var n,r,i,o,c=!!(null===e||void 0===e||null===(n=e.item)||void 0===n||null===(r=n.typeEffectsStats)||void 0===r?void 0:r.find((function(e){return 42===e.effectID}))),l=!!(null===e||void 0===e||null===(i=e.item)||void 0===i||null===(o=i.typeEffectsStats)||void 0===o?void 0:o.find((function(e){return 40===e.effectID})));return!0===c?++t:!0===l?++a:void 0}),{isIterate:{highSlots:!0}}),{turretPointLoad:t,launcherPointLoad:a}}(e);if(!0===t.typeIsTurretFitted)return pt(e.ship,102)>a.turretPointLoad;if(!0===t.typeIsLauncherFitted)return pt(e.ship,101)>a.launcherPointLoad})(e.fit,e.listItems[e.variant])&&(!function(e,t,a,n){t[n]=Object(y.a)({},e.listItems[e.variant]),void 0===a[n]&&(a[n]=!1)}(e,l,p,T),function(e,t){"DRONE_SLOT"===e.variant&&void 0===t.typeCount&&(t.typeCount=1)}(e,l[T]),St(l[T],"activation"))}u(Object(L.a)(l)),b(Object(L.a)(p)),e.dispatchListItems({type:e.variant,payload:!1}),!0===R&&N(Lt(T,0,e.slotCount,e.variant))}),[e.listItems[e.variant]]),Object(n.useEffect)((function(){switch(e.listItems.AMMO){case!1:case void 0:case"activation":case"offline":case"passive":case"overload":return;case"DEL":p[T]=!1,D(Object(L.a)(p));break;case"LOOPLOOP":P(!R);break;default:if(e.slotsOpen.AMMO.slotVariant!==e.variant)break;if(!l[T])break;p[T]=e.listItems.AMMO,St(p[T],"passive"),b(Object(L.a)(p))}e.dispatchListItems({type:"AMMO",payload:!1}),!0===R&&N(Lt(T,0,e.slotCount))}),[e.listItems.AMMO]),Object(n.useEffect)((function(){V(z+1),H(!0),function(){var e=Object(f.a)(d.a.mark((function e(t,a,n,r){var i,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(yt(t,a,n,r));case 2:if(i=e.sent,o=i[i.length-1],c=i.slice(0,i.length-1),!1!==o&&o===r){e.next=10;break}return console.log("FETCH ERROR:SESSION MISFETCHED",t.variant,{sessionData:o,session:r,fetchedData:c,rawItems:a,rawCharges:n}),e.abrupt("return",void 0);case 10:Et(t,c,a,n,k);case 11:H(!1);case 12:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}()(e,l,p,z+1)}),[jt(l,p)]),e.slotCount>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:i.root,style:{padding:"SHIP"===e.variant?0:"10px 0px 10px 0px"}},new Array(e.slotCount).fill(void 0).map((function(t,a){return r.a.createElement(Je,{key:"".concat(e.variant,":").concat(a),variant:e.variant,open:e.open,slotsOpen:e.slotsOpen,slots:e.slots,fetchedItem:O[a],fetchedCharge:I[a],dispatchSlotsOpen:e.dispatchSlotsOpen,setActiveSlot:e.setActiveSlot,isActive:T===a&&(e.slotsOpen[e.variant].open||e.slotsOpen.AMMO.slotVariant===e.variant),index:a,setActiveSlotNumber:N,cache:e.cache})})),W&&r.a.createElement(w.a,{className:i.lodingIndicator},"")),r.a.createElement(bt.a,{className:i.divider}))}function Ot(e,t,a){return!0===(963===e.ship.groupID)?t[nn(a.variant)].length:Zt(e,a.variant)}function yt(e,t,a,n){if(t.length!==a.length)return[Promise.resolve(!1)];var r=t.map((function(t){return!1===t?Promise.resolve(!1):e.cache.wait("typeID/".concat(null===t||void 0===t?void 0:t.typeID))})),i=a.map((function(t){return!1===t?Promise.resolve(!1):e.cache.wait("typeID/".concat(null===t||void 0===t?void 0:t.typeID))})),o=Promise.resolve(n);return[].concat(Object(L.a)(r),Object(L.a)(i),[o])}function Et(e,t,a,n,r){var i=t.slice(0,t.length/2),o=t.slice(t.length/2),c=[];i.forEach((function(e,t){var r=a[t]?U.getCurrentState(Object(y.a)({},a[t],{},e)):void 0,i=!!a[t]&&Object(y.a)({},a[t],{},e,{typeState:r}),l=!!U.validateChargeSlot({item:i,charge:o[t]})&&Object(y.a)({},n[t],{},o[t]);a[t]=i,n[t]=l,c.push({item:i,charge:l}),!1===l&&(n[t]=!1),a[t]&&r&&(a[t].typeState=r)})),e.dispatchSlots({type:e.variant,payload:c}),r.setFetchedCharges(Object(L.a)(n)),r.setFetchedItems(Object(L.a)(a))}function St(e,t){switch(void 0===e.typeState&&(e.typeState="activation"),t){case"offline":case"overload":case"passive":case"activation":e.typeState=t;break;default:e.typeState="activation"}}function jt(e,t){return[].concat(Object(L.a)(It(e)),Object(L.a)((a=e,a.map((function(e){return!!e&&e.typeState})).join("-"))),Object(L.a)(function(e){return e.map((function(e){return!!e&&e.typeCount})).join("-")}(e)),Object(L.a)(It(t))).join(":");var a}function It(e){return e.map((function(e){return!!e&&e.typeName})).join("-")}function Lt(e,t,a,n){return"DRONE_SLOT"===n?e>=a?t:e+1:e+1>=a?t:e+1}var Dt=a(108),wt=a.n(Dt),kt=a(109),xt=a.n(kt),Ct=a(69),Tt=a.n(Ct),Nt=a(105),Mt=a.n(Nt),At=a(106),Rt=a.n(At);var Pt=a(227),_t=a(214),Ft=a(107),Wt=a.n(Ft),Ht=Object(E.a)((function(e){return{button:{backgroundColor:"#ffffff",color:"#000000"},snackbar:{backgroundColor:Ae.a[500]},lsitItem:{height:40,width:"100%",padding:"0px 10px 0px 10px"}}}));function Bt(e){var t=Ht(),a=Object(n.useState)(!1),i=Object(g.a)(a,2),o=i[0],c=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{title:"Import",placement:"bottom",arrow:!0},r.a.createElement("div",null,r.a.createElement(Te,{className:t.button,onClick:function(){(function(){return Gt.apply(this,arguments)})().then((function(t){if(!1===t)return c(!0);e.setImportFitText(t),e.setImportStateFlag(Vt),e.cache.wait("/typeIDsTable").then((function(a){var n=tt.extractIDs(t,a);!function(e,t){t.forEach((function(t){e.get("typeID/".concat(t),(function(){return Fr.ref("typeIDs/".concat(t)).once("value").then((function(e){return e.val()}))}))}))}(e.cache,n)}))}))}},r.a.createElement(Mt.a,null)))),r.a.createElement(x.a,{title:"Export",placement:"bottom",arrow:!0},r.a.createElement("div",null,r.a.createElement(Te,{className:t.button,onClick:function(){navigator.clipboard.writeText(e.exportFitText)}},r.a.createElement(Rt.a,null)))),r.a.createElement(Pt.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:o,onClose:function(){c(!1)},ContentProps:{className:t.snackbar},message:r.a.createElement(D.a,{className:t.lsitItem},r.a.createElement(_t.a,null,r.a.createElement(Wt.a,{style:{color:"#ffffff"},fontSize:"small"})),r.a.createElement(k.a,{primary:"Allow permission",secondary:"copy from clipboard",secondaryTypographyProps:{style:{color:Ae.a[100]}}}))}))}function Gt(){return(Gt=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.permissions.query({name:"clipboard-read"});case 2:if("granted"!==(t=e.sent).state&&"prompt"!==t.state){e.next=5;break}return e.abrupt("return",navigator.clipboard.readText());case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zt={SHIP:!0,MISC_SLOT:!0,HIGH_SLOT:!0,MID_SLOT:!0,LOW_SLOT:!0,RIG_SLOT:!0,DRONE_SLOT:!0},Vt={SHIP:!1,MISC_SLOT:!1,HIGH_SLOT:!1,MID_SLOT:!1,LOW_SLOT:!1,RIG_SLOT:!1,DRONE_SLOT:!1},Qt=Object(E.a)((function(e){return{rootClose:{width:0,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflow:"hidden"},rootExpand:{width:300,maxWidth:"80%",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflow:"hidden"},rootRetract:{width:60,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflow:"hidden"},child:{width:"100%",overflowX:"hidden",overflowY:"auto",paddingBottom:5,paddingRight:20}}}));function Kt(e){var t,a,i=Qt(),o=Object(n.useState)(!1),c=Object(g.a)(o,2),l=c[0],u=c[1],s=Object(n.useState)(zt),d=Object(g.a)(s,2),f=d[0],m=d[1],p=Object(n.useRef)(null);return Object(n.useEffect)((function(){Object.values(f).includes(!1)||u(!1)}),[f]),r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{anchor:"left",open:e.open,variant:"permanent",classes:{paper:i[Ut(e)]}},r.a.createElement(j.a,null,r.a.createElement(Bt,{exportFitText:e.exportFitText,setImportFitText:u,setImportStateFlag:m,cache:e.cache})),r.a.createElement(I.a,{style:{position:"absolute",top:0,right:0,backgroundColor:"#F5F5F5"},onClick:function(){return e.setExpand(!e.expand)}},e.expand?r.a.createElement(wt.a,null):r.a.createElement(xt.a,null)),r.a.createElement("div",{className:i.child},r.a.createElement("div",{ref:p},["SHIP","MISC_SLOT","HIGH_SLOT","MID_SLOT","LOW_SLOT","RIG_SLOT","DRONE_SLOT"].map((function(t){return r.a.createElement(gt,Object.assign({key:t,importFitText:l,importStateFlag:f,setImportStateFlag:m,variant:t,slotCount:Zt(e.fit,t)},e))}))),r.a.createElement("div",{style:{width:"100%",height:window.innerHeight-(null===(t=p.current)||void 0===t?void 0:t.clientHeight)>0?window.innerHeight-(null===(a=p.current)||void 0===a?void 0:a.clientHeight):80,paddingRight:20,backgroundColor:"#F5F5F5"}})),r.a.createElement(I.a,{style:{position:"absolute",bottom:0,right:0,backgroundColor:"#F5F5F5",zIndex:1},onClick:function(){e.dispatchSlotsOpen({type:"RESET"}),e.setOpen(!1)}},r.a.createElement(Tt.a,null))))}function Ut(e){return e.open?e.expand?"rootExpand":"rootRetract":"rootClose"}function Zt(e,t){var a,n,r,i;if("SHIP"===t)return 1;if(!e.ship||!e.ship.typeAttributesStats)return 0;var o=e.ship,c=o.typeAttributesStats;switch(t){case"MISC_SLOT":switch(o.groupID){case 963:return 4;case 1305:return 1;default:return 0}case"HIGH_SLOT":return null===(a=c.find((function(e){return 14===e.attributeID})))||void 0===a?void 0:a.value;case"MID_SLOT":return null===(n=c.find((function(e){return 13===e.attributeID})))||void 0===n?void 0:n.value;case"LOW_SLOT":return null===(r=c.find((function(e){return 12===e.attributeID})))||void 0===r?void 0:r.value;case"RIG_SLOT":return null===(i=c.find((function(e){return 1137===e.attributeID})))||void 0===i?void 0:i.value;case"DRONE_SLOT":return function(e){return pt(e.ship,1271)?e.droneSlots?e.droneSlots.reduce((function(e,t,a){return t.item?a+2:e}),1):1:0}(e)}}var Xt=a(70),qt=a.n(Xt),Jt=a(76),Yt=a(224);function $t(e){return r.a.createElement("div",{style:{marginTop:4,width:"70%"}},r.a.createElement(Yt.a,{style:{width:"100%"},label:r.a.createElement(Jt.a,{noWrap:!0,style:{width:"100%"}},ea(e.attr.unitID)?"".concat(e.attr.attributeName," (").concat(ea(e.attr.unitID),")"):e.attr.attributeName),defaultValue:e.attr.value,InputProps:{readOnly:!0,disableUnderline:!0}}))}function ea(e){if(!e)return!1;var t=ta.find((function(t){return t.unitID===e}));return void 0===t&&console.log("ERROR","unitID:".concat(e," not found. dear developer please update database!")),null===t||void 0===t?void 0:t.displayName}var ta=[{unitID:1,displayName:"m"},{unitID:2,displayName:"kg"},{unitID:3,displayName:"sec"},{unitID:4,displayName:"A"},{unitID:5,displayName:"K"},{unitID:6,displayName:"mol"},{unitID:7,displayName:"cd"},{unitID:8,displayName:"m2"},{unitID:9,displayName:"m3"},{unitID:10,displayName:"m/sec"},{unitID:11,displayName:"m/sec"},{unitID:12,displayName:"m-1"},{unitID:13,displayName:"kg/m3"},{unitID:14,displayName:"m3/kg"},{unitID:15,displayName:"A/m2"},{unitID:16,displayName:"A/m"},{unitID:17,displayName:"mol/m3"},{unitID:18,displayName:"cd/m2"},{unitID:19,displayName:"kg/kg = 1"},{unitID:101,displayName:"s"},{unitID:102,displayName:"mm"},{unitID:103,displayName:"MegaPascals"},{unitID:104,displayName:"x"},{unitID:105,displayName:"%"},{unitID:106,displayName:"tf"},{unitID:107,displayName:"MW"},{unitID:108,displayName:"%"},{unitID:109,displayName:"%"},{unitID:111,displayName:"%"},{unitID:112,displayName:"rad/sec"},{unitID:113,displayName:"HP"},{unitID:114,displayName:"GJ"},{unitID:115,displayName:"groupID"},{unitID:116,displayName:"typeID"},{unitID:117,displayName:"Sizeclass"},{unitID:118,displayName:"Ore units"},{unitID:119,displayName:"attributeID"},{unitID:120,displayName:"points"},{unitID:121,displayName:"%"},{unitID:122,displayName:"Fitting slots"},{unitID:123,displayName:"sec"},{unitID:124,displayName:"%"},{unitID:125,displayName:"N"},{unitID:126,displayName:"ly"},{unitID:127,displayName:"%"},{unitID:128,displayName:"Mbit/sec"},{unitID:129,displayName:"Hours"},{unitID:133,displayName:"ISK"},{unitID:134,displayName:"m3/hour"},{unitID:135,displayName:"AU"},{unitID:136,displayName:"Slot"},{unitID:137,displayName:"Boolean"},{unitID:138,displayName:"units"},{unitID:139,displayName:"+"},{unitID:140,displayName:"Level"},{unitID:141,displayName:"hardpoints"},{unitID:142,displayName:"1=Male 2=Unisex 3=Female"},{unitID:143,displayName:"Datetime"}];function aa(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),i=a[0],o=a[1],c=Object(n.useState)(!1),l=Object(g.a)(c,2),u=l[0],s=l[1],d=Object(n.useState)(!1),f=Object(g.a)(d,2),m=f[0],p=f[1],b=Object(n.useState)(!1),v=Object(g.a)(b,2),h=v[0],O=v[1];return Object(n.useEffect)((function(){e.cache.wait("/attributesCategories").then((function(e){s(e)}))}),[]),Object(n.useEffect)((function(){o(e.type)}),[e.type]),Object(n.useEffect)((function(){i&&u&&(p(i.typeName),O(function(e,t){var a=["Miscellaneous","Required Skills","Graphics","NULL"],n=function(e,t){if(!e||!e.typeAttributesStats)return;var a=e.typeAttributesStats,n=new Array(50).fill(void 0).map((function(e,a){var n;return{name:null===(n=t[a])||void 0===n?void 0:n.name,attributes:[]}}));return a.forEach((function(e){e.attributeCategoryID?n[e.attributeCategoryID].attributes.push(e):n[0].attributes.push(e)})),n}(e,t).reduce((function(e,t){return a.includes(t.name)?e.etc[a.indexOf(t.name)]=t:e.main.push(t),e}),{main:[],etc:new Array(a.length).fill(void 0)});return[].concat(Object(L.a)(n.main),Object(L.a)(n.etc)).map((function(e){if(e&&e.name&&0!==e.attributes.length){var t=e.attributes,a=e.name,n=[];return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(Jt.a,{style:{fontSize:20,fontWeight:1e3,letterSpacing:-1.5,lineHeight:1,marginRight:20,marginTop:20},variant:"h4",align:"right"},a),t.map((function(e){var t="".concat(e.attributeName,":").concat(e.value);if(!n.includes(t))return n.push(t),r.a.createElement($t,{key:t,attr:e})})))}}))}(i,u)))}),[u,i]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Jt.a,{style:{fontSize:26,fontWeight:1e3,letterSpacing:-1.5,lineHeight:1,marginRight:20,textDecoration:"underline"},variant:"h4",align:"right"},m),r.a.createElement("div",{style:{marginTop:20}},h))}var na=Object(E.a)((function(e){return{rootPaper:{width:300,maxWidth:"80%",height:"100%",overflow:"hidden"},child:{width:"100%",height:"100%",overflowY:"scroll",padding:"10px 20px 0px 10px",marginBottom:40,overflowX:"hidden"},rootButton:{paddingRight:20}}}));function ra(e){var t,a,i,o,c=na(),l=Object(n.useState)(0),u=Object(g.a)(l,2),s=u[0],d=u[1],f=Object(n.useCallback)((function(e){var t="#f5f5f5",a="#212121";return s===e&&(t="#212121",a="#ffffff"),{backgroundColor:t,color:a,marginBottom:10}}),[s]);return r.a.createElement(S.a,{anchor:e.anchor?e.anchor:"right",open:e.open,variant:"temporary",classes:{paper:c.rootPaper},onClose:function(){e.dispatchSlotsOpen({type:"STAT",payload:{open:!1}}),d(0)}},r.a.createElement("div",{className:c.child},(null===(t=e.slot)||void 0===t?void 0:t.charge)&&r.a.createElement(j.a,{fullWidth:!0,variant:"text"},r.a.createElement(I.a,{style:f(0),onClick:function(){return d(0)}},"ITEM"),r.a.createElement(I.a,{style:f(1),onClick:function(){return d(1)}},"CHARGE")),r.a.createElement("div",{hidden:0!==s},r.a.createElement(aa,{type:void 0!==(null===(a=e.slot)||void 0===a?void 0:a.typeID)?e.slot:null===(i=e.slot)||void 0===i?void 0:i.item,cache:e.cache})),r.a.createElement("div",{hidden:1!==s},r.a.createElement(aa,{type:null===(o=e.slot)||void 0===o?void 0:o.charge,cache:e.cache}))),r.a.createElement(I.a,{style:{position:"absolute",bottom:0,right:0,backgroundColor:"#F5F5F5"},onClick:function(){return e.dispatchSlotsOpen({type:"RESET"})}},r.a.createElement(qt.a,null)))}var ia=a(216),oa=a(219),ca=a(4),la=a(218),ua=a(110),sa=a.n(ua),da=a(217),fa=Object(E.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper,padding:0,margin:0},expand:{transform:"rotate(0deg)",right:"10%",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{right:"10%",transform:"rotate(180deg)"},nested:{padding:0,margin:0,paddingLeft:e.spacing(1),backgroundColor:"#F5F5F5"}}}));function ma(e){var t=fa(),a=r.a.useState(e.opened),i=Object(g.a)(a,2),o=i[0],c=i[1],l=r.a.useState(""),u=Object(g.a)(l,2),s=u[0],m=u[1],p=function(){!function(e,t){if(!t.eveListConfig.state.openedCategories||!t.eveListConfig.state.setOpenedCategories)return;if(e){var a=t.eveListConfig.state.openedCategories;(0,t.eveListConfig.state.setOpenedCategories)(a.filter((function(e){return e!==t.itemData.marketGroupID})))}else{(0,t.eveListConfig.state.setOpenedCategories)([t.itemData.marketGroupID])}}(o,e),c(!o)};return Object(n.useEffect)((function(){var t;3584===e.itemData.iconTypeID?e.cache.get("/icons/".concat(e.itemData.iconFileName),(function(){return Hr.ref("eveIcons/".concat(e.itemData.iconFileName)).getDownloadURL().then(function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.arrayBuffer()})).then((function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),"data:image/jpeg;base64,"+window.btoa(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).then((function(e){return m(e)})):m((t=e.itemData,"https://images.evetech.net/types/".concat(null===t||void 0===t?void 0:t.iconTypeID,"/icon?size=32")))}),[e.cache,e.itemData]),r.a.createElement(ia.a,{className:t.root,dense:!0},r.a.createElement(D.a,{button:!0,onClick:p},r.a.createElement(da.a,null,r.a.createElement(w.a,{style:{width:30,height:30},src:s},"?")),r.a.createElement(k.a,{primary:e.itemData.marketGroupName,primaryTypographyProps:{variant:"subtitle2"}}),r.a.createElement(la.a,{className:Object(ca.a)(t.expand,Object(O.a)({},t.expandOpen,o)),onClick:p},r.a.createElement(sa.a,null))),r.a.createElement(oa.a,{in:o,timeout:"auto",unmountOnExit:!0},r.a.createElement(ia.a,{className:t.nested},e.children)))}var pa=Object(E.a)((function(e){return{root:{padding:"8px 16px 8px 16px",backgroundColor:"#F5F5F5"},rootAvatar:{width:10,height:10,marginRight:10}}}));function ba(e){var t=pa();return r.a.createElement(D.a,{className:t.root,key:e.itemData.typeName,button:!0,onClick:va(e)},r.a.createElement(w.a,{style:{backgroundColor:ha(e.itemData)},className:t.rootAvatar},""),r.a.createElement(k.a,{primary:e.itemData.typeName,primaryTypographyProps:{variant:"caption"}}))}var va=function(e){return function(){e.setItem&&e.setItem(e.itemData),e.outboundSetItem&&e.outboundSetItem(e.itemData)}};function ha(e){if(e)switch(e.typeMetaGroupID){case 1:return"#F5F5F5";case 2:return"#f59500";case 3:return"#78bf36";case 4:return"#086101";case 5:return"#340E73";case 6:return"#3660bf";case 14:return"#9F3A03";case 15:return"#ad0000";default:return"#F5F5F5"}}var ga=a(111);function Oa(e){if(e.table.invTypesTable){var t=e.filter.allowedAttributes;if(t.constructor===Array){var a=e.table.invTypesTable;return t.forEach((function(e){a=function(e,t){return e.attributeName?t.filter((function(t){var a;switch(null===e||void 0===e||null===(a=e.value)||void 0===a?void 0:a.constructor){case Boolean:case Number:return t[e.attributeName]===e.value;case Array:return e.value.includes(t[e.attributeName]);default:return!0}})):t}(e,a)})),a}return e.table.invTypesTable}}function ya(e){return!!function(e){return!(!e.table.marketGroupTable||!e.table.invTypesTable)}(e)&&(function(e){if(e.table.marketGroupTable&&void 0!==e.rootMarketGroupID)return e.table.marketGroupTable.find((function(t){return t.marketGroupID===e.rootMarketGroupID})).hasTypes}(e)?function(e){return function(e){if(!e.table.invTypesTable)return[];var t=e.table.invTypesTable,a=e.rootMarketGroupID;return function(e){var t,a=e.length;do{t=!1;for(var n=0;n<a-1;n++)if(e[n].typeMetaGroupID>e[n+1].typeMetaGroupID){var r=e[n];e[n]=e[n+1],e[n+1]=r,t=!0}}while(t);return e}(t.filter((function(e){return e.marketGroupID===a})))}(e).map((function(t){return r.a.createElement(ba,{setItem:e.state.setItem,outboundSetItem:e.state.outboundSetItem,key:t.typeName,itemData:t})}))}(e):function(e){return function(e){return e.table.marketGroupTable?e.table.marketGroupTable.filter((function(t){return t.parentGroupID===e.rootMarketGroupID})):[]}(e).map((function(t){var a=ya(Object(y.a)({},e,{rootMarketGroupID:t.marketGroupID}));return function(e){if(0===e.length)return!1;var t,a=Object(ga.a)(e);try{for(a.s();!(t=a.n()).done;){if(void 0!==t.value)return!0}}catch(n){a.e(n)}finally{a.f()}return!1}(a)?r.a.createElement(ma,{key:t.marketGroupName,itemData:t,eveListConfig:e,cache:e.cache},a):void 0}))}(e))}var Ea={rootMarketGroupID:2,table:{marketGroupTable:!1,invTypesTable:!1},filter:{allowedAttributes:[{attributeName:!1,value:!1}]},state:{item:!1,setItem:!1,openedCategories:!1,setOpenedCategories:!1}},Sa=Object(E.a)((function(e){return{root:{width:"100%",minWidth:350,height:"100%",backgroundColor:e.palette.background.paper}}})),ja=r.a.memo((function(e){var t=Sa(),a=Object(n.useState)(!1),i=Object(g.a)(a,2),o=i[0],c=i[1],l=Object(n.useState)(!1),u=Object(g.a)(l,2),s=u[0],d=u[1],f=Object(n.useState)(!1),m=Object(g.a)(f,2),p=m[0],b=m[1],v=Object(n.useState)(void 0),h=Object(g.a)(v,2),O=h[0],E=h[1],S=Object(n.useState)(Object(y.a)({},Ea,{},e.eveListConfig,{state:{item:o,setItem:c,outboundSetItem:e.eveListConfig.state.outboundSetItem}})),j=Object(g.a)(S,1)[0];return Object(n.useEffect)((function(){e.cache.wait("/marketCategories").then((function(e){d(e)}))}),[]),Object(n.useEffect)((function(){e.cache.wait("/typeIDsTable").then((function(e){return b(e)}))}),[]),Object(n.useEffect)((function(){(null===o||void 0===o?void 0:o.typeID)&&e.cache.get("typeID/".concat(o.typeID),(function(){return Fr.ref("/typeIDs/".concat(o.typeID)).once("value").then((function(e){return e.val()}))})).then((function(e){c(e)}))}),[null===o||void 0===o?void 0:o.typeID]),Object(n.useEffect)((function(){s&&p&&e.cache.get("eveListConfig:".concat(JSON.stringify(e.eveListConfig),")}"),(function(){return new Promise((function(t){t(function(e){if(e.rootMarketGroupID)return e.table.invTypesTable=Oa(e),e.rootMarketGroupID.constructor===Number?ya(e):e.rootMarketGroupID.constructor===Array?e.rootMarketGroupID.map((function(t){return ya(Object(y.a)({},e,{rootMarketGroupID:t}))})):void 0}(Object(y.a)({},j,{rootMarketGroupID:e.eveListConfig.rootMarketGroupID,filter:e.eveListConfig.filter,table:{marketGroupTable:s,invTypesTable:p},cache:e.cache})))}))})).then((function(e){E(e)}))}),[s,p,Ia(e.eveListConfig)]),r.a.createElement(ia.a,{className:t.root,dense:!0},r.a.createElement(oa.a,{in:!0,timeout:"auto"},O))}));function Ia(e){var t=e.rootMarketGroupID;return e.filter.allowedAttributes.map((function(e){return[e.attributeName,e.value].join("-")})).join("|").concat(t)}var La=a(220),Da=a(112),wa=a.n(Da),ka=a(113),xa=a.n(ka),Ca=a(114),Ta=a.n(Ca),Na=a(74),Ma=a(115),Aa=a.n(Ma),Ra=a(116),Pa=a.n(Ra),_a=function(e){var t;return r.a.createElement(x.a,{title:"Delete",placement:"bottom",arrow:!0},r.a.createElement("div",null,r.a.createElement(Te,{style:{width:"100%",minWidth:20,backgroundColor:Ne.a[500],color:"#ffffff"},onClick:function(){return e.setItem("DEL")},disabled:!(null===(t=e.activeItem)||void 0===t?void 0:t.typeID)},r.a.createElement(wa.a,null))))},Fa=function(e){var t;return r.a.createElement(x.a,{title:"Delete ammo",placement:"bottom",arrow:!0},r.a.createElement("div",null,r.a.createElement(Te,{style:{width:"100%",minWidth:20,backgroundColor:Ae.a[500],color:"#ffffff"},onClick:function(){e.dispatchListItems({type:"AMMO",payload:"DEL"})},disabled:!(null===(t=e.activeCharge)||void 0===t?void 0:t.typeID)},r.a.createElement(G.a,null))))},Wa=function(e){var t;return r.a.createElement(x.a,{title:"Information",placement:"bottom",arrow:!0},r.a.createElement("div",null,r.a.createElement(Te,{style:{width:"100%",minWidth:20,backgroundColor:Na.a[500],color:"#ffffff"},onClick:function(){e.dispatchSlotsOpen({type:"STAT",payload:{open:!0,slotVariant:e.activeSlot.type,slotNumber:e.activeSlot.index}})},disabled:!(null===(t=e.activeItem)||void 0===t?void 0:t.typeID)},r.a.createElement(xa.a,null))))},Ha=function(e){var t;return r.a.createElement(x.a,{title:"Add drone",placement:"bottom",arrow:!0},r.a.createElement("div",null,r.a.createElement(Te,{style:{width:"100%",minWidth:20,backgroundColor:Me.a[500],color:"#ffffff"},onClick:function(){e.dispatchListItems({type:"DRONE_SLOT",payload:"ADD"})},disabled:!(null===(t=e.activeItem)||void 0===t?void 0:t.typeID)},r.a.createElement(Ta.a,null))))},Ba=function(e){var t=Object(n.useState)(!0),a=Object(g.a)(t,2),i=a[0],o=a[1];return Object(n.useEffect)((function(){e.liftedIsLoop!==i&&o(e.liftedIsLoop)}),[e.liftedIsLoop]),r.a.createElement(x.a,{title:"Loop through slots",placement:"bottom",arrow:!0},r.a.createElement("div",null,r.a.createElement(Te,{style:{width:"100%",minWidth:20,backgroundColor:i?Me.a[500]:Ne.a[500],color:"#ffffff"},onClick:function(){e.setItem("LOOPLOOP"),e.setLiftedIsLoop(!i),o(!i)}},i?r.a.createElement(Aa.a,null):r.a.createElement(Pa.a,null))))};function Ga(e){return r.a.createElement(La.a,{container:!0},r.a.createElement(La.a,{item:!0,xs:2},r.a.createElement(_a,e)),r.a.createElement(La.a,{item:!0,xs:2},r.a.createElement(Fa,e)),r.a.createElement(La.a,{item:!0,xs:2},r.a.createElement(Wa,e)),r.a.createElement(La.a,{item:!0,xs:2},r.a.createElement(Ue,e)),"DRONE_SLOT"===e.variant?r.a.createElement(La.a,{item:!0,xs:2},r.a.createElement(Ha,e)):r.a.createElement(La.a,{item:!0,xs:2}),r.a.createElement(La.a,{item:!0,xs:2},r.a.createElement(Ba,e)))}var za=Object(E.a)((function(e){return{rootPaper:{width:300,maxWidth:"80%",height:"100%",overflow:"hidden"},child:{width:"100%",height:"100%",overflowY:"auto",paddingRight:20,overflowX:"hidden"},retractButton:{position:"absolute",bottom:0,right:0,backgroundColor:"#F5F5F5"}}}));function Va(e){var t,a=za(),i=Object(n.useState)(!1),o=Object(g.a)(i,2),c=o[0],l=o[1],u=Object(n.useState)(0),s=Object(g.a)(u,2),d=s[0],f=s[1],m=Object(n.useCallback)((function(){return{rootMarketGroupID:Qa(e.slots,e.variant),state:{outboundSetItem:l},filter:{allowedAttributes:[].concat(Object(L.a)(Ka(e.variant)),Object(L.a)(e.filter))}}}),[e.variant,(t=e.filter,t.map((function(e){return"".concat(e.attributeName,":").concat(e.value)})).join("-")),Qa(e.slots,e.variant)]);return Object(n.useEffect)((function(){f(window.innerWidth);var e=function(e){f(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(n.useEffect)((function(){c&&(e.dispatchListItems({type:e.variant,payload:c}),l(!1))}),[c]),r.a.createElement(S.a,{classes:{paper:a.rootPaper},PaperProps:{style:{marginLeft:!0===e.expand?300:60}},anchor:d<1e3?"right":"left",open:e.open,variant:"persistent"},r.a.createElement(Ga,Object.assign({setItem:l},e)),r.a.createElement("div",{className:a.child},r.a.createElement(ja,{eveListConfig:m(),cache:e.cache})),r.a.createElement(I.a,{className:a.retractButton,onClick:function(t){return e.dispatchSlotsOpen({type:"RESET"})}},d<1e3?r.a.createElement(qt.a,null):r.a.createElement(Tt.a,null)))}function Qa(e,t){switch(t){case"SHIP":return 4;case"MISC_SLOT":return function(e){var t;switch(null===(t=e.ship)||void 0===t?void 0:t.typeID){case 34317:return 10001;case 34828:return 10002;case 35683:return 10003;case 34562:return 10004;case 29986:return 1610;case 29984:return 1625;case 29988:return 1627;case 29990:return 1626;default:return 9}}(e);case"HIGH_SLOT":case"MID_SLOT":case"LOW_SLOT":return 9;case"RIG_SLOT":return 1111;case"AMMO":return 11;case"DRONE_SLOT":return 157}}function Ka(e){switch(e){case"HIGH_SLOT":return[{attributeName:"typeIsHiPower",value:!0}];case"MID_SLOT":return[{attributeName:"typeIsMedPower",value:!0}];case"LOW_SLOT":return[{attributeName:"typeIsLoPower",value:!0}];default:return[]}}var Ua=r.a.memo((function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),i=a[0],o=a[1],c=Object(n.useState)(!1),l=Object(g.a)(c,2),u=l[0],s=l[1],d=Object(n.useState)(!0),f=Object(g.a)(d,2),m=f[0],p=f[1];return Object(n.useEffect)((function(){var t=function(e,t){return!1===t.type||!1===t.index?{item:!1,charge:!1}:"SHIP"===t.type?{item:e.ship}:e[nn(t.type)][t.index]}(e.fit,e.activeSlot);o(null===t||void 0===t?void 0:t.item),s(null===t||void 0===t?void 0:t.charge)}),[e.fitID,e.activeSlot]),r.a.createElement(r.a.Fragment,null,["SHIP","MISC_SLOT","HIGH_SLOT","MID_SLOT","LOW_SLOT","RIG_SLOT","AMMO","DRONE_SLOT"].map((function(t){return r.a.createElement(Va,Object.assign({key:t,variant:t,activeItem:i,activeCharge:u,liftedIsLoop:m,setLiftedIsLoop:p,expand:e.expand,open:e.slotsOpen[t].open,filter:Za(e.slots,e.slotsOpen,t)},e))})))}));function Za(e,t,a){switch(a){case"AMMO":var n=t.AMMO.filter;return n.group&&0!==n.group.length?[{attributeName:"typeGroupID",value:n.group},{attributeName:"typeChargeSize",value:n.size}]:[];case"RIG_SLOT":var r=t.RIG_SLOT.filter;return r&&r.size?[{attributeName:"typeRigSize",value:r.size}]:[];case"DRONE_SLOT":var i=t.DRONE_SLOT.filter;return!1===i.size||void 0===i.size?[]:[{attributeName:"typeDroneSize",value:Object(L.a)(new Array(i.size+1).keys())}];default:return[]}}var Xa={skills:!1,ship:!1,miscSlots:[],lowSlots:[],midSlots:[],highSlots:[],rigSlots:[],droneSlots:[]};function qa(e,t){var a;switch(t.type){case"SKILL":return Object(y.a)({},e,{skills:t.payload});case"SHIP":return Object(y.a)({},e,{ship:void 0!==(null===(a=t.payload[0])||void 0===a?void 0:a.item)&&t.payload[0].item});case"MISC_SLOT":case"LOW_SLOT":case"MID_SLOT":case"HIGH_SLOT":case"RIG_SLOT":case"DRONE_SLOT":return Object(y.a)({},e,Object(O.a)({},nn(t.type),t.payload));default:return e}}var Ja={SHIP:{open:!1},MISC_SLOT:{open:!1},HIGH_SLOT:{open:!1},MID_SLOT:{open:!1},LOW_SLOT:{open:!1},RIG_SLOT:{open:!1,filter:!1},DRONE_SLOT:{open:!1,filter:!1},AMMO:{open:!1,slotVariant:!1,filter:!1},STAT:{open:!1,slotVariant:!1,slotNumber:!1,filter:!1}};function Ya(e,t){switch(t.type){case"SHIP":case"MISC_SLOT":case"HIGH_SLOT":case"MID_SLOT":case"LOW_SLOT":return Object(y.a)({},Ja,Object(O.a)({},t.type,{open:!0}));case"DRONE_SLOT":return Object(y.a)({},Ja,{DRONE_SLOT:{open:!0,filter:t.payload.filter}});case"RIG_SLOT":return Object(y.a)({},Ja,{RIG_SLOT:{open:!0,filter:t.payload.filter}});case"AMMO":return Object(y.a)({},Ja,{AMMO:{open:!0,slotVariant:t.payload.slotVariant,filter:t.payload.filter}});case"STAT":return Object(y.a)({},e,{STAT:{open:t.payload.open,slotVariant:t.payload.slotVariant,slotNumber:t.payload.slotNumber,filter:t.payload.filter}});case"RESET":default:return Ja}}var $a={SHIP:!1,MISC_SLOT:!1,HIGH_SLOT:!1,MID_SLOT:!1,LOW_SLOT:!1,RIG_SLOT:!1,DRONE_SLOT:!1,AMMO:!1};function en(e,t){switch(t.type){case"SHIP":case"MISC_SLOT":case"HIGH_SLOT":case"MID_SLOT":case"LOW_SLOT":case"RIG_SLOT":case"DRONE_SLOT":case"AMMO":return Object(y.a)({},e,Object(O.a)({},t.type,t.payload));default:return e}}function tn(e){var t=Object(n.useState)({type:!1,index:!1}),a=Object(g.a)(t,2),i=a[0],o=a[1],c=Object(n.useReducer)(qa,Xa),l=Object(g.a)(c,2),u=l[0],s=l[1],d=Object(n.useReducer)(Ya,Ja),f=Object(g.a)(d,2),m=f[0],p=f[1],b=Object(n.useReducer)(en,$a),v=Object(g.a)(b,2),h=v[0],O=v[1],y=Object(n.useState)(!1),E=Object(g.a)(y,2),S=E[0],j=E[1],I=Object(n.useState)(!1),L=Object(g.a)(I,2),D=L[0],w=L[1];return Object(n.useEffect)((function(){e.cache.wait("/skillsStaticBoard").then((function(e){return s({type:"SKILL",payload:e})}))}),[]),Object(n.useEffect)((function(){!0===e.open?p({type:"SHIP"}):p({type:"RESET"})}),[e.open]),Object(n.useEffect)((function(){var t=U.apply(u);j(t),w(tt.buildTextFromFit(t)),e.setFit(t),e.setFitID(tt.buildCompareTextFromFit(u))}),[tt.buildCompareTextFromFit(u)]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ua,{expand:e.expand,slotsOpen:m,fit:S,slots:u,activeSlot:i,dispatchListItems:O,dispatchSlotsOpen:p,fitID:e.fitID,cache:e.cache}),r.a.createElement(Kt,{fit:S,slots:u,open:e.open,setOpen:e.setOpen,expand:e.expand,setExpand:e.setExpand,exportFitText:D,slotsOpen:m,dispatchSlotsOpen:p,listItems:h,dispatchListItems:O,dispatchSlots:s,setActiveSlot:o,cache:e.cache}),r.a.createElement(ra,{open:m.STAT.open,dispatchSlotsOpen:p,slot:an(S,m.STAT),cache:e.cache}))}function an(e,t){if(t.slotVariant)switch(t.slotVariant){case"SHIP":return e.ship;case"MISC_SLOT":case"HIGH_SLOT":case"MID_SLOT":case"LOW_SLOT":case"RIG_SLOT":return e[nn(t.slotVariant)][t.slotNumber];default:return}}function nn(e){switch(e){case"SHIP":return"ship";case"MISC_SLOT":return"miscSlots";case"HIGH_SLOT":return"highSlots";case"MID_SLOT":return"midSlots";case"LOW_SLOT":return"lowSlots";case"RIG_SLOT":return"rigSlots";case"DRONE_SLOT":return"droneSlots";default:return}}var rn=a(222),on=r.a.createElement(C.a,null,r.a.createElement("path",{d:"m6.86886,11.73771l1.459,-2.65575c0.01641,0.00001 -0.01638,-0.7213 0.24591,-1.14753c0.2623,-0.42623 0.45902,-0.68852 0.88525,-0.7541c0.42623,-0.06557 -1.01639,-1.01639 -0.09836,-1.96721c0.91803,-0.95082 1.90164,-1.31148 3.2459,-0.55738c1.34426,0.7541 2.78686,2.29506 2.83605,2.29507l0.15574,3.29509c-0.41393,2.35245 -0.7377,3.4918 -0.7459,3.49179c0.0164,0.00001 2.11477,1.01641 2.86886,4.32788l-3.55739,-1.44263c0.01641,0.00001 -2.86884,2.19673 -2.88524,2.19672c0.0164,0.00001 -3.65573,-0.42622 -3.67213,-0.42623c0.0164,0.00001 -0.34425,-2.2295 -0.36065,-2.22951c0.0164,0.00001 2.21312,-2.06556 2.19671,-2.06557l-2.57375,-2.36064z",strokeWidth:"0",stroke:"#000000",fill:"#000000"})),cn=r.a.createElement(C.a,null,r.a.createElement("path",{d:" M 15.023 17.29 Q 13.407 18.645 12.078 18.723 Q 10.593 18.723 8.925 17.29 Q 7.257 15.857 6.788 14.866 L 6.788 5.277 Q 10.198 6.134 12.078 6.137 Q 13.959 6.14 17.212 5.277 L 17.212 14.866 Q 16.638 15.935 15.023 17.29 Z ",fill:"rgb(0,0,0)"})),ln=r.a.createElement(C.a,null,r.a.createElement("path",{d:" M 12.266 19.395 L 8.944 17.478 L 5.623 15.56 L 5.623 11.725 L 5.623 7.89 L 8.944 5.972 L 12.266 4.054 L 15.587 5.972 L 18.908 7.89 L 18.908 11.725 L 18.908 15.56 L 15.587 17.478 L 12.266 19.395 Z ",fill:"none",strokeWidth:"2",stroke:"rgb(0,0,0)"}),r.a.createElement("line",{x1:"6.771",y1:"8.587",x2:"17.862",y2:"14.945",strokeWidth:"1",stroke:"rgb(0,0,0)"}),r.a.createElement("line",{x1:"17.862",y1:"8.587",x2:"6.606",y2:"15.11",strokeWidth:"1",stroke:"rgb(0,0,0)"}),r.a.createElement("line",{x1:"12.266",y1:"5.257",x2:"12.266",y2:"18.33",strokeWidth:"1",stroke:"rgb(0,0,0)"})),un=a(5),sn=a(221);function dn(e){var t=Object(n.useCallback)(Object(un.a)((function(){return{root:{width:"100%",height:"100%",backgroundColor:e.backgroundColor?e.backgroundColor:"#ffffff"},bar:{backgroundColor:e.color?e.color:"#ffffff"}}}))(sn.a),[e.backgroundColor,e.color]);return r.a.createElement(La.a,{style:{height:20,position:"relative"}},r.a.createElement(La.a,{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0}},r.a.createElement(t,{style:{width:"100%",height:"100%"},variant:"determinate",value:e.value})),r.a.createElement(La.a,{style:{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"}},e.Icon,r.a.createElement(Jt.a,Object.assign({style:{fontSize:12,color:"#ffffff"}},e.typographyProps),e.label)))}var fn=Na.a[500],mn=Na.a[200],pn=Ne.a[500],bn=Ne.a[200],vn=vt.a[500],hn=vt.a[200],gn=Ae.a[500],On=Ae.a[200];function yn(e){var t,a,n,i,o,c,l,u,s,d,f,m,p,b,v,h;return r.a.createElement(La.a,{container:!0},r.a.createElement(La.a,{item:!0,xs:12},r.a.createElement(dn,{value:0,label:En(e.resistance,e.active,e.variant),backgroundColor:"#ffffff",Icon:e.Icon,typographyProps:{style:{fontSize:14,fontWeight:700,color:"#000000"}}})),r.a.createElement(La.a,{item:!0,xs:3},r.a.createElement(dn,{value:null===(t=e.resistance)||void 0===t||null===(a=t[e.variant])||void 0===a?void 0:a.EM,label:"".concat(null===(n=e.resistance)||void 0===n||null===(i=n[e.variant])||void 0===i?void 0:i.EM.toFixed(1),"%"),backgroundColor:mn,color:fn})),r.a.createElement(La.a,{item:!0,xs:3},r.a.createElement(dn,{value:null===(o=e.resistance)||void 0===o||null===(c=o[e.variant])||void 0===c?void 0:c.TH,label:"".concat(null===(l=e.resistance)||void 0===l||null===(u=l[e.variant])||void 0===u?void 0:u.TH.toFixed(1),"%"),backgroundColor:bn,color:pn})),r.a.createElement(La.a,{item:!0,xs:3},r.a.createElement(dn,{value:null===(s=e.resistance)||void 0===s||null===(d=s[e.variant])||void 0===d?void 0:d.KI,label:"".concat(null===(f=e.resistance)||void 0===f||null===(m=f[e.variant])||void 0===m?void 0:m.KI.toFixed(1),"%"),backgroundColor:hn,color:vn})),r.a.createElement(La.a,{item:!0,xs:3},r.a.createElement(dn,{value:null===(p=e.resistance)||void 0===p||null===(b=p[e.variant])||void 0===b?void 0:b.EX,label:"".concat(null===(v=e.resistance)||void 0===v||null===(h=v[e.variant])||void 0===h?void 0:h.EX.toFixed(1),"%"),backgroundColor:On,color:gn})))}function En(e,t,a){var n,r;return 0===t["".concat(a,"Bonus")]?"".concat(null===e||void 0===e||null===(n=e[a])||void 0===n?void 0:n.HP.toFixed(0)):"".concat(null===e||void 0===e||null===(r=e[a])||void 0===r?void 0:r.HP.toFixed(0)," +").concat(t["".concat(a,"Bonus")].toFixed(1),"/s")}function Sn(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(La.a,{container:!0},r.a.createElement(yn,{variant:"shield",Icon:cn,resistance:e.stat.defense.resistance,active:e.stat.defense.active}),r.a.createElement(yn,{variant:"armor",Icon:on,resistance:e.stat.defense.resistance,active:e.stat.defense.active}),r.a.createElement(yn,{variant:"structure",Icon:ln,resistance:e.stat.defense.resistance,active:e.stat.defense.active})))}var jn=r.a.createElement(C.a,null,r.a.createElement("line",{x1:"5.284",y1:"12.303",x2:"15.248",y2:"7.431",strokeWidth:"2",stroke:"rgb(0,0,0)",strokeLinecap:"round"}),r.a.createElement("path",{d:" M 7.734 10.073 L 7.761 9.55 L 9.413 8.725 L 9.688 8.092 L 14.835 6 Q 15.523 5.697 16.294 6 Q 17.064 6.303 18.33 8.092 L 16.459 10.514 L 17.174 10.817 L 17.174 11.642 L 16.459 12.303 L 15.908 12.303 L 15.771 12.716 L 14.835 13.404 L 14.835 14.725 L 15.55 15.055 L 15.55 15.633 L 16.459 16.018 L 16.459 16.514 L 11.615 18.798 L 10.486 18.55 L 9.413 18.55 L 8.284 17.807 L 8.284 17.257 L 7.761 16.844 L 9.11 15.633 L 9.688 15.248 L 10.651 14.725 L 10.651 12.716 L 11.45 12.303 L 11.45 11.862 L 10.486 12.303 L 10.651 11.642 L 9.688 12.138 L 8.477 11.862 L 7.734 10.073 Z ",fill:"rgb(0,0,0)"})),In=r.a.createElement(C.a,null,r.a.createElement("path",{d:" M 9.589 13.688 L 9.364 14.101 L 10.819 14.79 L 10.819 15.552 L 8.081 15.552 L 7.343 16.019 L 7.343 17.59 L 16.708 17.59 L 18.766 16.019 L 18.766 15.257 L 17.95 14.79 L 18.553 13.363 L 18.979 12.316 L 7.542 6.41 L 5.021 11.36 L 9.589 13.688 Z ",fill:"rgb(0,0,0)"})),Ln=r.a.createElement(C.a,null,r.a.createElement("path",{d:" M 6.635 7.496 C 7.188 5.819 8.854 4.859 10.353 5.353 C 11.853 5.847 12.621 7.61 12.068 9.288 C 11.515 10.965 9.849 11.925 8.349 11.431 C 6.85 10.937 6.082 9.174 6.635 7.496 Z ",fill:"none",strokeWidth:"2",stroke:"rgb(0,0,0)"}),r.a.createElement("path",{d:" M 19.368 9.482 Q 19.128 8.823 18.536 8.151 L 12.74 7.818 L 11.895 7.426 L 11.532 9.871 L 9.57 11.411 L 7.125 10.596 L 6.129 11.139 L 3.955 10.384 Q 2.899 10.958 2.929 12.679 L 16.634 18.777 L 17.359 17.901 L 18.536 18.264 Q 19.351 17.751 18.989 16.392 L 17.812 16.09 L 17.812 15.426 L 9.027 12.135 L 9.027 11.984 L 10.838 11.984 L 11.895 11.743 L 18.536 12.528 Q 19.294 11.724 19.476 10.898 L 20.8 10.898 Q 21.344 10.203 20.8 9.539 L 19.368 9.482 Z ",fill:"rgb(0,0,0)"})),Dn=function(e){return r.a.createElement(C.a,null,r.a.createElement("path",{d:" M 5.97 12 C 5.97 8.72 8.672 6.057 12 6.057 C 15.328 6.057 18.03 8.72 18.03 12 C 18.03 15.28 15.328 17.943 12 17.943 C 8.672 17.943 5.97 15.28 5.97 12 Z ",fill:"none",strokeWidth:"1",strokeLinecap:"square",stroke:e.color||"#000000"}),r.a.createElement("line",{x1:"7.281",y1:"6.953",x2:"9.328",y2:"9.164",strokeWidth:"2",strokeLinecap:"square",stroke:e.color||"#000000"}),r.a.createElement("line",{x1:"16.719",y1:"6.953",x2:"14.602",y2:"9.164",strokeWidth:"2",strokeLinecap:"square",stroke:e.color||"#000000"}),r.a.createElement("line",{x1:"9.328",y1:"14.789",x2:"7.281",y2:"17.047",strokeLinecap:"square",strokeWidth:"2",stroke:e.color||"#000000"}),r.a.createElement("line",{x1:"14.602",y1:"14.789",x2:"16.719",y2:"17.047",strokeWidth:"2",strokeLinecap:"square",stroke:e.color||"#000000"}))},wn=function(e){return r.a.createElement(C.a,null,r.a.createElement("path",{d:" M 14.484 4.922 L 11.76 11.074 L 15.012 11.074 L 10.441 19.002 L 19.195 9.879 L 14.906 9.879 L 19.635 4.922 L 14.484 4.922 Z ",fill:e.color||"#000000"}),r.a.createElement("line",{x1:"7.041",y1:"6.915",x2:"9.635",y2:"9.728",strokeWidth:"2",stroke:e.color||"#000000"}),r.a.createElement("line",{x1:"9.635",y1:"14.118",x2:"7.041",y2:"17.009",strokeWidth:"2",stroke:e.color||"#000000"}),r.a.createElement("line",{x1:"15.844",y1:"16.281",x2:"16.479",y2:"17.009",strokeWidth:"2",stroke:e.color||"#000000"}))},kn=function(){function e(){Object(m.a)(this,e)}return Object(p.a)(e,null,[{key:"stat",value:function(t){var a=e.capacitor(t);return{damage:e.damage(t),defense:e.defense(t),capacitor:Object(y.a)({},a,{stableLevel:e.capacitor_stableLevel(t,a)}),engineering:e.engineering(t),resource:e.resource(t),miscellaneous:e.miscellaneous(t)}}},{key:"damage",value:function(t){if(!t.highSlots)return{turretLauncherDamage:{max:0,effective:0,alpha:0},turretLauncherRange:[],droneDamage:{max:0,effective:0,alpha:0}};var a=Object(Q.a)(e,xn)[xn](t),n=Object(Q.a)(e,Cn)[Cn](t),r=Object(Q.a)(e,Tn)[Tn](t);return{turretLauncherDamage:[].concat(Object(L.a)(a),Object(L.a)(n)).reduce((function(t,a){var n=Object(Q.a)(e,Nn)[Nn](a.item,a.charge);return{max:t.max+n.max,effective:t.effective+n.effective,alpha:t.alpha+n.alpha}}),{max:0,effective:0,alpha:0}),turretLauncherRange:Object(Q.a)(e,An)[An](a,n),droneDamage:r.reduce((function(t,a){var n=Object(Q.a)(e,Nn)[Nn](a.item,a.item),r=a.item.typeCount;return{max:t.max+n.max*r,practical:t.effective+n.effective*r,alpha:t.alpha+n.alpha}}),{max:0,effective:0,alpha:0})}}},{key:"capacitor",value:function(t){if(!t)return{ambientChargeRate:0,boosterChargeRate:0,activationUseRate:0};var a=[],n=U.mapSlots(t,(function(e){return e}),{isIterate:{highSlots:!0,midSlots:!0,lowSlots:!0}}).reduce((function(t,n){var r=Object(Q.a)(e,Rn)[Rn](n);return r>0&&a.push({typeName:n.item.typeName,capacitorUsePerSec:r,dominID:n.item.domainID}),t+r}),0),r=Object(Q.a)(e,Pn)[Pn](t,25),i=Object(Q.a)(e,_n)[_n](t);return a.push({activationUseRate:n,ambientChargeRate:r,boosterChargeRate:i}),{ambientChargeRate:r,boosterChargeRate:i,activationUseRate:n}}},{key:"capacitor_stableLevel",value:function(t){var a,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(null===(a=t.ship)||void 0===a?void 0:a.typeID))return 0;for(var r=n||e.capacitor(t),i=pt(t.ship,482),o=pt(t.ship,55)/1e3,c=[],l=200;l<1001;l++){var u=i*(l/1e3);c.push({capacitorLevel:l/10,delta:Object(Q.a)(e,Fn)[Fn](i,u,o)+r.boosterChargeRate-r.activationUseRate})}var s=c.sort((function(e,t){return e.delta-t.delta})).filter((function(e){return e.delta>=0}));return void 0===s[0]?0:s[0].capacitorLevel}},{key:"defense",value:function(t){return t&&t.ship?{resistance:Object(Q.a)(e,Wn)[Wn](t),active:Object(Q.a)(e,Bn)[Bn](t)}:{resistance:{armor:{HP:0,EM:0,TH:0,KI:0,EX:0},shield:{HP:0,EM:0,TH:0,KI:0,EX:0},structure:{HP:0,EM:0,TH:0,KI:0,EX:0}},active:{shieldBonus:0,armorBonus:0,structureBonus:0}}}},{key:"engineering",value:function(e){var t;if(!(null===(t=e.ship)||void 0===t?void 0:t.typeID))return{pg:{load:0,output:0},cpu:{load:0,output:0}};var a=pt(e.ship,15),n=pt(e.ship,11),r=pt(e.ship,49),i=pt(e.ship,48);return{pg:{load:Number(a.toFixed(1)),output:n},cpu:{load:Number(r.toFixed(1)),output:i}}}},{key:"resource",value:function(e){if(!e.ship||!e.ship.typeAttributesStats)return{capacity:{turret:0,launcher:0,calibration:0,droneBandwidth:0,droneBay:0,droneActive:5},load:{turret:0,launcher:0,calibration:0,droneBandwidth:0,droneBay:0,droneActive:0}};var t=pt(e.ship,102),a=pt(e.ship,101),n=pt(e.ship,1132),r=pt(e.ship,283),i=pt(e.ship,1271),o=e.highSlots.reduce((function(e,t){var a,n;return!!(null===t||void 0===t||null===(a=t.item)||void 0===a||null===(n=a.typeEffectsStats)||void 0===n?void 0:n.find((function(e){return 42===e.effectID})))&&"offline"!==t.item.typeState?++e:e}),0),c=e.highSlots.reduce((function(e,t){var a,n;return!!(null===t||void 0===t||null===(a=t.item)||void 0===a||null===(n=a.typeEffectsStats)||void 0===n?void 0:n.find((function(e){return 40===e.effectID})))&&"offline"!==t.item.typeState?++e:e}),0),l=e.rigSlots.reduce((function(e,t){var a=pt(t.item,1153);return a&&"offline"!==t.item.typeState?e+a:e}),0),u=e.droneSlots.reduce((function(e,t){var a=pt(t.item,1272);return a&&"activation"===t.item.typeState?e+a*t.item.typeCount:e}),0);return{capacity:{turret:t,launcher:a,calibration:n,droneBay:r,droneBandwidth:i,droneActive:5},load:{turret:o,launcher:c,calibration:l,droneBay:e.droneSlots.reduce((function(e,t){var a=t.item.volume;return a&&"offline"!==t.item.typeState?e+a*t.item.typeCount:e}),0),droneBandwidth:u,droneActive:e.droneSlots.reduce((function(e,t){return"activation"===t.item.typeState?e+(t.item.typeCount||0):e}),0)}}}},{key:"miscellaneous",value:function(t){if(!t.ship)return{scanResolution:0,signatureRadius:0,maximumLockedTarget:0,maximumTargetingRange:0,sensorStrength:{gravimetric:0,magnetometric:0,ladar:0,radar:0},inertialModifier:0,maximumVelocity:0,warpSpeedMultiplier:0,cargoBayCapacity:0};var a=t.ship,n=pt(a,564),r=pt(a,552),i=pt(a,211),o=pt(a,210),c=pt(a,209),l=pt(a,208);return{scanResolution:n,signatureRadius:r,maximumLockedTarget:pt(a,192),maximumTargetingRange:pt(a,76),sensorStrength:{gravimetric:i,magnetometric:o,ladar:c,radar:l},inertialModifier:pt(a,70),maximumVelocity:Object(Q.a)(e,Gn)[Gn](t),warpSpeedMultiplier:pt(a,600),cargoBayCapacity:pt(a.capacity)}}},{key:"getActivationTime",value:function(t,a){if(!t)return{max:0,effective:0};var n=pt(t,1795),r=pt(t,73),i=pt(t,51),o=r||i;if(!n)return{max:o/1e3,effective:o/1e3};var c=t.capacity,l=a.volume,u=pt(t,56),s=u?l*u:0,d=o+(n&&c&&l?n/Math.floor(c/s):0);return Object(Q.a)(e,zn)[zn](t)?U.validateChargeSlot({item:t,charge:a})?{max:o/1e3,effective:d/1e3}:{max:1/0,effective:1/0}:{max:o/1e3,effective:d/1e3}}}]),e}(),xn=Object(K.a)("damage_turrets"),Cn=Object(K.a)("damage_launchers"),Tn=Object(K.a)("damage_drones"),Nn=Object(K.a)("damage_getDamage"),Mn=Object(K.a)("damage_alphaDamage"),An=Object(K.a)("damage_range"),Rn=Object(K.a)("capacitor_getUseRate"),Pn=Object(K.a)("capacitor_getAmbientChargeRate"),_n=Object(K.a)("capacitor_getBoosterChargeRate"),Fn=Object(K.a)("capacitor_getAmbientChargeRateMath"),Wn=Object(K.a)("defense_resistance"),Hn=Object(K.a)("defense_resistance_decimal_fix"),Bn=Object(K.a)("defense_active"),Gn=Object(K.a)("miscellaneous_maximumVelocity"),zn=Object(K.a)("getActivationTime_isTypeNeedCharge");kn.defaultStat={damage:{turretLauncherDamage:{max:0,effective:0,alpha:0},turretLauncherRange:[],droneDamage:{max:0,effective:0,alpha:0}},defense:{resistance:{armor:{HP:0,EM:0,TH:0,KI:0,EX:0},shield:{HP:0,EM:0,TH:0,KI:0,EX:0},structure:{HP:0,EM:0,TH:0,KI:0,EX:0}},active:{shieldBonus:0,armorBonus:0,structureBonus:0}},capacitor:{ambientChargeRate:0,boosterChargeRate:0,activationUseRate:0,stableLevel:0},resource:{capacity:{turret:0,launcher:0,calibration:0,droneBandwidth:0,droneBay:0,droneActive:5},load:{turret:0,launcher:0,calibration:0,droneBandwidth:0,droneBay:0,droneActive:0}},engineering:{pg:{load:0,output:0},cpu:{load:0,output:0}},miscellaneous:{scanResolution:0,signatureRadius:0,maximumLockedTarget:0,maximumTargetingRange:0,sensorStrength:{gravimetric:0,magnetometric:0,ladar:0,radar:0},inertialModifier:0,maximumVelocity:0,warpSpeedMultiplier:0,cargoBayCapacity:0}},Object.defineProperty(kn,xn,{writable:!0,value:function(e){return U.mapSlots(e,(function(e){var t,a,n=!!(null===e||void 0===e||null===(t=e.item)||void 0===t||null===(a=t.typeEffectsStats)||void 0===a?void 0:a.find((function(e){return 42===e.effectID}))),r="activation"===e.item.typeState;return n&&U.validateChargeSlot(e)&&r?e:void 0}),{isIterate:{highSlots:!0}}).filter((function(e){return!!e}))}}),Object.defineProperty(kn,Cn,{writable:!0,value:function(e){return U.mapSlots(e,(function(e){var t,a,n=!!(null===e||void 0===e||null===(t=e.item)||void 0===t||null===(a=t.typeEffectsStats)||void 0===a?void 0:a.find((function(e){return 40===e.effectID}))),r="activation"===e.item.typeState;return n&&U.validateChargeSlot(e)&&r?e:void 0}),{isIterate:{highSlots:!0}}).filter((function(e){return!!e}))}}),Object.defineProperty(kn,Tn,{writable:!0,value:function(e){return U.mapSlots(e,(function(e){return"activation"===e.item.typeState?e:void 0}),{isIterate:{droneSlots:!0}}).filter((function(e){return!!e}))}}),Object.defineProperty(kn,Nn,{writable:!0,value:function(e,t){var a=kn.getActivationTime(e,t),n=Object(Q.a)(kn,Mn)[Mn](e,t);return{max:n/a.max||0,effective:n/a.effective||0,alpha:n}}}),Object.defineProperty(kn,Mn,{writable:!0,value:function(e,t){var a=pt(e,64),n=pt(t,114)+pt(t,118)+pt(t,117)+pt(t,116);return a?a*n:n}}),Object.defineProperty(kn,An,{writable:!0,value:function(e,t){var a=e.reduce((function(e,t){var a=pt(t.item,54),n=pt(t.item,158);if(!a||!n)return e;var r=e.find((function(e){return e.optimalRange===a&&e.falloffRange===n}));return r?r.debug.push(t):e.push({optimalRange:a,falloffRange:n,debug:[t]}),e}),[]),n=t.reduce((function(e,t){var a=pt(t.charge,37),n=pt(t.charge,281);if(!a||!n)return e;var r=a*(n/1e3),i=e.find((function(e){return e.optimalRange===r}));return i?i.debug.push(t):e.push({optimalRange:r,falloffRange:0,debug:[t]}),e}),[]);return[].concat(Object(L.a)(a),Object(L.a)(n))}}),Object.defineProperty(kn,Rn,{writable:!0,value:function(e){if("activation"!==e.item.typeState)return 0;var t=pt(e.item,6);return void 0===t?0:t/kn.getActivationTime(e.item,e.charge).effective}}),Object.defineProperty(kn,Pn,{writable:!0,value:function(e,t){var a=pt(e.ship,482),n=pt(e.ship,55)/1e3,r=a*t/100;return Object(Q.a)(kn,Fn)[Fn](a,r,n)}}),Object.defineProperty(kn,_n,{writable:!0,value:function(e){return U.mapSlots(e,(function(e){return e}),{isIterate:{midSlots:!0}}).filter((function(e){var t;return!!(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.typeEffectsStats)&&e.item.typeEffectsStats.find((function(e){return 48===e.effectID}))})).reduce((function(e,t){var a=kn.getActivationTime(t.item,t.charge);return e+(pt(t.charge,67)/a.effective||0)}),0)}}),Object.defineProperty(kn,Fn,{writable:!0,value:function(e,t,a){return 10*e/a*(Math.sqrt(t/e)-t/e)||0}}),Object.defineProperty(kn,Wn,{writable:!0,value:function(e){if(!e.ship||!e.ship.typeAttributesStats)return{armor:{HP:0,EM:0,TH:0,KI:0,EX:0},shield:{HP:0,EM:0,TH:0,KI:0,EX:0},structure:{HP:0,EM:0,TH:0,KI:0,EX:0}};var t=e.ship.typeAttributesStats,a=t.find((function(e){return 265===e.attributeID})),n=t.find((function(e){return 267===e.attributeID})),r=t.find((function(e){return 270===e.attributeID})),i=t.find((function(e){return 269===e.attributeID})),o=t.find((function(e){return 268===e.attributeID})),c=t.find((function(e){return 263===e.attributeID})),l=t.find((function(e){return 271===e.attributeID})),u=t.find((function(e){return 274===e.attributeID})),s=t.find((function(e){return 273===e.attributeID})),d=t.find((function(e){return 272===e.attributeID})),f=t.find((function(e){return 9===e.attributeID})),m=t.find((function(e){return 113===e.attributeID})),p=t.find((function(e){return 110===e.attributeID})),b=t.find((function(e){return 109===e.attributeID})),v=t.find((function(e){return 111===e.attributeID}));return{armor:{HP:a.value,EM:Object(Q.a)(kn,Hn)[Hn](n),TH:Object(Q.a)(kn,Hn)[Hn](r),KI:Object(Q.a)(kn,Hn)[Hn](i),EX:Object(Q.a)(kn,Hn)[Hn](o)},shield:{HP:c.value,EM:Object(Q.a)(kn,Hn)[Hn](l),TH:Object(Q.a)(kn,Hn)[Hn](u),KI:Object(Q.a)(kn,Hn)[Hn](s),EX:Object(Q.a)(kn,Hn)[Hn](d)},structure:{HP:f.value,EM:Object(Q.a)(kn,Hn)[Hn](m),TH:Object(Q.a)(kn,Hn)[Hn](p),KI:Object(Q.a)(kn,Hn)[Hn](b),EX:Object(Q.a)(kn,Hn)[Hn](v)}}}}),Object.defineProperty(kn,Hn,{writable:!0,value:function(e){return 100-100*e.value}}),Object.defineProperty(kn,Bn,{writable:!0,value:function(e){var t={shieldBonus:0,armorBonus:0,structureBonus:0};return e.ship&&e.ship.typeAttributesStats?(U.mapSlots(e,(function(e){if(e.item.typeAttributesStats){var a=pt(e.item,73),n=pt(e.item,68);if(n)t.shieldBonus+=n/a*1e3;else{var r=pt(e.item,84);if(r)t.armorBonus+=r/a*1e3;else{var i=pt(e.item,83);i&&(t.structureBonus+=i/a*1e3)}}}}),{isIterate:{midSlots:!0,lowSlots:!0}}),t):t}}),Object.defineProperty(kn,Gn,{writable:!0,value:function(e){var t=U.mapSlots(e,(function(e){var t,a,n=!!(null===(t=e.item)||void 0===t||null===(a=t.typeEffectsStats)||void 0===a?void 0:a.find((function(e){return[6730,6731].includes(e.effectID)})));return"activation"===e.item.typeState&&n?e.item:void 0}),{isIterate:{midSlots:!0}}).filter((function(e){return!!e})),a=pt(e.ship,37);if(0===t.length)return a;var n=pt(t[0],20)/100,r=pt(t[0],567),i=r/3,o=pt(e.ship,4);return a*(1+n*r/(U.mapSlots(e,(function(e){return e}),{isIterate:{highSlots:!0,midSlots:!0,lowSlots:!0}}).reduce((function(e,t){return t.item.mass?e+t.item.mass:e}),0)+i+o))}}),Object.defineProperty(kn,zn,{writable:!0,value:function(e){if(!e||!e.typeEffectsStats)return!1;var t=[42,40,48];return e.typeEffectsStats.reduce((function(e,a){return!!t.includes(a.effectID)||e}),!1)}});var Vn=Object(E.a)((function(e){return{root:{padding:0,marginBottom:8,width:"100%",paddingLeft:10},boldTypography:{fontSize:14,fontWeight:700}}})),Qn=function(e){var t=Vn();return r.a.createElement(La.a,{style:{flexBasis:140,maxWidth:140}},r.a.createElement(Yt.a,{label:r.a.createElement(Jt.a,{className:t.boldTypography,noWrap:!0},e.children),value:e.value||0,InputProps:{readOnly:!0,disableUnderline:!0},inputProps:{style:{padding:"2px 0px 2px 0px",fontSize:14,fontWeight:700}}}))};function Kn(e){var t,a,i,o,c,l,u,s=Vn(),d=Object(n.useState)(kn.defaultStat.miscellaneous),f=Object(g.a)(d,2),m=f[0],p=f[1];return Object(n.useEffect)((function(){p(e.stat.miscellaneous)}),[e.stat.miscellaneous]),r.a.createElement(D.a,{className:s.root,key:"onlyOne"},r.a.createElement(La.a,{justify:"center",container:!0},r.a.createElement(Qn,{value:m.maximumLockedTarget},"Max Locked Target"),r.a.createElement(Qn,{value:m.maximumTargetingRange},"Max Trageting Range (m)"),r.a.createElement(Qn,{value:m.scanResolution},"Scan Resolution (mm)"),r.a.createElement(Qn,{value:null===(t=m.sensorStrength.gravimetric)||void 0===t?void 0:t.toFixed(1)},"Gravimetric (point)"),r.a.createElement(Qn,{value:null===(a=m.sensorStrength.magnetometric)||void 0===a?void 0:a.toFixed(1)},"Magnetometric (point)"),r.a.createElement(Qn,{value:null===(i=m.sensorStrength.ladar)||void 0===i?void 0:i.toFixed(1)},"Ladar (point)"),r.a.createElement(Qn,{value:null===(o=m.sensorStrength.radar)||void 0===o?void 0:o.toFixed(1)},"Radar (point)"),r.a.createElement(Qn,{value:null===(c=m.maximumVelocity)||void 0===c?void 0:c.toFixed(2)},"Max Velocity (m/sec)"),r.a.createElement(Qn,{value:null===(l=m.inertialModifier)||void 0===l?void 0:l.toFixed(6)},"Inertia Modifier (x)"),r.a.createElement(Qn,{value:m.warpSpeedMultiplier},"Warp Speed Modifier (x)"),r.a.createElement(Qn,{value:null===(u=m.signatureRadius)||void 0===u?void 0:u.toFixed(2)},"Signature Radius (m)"),r.a.createElement(La.a,{style:{flexBasis:140},item:!0})))}var Un=function(e){return r.a.createElement(dn,{value:0,label:e.label,Icon:r.a.createElement(x.a,{title:"Turret Hardpoints",placement:"left",arrow:!0},jn),typographyProps:{style:{fontSize:14,fontWeight:700,color:"#000000"}}})},Zn=function(e){return r.a.createElement(dn,{value:0,label:e.label,Icon:r.a.createElement(x.a,{title:"Launcher Hardpoints",placement:"left",arrow:!0},In),typographyProps:{style:{fontSize:14,fontWeight:700,color:"#000000"}}})},Xn=function(e){return r.a.createElement(dn,{value:0,label:e.label,Icon:r.a.createElement(x.a,{title:"Calibration",placement:"left",arrow:!0},Ln),typographyProps:{style:{fontSize:14,fontWeight:700,color:"#000000"}}})},qn=function(e){return r.a.createElement(dn,{value:e.value,label:e.label,Icon:r.a.createElement(x.a,{title:"Drone Bandwidth",placement:"left",arrow:!0},r.a.createElement("div",{style:{height:24}},r.a.createElement(wn,{color:e.isError?Ne.a[500]:"#000000"}))),typographyProps:{style:{fontSize:14,fontWeight:700,color:e.isError?Ne.a[500]:"#000000"}}})},Jn=function(e){return r.a.createElement(dn,{value:e.value,label:e.label,Icon:r.a.createElement(x.a,{title:"Drone Bay",placement:"left",arrow:!0},r.a.createElement("div",{style:{height:24}},r.a.createElement(Dn,{color:e.isError?Ne.a[500]:"#000000"}))),typographyProps:{style:{fontSize:14,fontWeight:700,color:e.isError?Ne.a[500]:"#000000"}}})},Yn=Object(E.a)((function(e){return{root:{width:"100%",padding:0,margin:0},rootChild:{width:"100%",padding:"0px 0px 0px 0px"},expand:{transform:"rotate(0deg)",right:"10%",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{right:"10%",transform:"rotate(180deg)"},nested:{padding:0,margin:0,backgroundColor:"#F5F5F5"}}}));function $n(e){var t=Yn(),a=Object(n.useState)(!0),i=Object(g.a)(a,2),o=i[0],c=i[1],l=Object(n.useState)(kn.defaultStat.resource.load),u=Object(g.a)(l,2),s=u[0],d=u[1],f=Object(n.useState)(kn.defaultStat.resource.capacity),m=Object(g.a)(f,2),p=m[0],b=m[1];Object(n.useEffect)((function(){d(e.stat.resource.load),b(e.stat.resource.capacity)}),[e.stat]);var v=Object(n.useCallback)((function(){c(!o)}),[o]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ia.a,{className:t.root},r.a.createElement(D.a,{className:t.rootChild,dense:!0,onClick:v},r.a.createElement(La.a,{container:!0,item:!0,alignContent:"center"},r.a.createElement(La.a,{item:!0,xs:4,sm:2},r.a.createElement(Un,{label:"".concat(s.turret,"/").concat(p.turret)})),r.a.createElement(La.a,{item:!0,xs:4,sm:2},r.a.createElement(Zn,{label:"".concat(s.launcher,"/").concat(p.launcher)})),r.a.createElement(La.a,{item:!0,xs:4,sm:2},r.a.createElement(Xn,{label:"".concat(s.calibration,"/").concat(p.calibration)})),r.a.createElement(La.a,{item:!0,xs:6,sm:3},r.a.createElement(Jn,{value:s.droneBay/p.droneBay,label:"".concat(s.droneBay,"/").concat(p.droneBay,"m3"),isError:s.droneBay>p.droneBay})),r.a.createElement(La.a,{item:!0,xs:6,sm:3},r.a.createElement(qn,{value:s.droneBandwidth/p.droneBandwidth,label:"".concat(s.droneBandwidth,"/").concat(p.droneBandwidth,"Mbit/s"),isError:s.droneBandwidth>p.droneBandwidth})))),r.a.createElement(oa.a,{in:o,timeout:"auto"},r.a.createElement(Kn,{stat:e.stat}))))}var er=r.a.createElement(C.a,null,r.a.createElement("path",{d:" M 14.104 8.315 L 14.182 8.315 L 14.182 8.315 Q 14.328 8.013 14.606 7.554 L 14.606 7.554 L 14.606 7.554 Q 14.885 7.095 15.139 6.841 L 15.139 6.841 L 17.619 6.841 L 17.619 6.841 Q 17.18 7.651 16.726 8.828 L 16.726 8.828 L 16.726 8.828 Q 16.271 10.005 16.018 11.177 L 16.018 11.177 L 15.363 14.302 L 15.363 14.302 Q 15.305 14.595 15.305 14.819 L 15.305 14.819 L 15.305 14.819 Q 15.305 15.454 15.9 15.454 L 15.9 15.454 L 15.9 15.454 Q 16.252 15.454 16.535 15.337 L 16.535 15.337 L 16.535 17.661 L 16.535 17.661 Q 15.92 17.954 14.924 17.954 L 14.924 17.954 L 14.924 17.954 Q 12.98 17.954 12.541 16.343 L 12.541 16.343 L 12.463 16.343 L 12.463 16.343 Q 11.672 17.271 10.964 17.612 L 10.964 17.612 L 10.964 17.612 Q 10.256 17.954 9.357 17.954 L 9.357 17.954 L 9.357 17.954 Q 7.941 17.954 7.16 16.914 L 7.16 16.914 L 7.16 16.914 Q 6.379 15.874 6.379 13.999 L 6.379 13.999 L 6.379 13.999 Q 6.379 11.929 7.033 10.234 L 7.033 10.234 L 7.033 10.234 Q 7.688 8.54 8.869 7.588 L 8.869 7.588 L 8.869 7.588 Q 10.051 6.636 11.516 6.636 L 11.516 6.636 L 11.516 6.636 Q 12.385 6.636 12.995 7.017 L 12.995 7.017 L 12.995 7.017 Q 13.605 7.397 14.104 8.315 L 14.104 8.315 L 14.104 8.315 Z  M 10.656 15.581 L 10.656 15.581 L 10.656 15.581 Q 11.408 15.581 11.975 14.893 L 11.975 14.893 L 11.975 14.893 Q 12.541 14.204 12.868 12.891 L 12.868 12.891 L 12.868 12.891 Q 13.195 11.577 13.195 10.737 L 13.195 10.737 L 13.195 10.737 Q 13.195 9.956 12.883 9.487 L 12.883 9.487 L 12.883 9.487 Q 12.57 9.019 11.936 9.019 L 11.936 9.019 L 11.936 9.019 Q 11.242 9.019 10.651 9.683 L 10.651 9.683 L 10.651 9.683 Q 10.061 10.347 9.709 11.445 L 9.709 11.445 L 9.709 11.445 Q 9.357 12.544 9.357 13.716 L 9.357 13.716 L 9.357 13.716 Q 9.357 14.683 9.675 15.132 L 9.675 15.132 L 9.675 15.132 Q 9.992 15.581 10.656 15.581 Z ",fill:"rgb(0,0,0)"})),tr=function(e){return r.a.createElement(C.a,null,r.a.createElement("line",{x1:"7.281",y1:"6.953",x2:"10.652",y2:"10.558",strokeWidth:"2",stroke:e.color}),r.a.createElement("line",{x1:"16.719",y1:"6.953",x2:"13.348",y2:"10.558",strokeWidth:"2",stroke:e.color}),r.a.createElement("line",{x1:"10.652",y1:"13.442",x2:"7.281",y2:"17.047",strokeWidth:"2",stroke:e.color}),r.a.createElement("line",{x1:"13.348",y1:"13.442",x2:"16.719",y2:"17.047",strokeWidth:"2",stroke:e.color}),r.a.createElement("path",{d:" M 9.725 12 L 12 9.725 L 14.275 12 L 12 14.275 L 9.725 12 Z ",fill:"rgb(255,255,255)"}))},ar=Object(E.a)((function(e){return{rootPostIt:{position:"absolute",left:0},root:{width:"100%",padding:0},rootDiv:{padding:0,width:"100%",height:52,position:"relative"},label:{position:"absolute",top:2,left:6,fontSize:11,color:"#ffffff",fontWeight:700}}})),nr=function(e){var t=ar();return r.a.createElement("div",{className:t.rootPostIt,style:{width:"".concat(e.share||0,"%"),height:13*e.index+22,borderRight:"solid 1px ".concat(e.color)}},r.a.createElement("div",{style:{backgroundColor:e.color,height:20}}),r.a.createElement("div",{style:{height:13*e.index}}),e.children)},rr=function(e){return r.a.createElement(nr,{share:e.share.optimalRangeShare,index:0,color:Me.a[500]},r.a.createElement(Jt.a,{style:{fontSize:14,fontWeight:700},align:"right"},"".concat((e.share.optimalRange/1e3).toFixed(1),"KM")))},ir=function(e){return e.share.falloffRange>0&&r.a.createElement(nr,{share:e.share.falloffRangeShare,index:1,color:Ae.a[500]},r.a.createElement(Jt.a,{style:{fontSize:14,fontWeight:700},align:"right"},"".concat(((e.share.optimalRange+e.share.falloffRange)/1e3).toFixed(1),"KM")))};function or(e){var t=ar(),a=Object(n.useState)([]),i=Object(g.a)(a,2),o=i[0],c=i[1];return Object(n.useEffect)((function(){c(function(e){var t=e.reduce((function(e,t){var a=t.optimalRange+t.falloffRange;return a>e?a:e}),0);return e.map((function(e){return Object(y.a)({},e,{optimalRangeShare:e.optimalRange/t*100,falloffRangeShare:(e.falloffRange+e.optimalRange)/t*100})}))}(e.stat.damage.turretLauncherRange))}),[e.stat.damage.turretLauncherRange]),o.map((function(e){return r.a.createElement(D.a,{className:t.root,key:"".concat(e.optimalRangeShare,"/").concat(e.falloffRangeShare)},r.a.createElement("div",{className:t.rootDiv},r.a.createElement(nr,{share:100,index:2,color:vt.a[200]}),r.a.createElement(ir,{share:e}),r.a.createElement(rr,{share:e}),r.a.createElement(Jt.a,{className:t.label},"".concat(e.debug[0].item.typeName," - ").concat(e.debug[0].charge.typeName))))}))}var cr=function(e){return r.a.createElement(dn,{value:0,label:e.label,backgroundColor:"#ffffff",Icon:r.a.createElement(x.a,{title:"Weapon DPS",placement:"left",arrow:!0},jn),typographyProps:{style:{fontSize:14,fontWeight:700,color:"#000000"}}})},lr=function(e){return r.a.createElement(dn,{value:0,label:e.label,backgroundColor:"#ffffff",Icon:r.a.createElement(x.a,{title:"Alpha Damage",placement:"left",arrow:!0},er),typographyProps:{style:{fontSize:14,fontWeight:700,color:"#000000"}}})},ur=function(e){return r.a.createElement(dn,{value:0,label:e.label,backgroundColor:"#ffffff",Icon:r.a.createElement(x.a,{title:"Drone DPS",placement:"left",arrow:!0},r.a.createElement("div",{style:{height:24}},r.a.createElement(tr,{color:e.isError?Ne.a[500]:"#000000"}))),typographyProps:{style:{fontSize:14,fontWeight:700,color:e.isError?Ne.a[500]:"#000000"}}})},sr=Object(E.a)((function(e){return{root:{width:"100%",padding:0,margin:0},rootChild:{height:20,width:"100%",padding:"0px 0px 0px 0px"},nested:{padding:0,margin:0}}}));function dr(e){var t=sr(),a=Object(n.useState)(!0),i=Object(g.a)(a,2),o=i[0],c=i[1],l=Object(n.useCallback)((function(){c(!o)}),[o]);return r.a.createElement(La.a,{container:!0},r.a.createElement(ia.a,{className:t.root},r.a.createElement(D.a,{className:t.rootChild,dense:!0,onClick:l},r.a.createElement(La.a,{item:!0,xs:1}),r.a.createElement(La.a,{item:!0,xs:4},r.a.createElement(cr,{label:"".concat(e.stat.damage.turretLauncherDamage.effective.toFixed(0))})),r.a.createElement(La.a,{item:!0,xs:2},r.a.createElement(lr,{label:"".concat(e.stat.damage.turretLauncherDamage.alpha.toFixed(0))})),r.a.createElement(La.a,{item:!0,xs:4},r.a.createElement(ur,{label:"".concat(e.stat.damage.droneDamage.max.toFixed(0)),isError:e.stat.resource.load.droneActive>e.stat.resource.capacity.droneActive})),r.a.createElement(La.a,{item:!0,xs:1})),r.a.createElement(oa.a,{in:o,timeout:"auto"},r.a.createElement(or,{stat:e.stat}))))}var fr=a(80),mr=a.n(fr),pr=Na.a[500],br=Na.a[200],vr=Ne.a[500],hr=Ne.a[200],gr=function(e){return r.a.createElement(dn,{value:Er(e.load,e.output),label:"".concat(Sr(e.load),"/").concat(Sr(e.output),"tf"),backgroundColor:br,color:pr,Icon:Er(e.load,e.output)>=100&&r.a.createElement(mr.a,{style:{color:"#ffffff"},fontSize:"small"})})},Or=function(e){return r.a.createElement(dn,{value:Er(e.load,e.output),label:"".concat(Sr(e.load),"/").concat(Sr(e.output),"MW"),backgroundColor:hr,color:vr,Icon:Er(e.load,e.output)>=100&&r.a.createElement(mr.a,{style:{color:"#ffffff"},fontSize:"small"})})};function yr(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(La.a,{container:!0},r.a.createElement(La.a,{item:!0,xs:12},r.a.createElement(gr,{load:e.stat.engineering.cpu.load,output:e.stat.engineering.cpu.output}),r.a.createElement(Or,{load:e.stat.engineering.pg.load,output:e.stat.engineering.pg.output}))))}function Er(e,t){if(!e||!t)return 0;if(e.constructor!==Number||t.constructor!==Number)return 0;var a=Number(e/t*100);return a>=100?100:a}function Sr(e){return e&&e.constructor===Number?e:0}var jr=r.a.createElement(C.a,null,r.a.createElement("path",{d:" M 9.518 3.357 L 4.172 12.911 Q 5.394 15.954 9.319 16.238 L 15.148 6.712 Q 12.987 3.527 9.518 3.357 Z ",fill:"rgb(0,0,0)"}),r.a.createElement("path",{d:" M 19.828 6.712 L 12.42 6.712 L 8.991 14.346 L 12.159 14.346 L 5.096 26.546 L 19.375 11.663 L 15.058 11.663 L 19.828 6.712 Z ",fill:"rgb(0,0,0)",strokeWidth:"1.5",stroke:"rgb(255,255,255)"})),Ir=Ae.a[500],Lr=Ae.a[200],Dr=Object(E.a)((function(e){return{tooltip:{maxWidth:80}}}));function wr(e){var t=Dr();return r.a.createElement(r.a.Fragment,null,r.a.createElement(dn,{value:0,label:"".concat((e.stat.capacitor.ambientChargeRate+e.stat.capacitor.boosterChargeRate-e.stat.capacitor.activationUseRate).toFixed(2),"GJ/s"),backgroundColor:"#ffffff",Icon:r.a.createElement(x.a,{classes:{tooltip:t.tooltip},title:"Passive +".concat(e.stat.capacitor.ambientChargeRate.toFixed(2)," \n            Active +").concat(e.stat.capacitor.boosterChargeRate.toFixed(2)," \n            Active -").concat(e.stat.capacitor.activationUseRate.toFixed(2)),placement:"left",arrow:!0},jr),typographyProps:{style:{fontSize:14,fontWeight:700,color:"#000000"}}}),r.a.createElement(dn,{value:e.stat.capacitor.stableLevel,label:"".concat(e.stat.capacitor.stableLevel,"%"),backgroundColor:Lr,color:Ir}))}function kr(e){return Object(n.useEffect)((function(){e.setStat(kn.stat(e.fit))}),[e.fitID]),r.a.createElement(r.a.Fragment,null,r.a.createElement($n,e),r.a.createElement(dr,e),r.a.createElement(wr,e),r.a.createElement(Sn,e),r.a.createElement(yr,e))}var xr=function(e){var t,a;return r.a.createElement(I.a,{style:{height:70},fullWidth:!0,onClick:function(){return e.setOpen(!e.open)}},r.a.createElement(La.a,{item:!0,xs:12},r.a.createElement(Jt.a,{style:{fontSize:26,fontWeight:1e3,letterSpacing:-1.5,lineHeight:1,color:(null===(t=e.fit.ship)||void 0===t?void 0:t.typeName)?"#000000":vt.a[200]},align:"center"},(null===(a=e.fit.ship)||void 0===a?void 0:a.typeName)||"CLICK HERE TO START FITTING")))};function Cr(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),i=a[0],o=a[1],c=Object(n.useState)(!1),l=Object(g.a)(c,2),u=l[0],s=l[1],d=Object(n.useState)(!0),f=Object(g.a)(d,2),m=f[0],p=f[1],b=Object(n.useState)(!(window.innerWidth<1e3)),v=Object(g.a)(b,2),h=v[0],O=v[1],y=Object(n.useState)(kn.defaultStat),E=Object(g.a)(y,2),S=E[0],j=E[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(rn.a,{style:{width:"85%",minWidth:300,maxWidth:600},elevation:3},r.a.createElement(xr,{fit:i,open:m,setOpen:p}),r.a.createElement(kr,{fit:i,fitID:u,stat:S,setStat:j})),r.a.createElement(tn,{open:m,setOpen:p,expand:h,setExpand:O,fitID:u,setFitID:s,setFit:o,cache:e.cache}))}var Tr=a(121),Nr=a(117),Mr=a.n(Nr),Ar=function(e){return r.a.createElement(Tr.a,{elevation:2},r.a.createElement(j.a,{variant:"text"},r.a.createElement(I.a,{href:"https://github.com/tiktrimo/EVE-Fitting.js",target:"_blank",color:"primary"},r.a.createElement(Mr.a,null)),r.a.createElement(I.a,{href:"https://github.com/tiktrimo/EVE-Fitting.js/issues",target:"_blank",color:"primary"},"BUG REPORT"),r.a.createElement(I.a,{href:"https://github.com/tiktrimo/EVE-Fitting.js/blob/master/DOCS/DOCS.md",target:"_blank",color:"primary"},"DOCS")))};function Rr(e){var t=Object(n.useState)(0),a=Object(g.a)(t,2),i=a[0],o=a[1];return Object(n.useEffect)((function(){o(window.innerWidth);var e=function(e){o(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),r.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse"}},r.a.createElement(La.a,{style:{width:i<1e3?"100%":i-600,margin:0},container:!0,spacing:3},r.a.createElement(La.a,{xs:12,container:!0,item:!0,justify:"center"}),r.a.createElement(La.a,{xs:12,container:!0,item:!0,justify:"center"},r.a.createElement(Cr,{cache:e.cache})),r.a.createElement(La.a,{xs:12,container:!0,item:!0,justify:"center"},r.a.createElement(Ar,null))))}var Pr=new v(3600);function _r(e){return Object(n.useEffect)((function(){Pr.get("/marketCategories",(function(){return Hr.ref("/marketCategories.json").getDownloadURL().then(function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).then((function(e){return h.a.decompress(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}),[]),Object(n.useEffect)((function(){Pr.get("/typeIDsTable",(function(){return Hr.ref("/listInvTypesTable.json").getDownloadURL().then(function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).then((function(e){return h.a.decompress(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}),[]),Object(n.useEffect)((function(){Pr.get("/skillsStaticBoard",(function(){return Hr.ref("/skillsStaticBoard.json").getDownloadURL().then(function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).then((function(e){return h.a.decompress(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}),[]),Object(n.useEffect)((function(){Pr.get("/attributesCategories",(function(){return Hr.ref("/attributesCategories.json").getDownloadURL().then(function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).then((function(e){return h.a.decompress(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Rr,{cache:Pr}))}u.initializeApp({apiKey:"AIzaSyD9JKzskuYHt0_QQzfVTf1best1LIV_aEc",authDomain:"evefittingjs.firebaseapp.com",databaseURL:"https://evefittingjs.firebaseio.com",projectId:"evefittingjs",storageBucket:"evefittingjs.appspot.com",messagingSenderId:"50378609544",appId:"1:50378609544:web:a183550dc926c774d4a03d",measurementId:"G-9WGWL8V4F4"});var Fr=u.database(),Wr=u.analytics(),Hr=u.storage();Wr.logEvent("pageLoad",{type:"log"});var Br=Object(c.a)({palette:{primary:{light:"#6d6d6d",main:"#424242",dark:"#1b1b1b"}}});o.a.render(r.a.createElement(l.a,{theme:Br},r.a.createElement(_r,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[128,1,2]]]);
//# sourceMappingURL=main.9a91c0e9.chunk.js.map